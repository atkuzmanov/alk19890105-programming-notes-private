window.subscribersApp=window.subscribersApp||{},window.subscribersApp.siteUUID=window.subscribersSiteId,window.subscribersApp.setServiceWorkerPath=function(){return window.subscribersServiceWorkerPath?window.subscribersServiceWorkerPath:window.Squarespace?"/scripts/firebase-messaging-sw.js":"/firebase-messaging-sw.js"},window.subscribersApp.subscribeUrl="https://hi.subscribers.com/subscribe",window.subscribersApp.subscribersSubscribeUrl="https://subscribe.subscribers.com/api/v1/subscriptions/subscribe",window.subscribersApp.unsubscribersSubscribeUrl="https://subscribe.subscribers.com/api/v1/subscriptions/unsubscribe",window.subscribersApp.subscribersSyncUrl="https://subscribe.subscribers.com/api/v1/subscriptions/sync",window.subscribersApp.firebaseID="963812740552",window.subscribersApp.appleAPNEndpoint="https://apn.subscribers.com/apn",window.subscribersApp.serviceWorkerPath=window.subscribersApp.setServiceWorkerPath(),window.subscribersApp.publicVAPIDKey="BMZD6yIrbCTqDSNJ4qD3YuI4pa5p0qDPSIsD7PyLPBQPA2SgTQgprPZZHspwF2A4MrK0xZ9uQjFnVhH5RJUkIMQ",window.subscribersApp.keyValueDatabaseUrl="https://test-c44fe.firebaseio.com/",window.subscribersApp.baseConfigUrl="https://cdn.subscribers.com/config/",window.subscribersApp.subscribersHomePage="https://subscribers.com",window.subscribersApp.styleSheetLocation="https://cdn.subscribers.com/assets/subscribers.css",window.subscribersApp.clickServerSuffix="subscribers.com",window.subscribersApp.trackingUrl="https://hi.subscribers.com",window.subscribersApp.version="1.5.1",window.subscribersApp.geolocationUrl="https://pro.ip-api.com/json?key=pAcPOWCUJWo5Gcp",window.subscribersApp.clickServer=function(){return"https://"+window.subscribersApp.effectiveSiteConfig.subdomain+"."+window.subscribersApp.clickServerSuffix},window.subscribersApp.fetchConfig=function(){var e=window.subscribersApp.baseConfigUrl+window.subscribersSiteId+".json";return window.subscribersApp.getGeolocation().then(function(e){window.subscribersApp.geolocation=e}),window.subscribersApp.ajax(e,"GET").then(function(e){return window.subscribersApp.configuration=e,window.subscribersApp.effectiveSiteConfig=window.subscribersApp.fillSiteConfig(window.subscribersApp.configuration.site),window.subscribersApp.effectiveChickletConfig=window.subscribersApp.fillChickletConfig(window.subscribersApp.configuration.chicklet),window.subscribersApp.effectiveModalConfig=window.subscribersApp.fillModalConfig(window.subscribersApp.configuration.modal),window.subscribersApp.appleWebsitePushID=window.subscribersApp.effectiveSiteConfig.appleWebsitePushId,window.subscribersApp.effectiveSiteConfig})},window.subscribersApp.vendorId=window.safari?"1":"0",window.subscribersApp.service=window.safari?"apple":"firebase",window.subscribersApp.ajax=function(e,s,i){return new Promise(function(r,n){var o=new XMLHttpRequest;o.onload=function(){200==this.status?r(JSON.parse(this.responseText)):n(o.status)},o.onerror=function(){n(o.status)},o.open(s,e,!0),e.includes("subscribersdemo")&&o.setRequestHeader("Authorization","Basic c3RhZ2U6dGVzdA=="),"GET"!==s?o.send(JSON.stringify(i)):o.send()})},window.subscribersApp.ajaxPost=function(e,s){return new Promise(function(i,r){var n=new XMLHttpRequest;n.onload=function(){200==this.status?i(JSON.parse(this.responseText)):201==this.status?i("Created"):r(n.status)},n.onerror=function(){r(n.status)},n.open("POST",e,!0),n.send(JSON.stringify(s))})},window.subscribersApp.getCookie=function(e){for(var s=e+"=",i=decodeURIComponent(document.cookie).split(";"),r=0;r<i.length;r++){for(var n=i[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(s))return n.substring(s.length,n.length)}return null},window.subscribersApp.setCookie=function(e){document.cookie=e+";path=/"},window.subscribersApp.loadScript=function(e){return new Promise(function(s,i){var r=document.createElement("script");r.type="text/javascript",r.onload=s,r.onerror=i,r.src=e,document.getElementsByTagName("body")[0].appendChild(r)})},window.subscribersApp.loadStylesheet=function(e){return new Promise(function(s,i){var r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.onload=s,r.onerror=i,r.href=e,document.getElementsByTagName("head")[0].appendChild(r)})},window.subscribersApp.isIOS=function(e){return/(iPhone|iPad|iPod)/i.test(e)},window.subscribersApp.calculator=function(e){var s=" readers",i=1,r="",n=e||0;return n>=1e3&&n<1e6?(r="K",i=1e3):n>=1e6&&n<1e9?(r="M",i=1e6):n>=1e9&&n<1e12&&(r="B",i=1e9),s=Math.floor(10*n/i)/10+r+s},window.subscribersApp.browser=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?"Safari":/(msie|trident|edge)/i.test(navigator.userAgent)?"Microsoft":/(chrome|android)/i.test(navigator.userAgent)?"Chrome":/(mozilla|firefox)/i.test(navigator.userAgent)?"Firefox":"unknown"},window.subscribersApp.browserSupported=function(){if(window.subscribersApp.isIOS(navigator.userAgent))return!1;var e=window.subscribersApp.browser();return null!==window.subscribersApp.siteUUID&&("Chrome"==e||"Firefox"==e||"Safari"==e)},window.subscribersApp.setUUID=function(){function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var s=16*Math.random()|0;return("x"==e?s:3&s|8).toString(16)})}return localStorage.subscriberUUID||localStorage.setItem("subscriberUUID",e()),localStorage.subscriberUUID},window.subscribersApp.clientData=function(){var e="safari"in window,s="opera"in window,i="chrome"in window,r="netscape"in window,n="Intl"in window?Intl.DateTimeFormat().resolvedOptions().timeZone:null;return{userAgent:navigator.userAgent,appName:navigator.appName,appVersion:navigator.appVersion,vendor:navigator.vendor,vendorSub:navigator.vendorSub,platform:navigator.platform,language:navigator.language,languages:navigator.languages,opera:s,safari:e,chrome:i,netscape:r,timezoneOffset:(new Date).getTimezoneOffset(),timezone:n,...window.subscribersApp.geolocation}},window.subscribersApp.seeItInAction=function(){subscribersApp.runInNativeMode(subscribersApp.configuration)},window.subscribersApp.defaultConfig={chicklet:{message:"Subscribe",showCount:!0,position:"bottom",accent:"f16334",shade:"dark"},modal:{headline:"Don't miss any article. Subscribe to this blog.",subheadline:"You can turn off your notifications anytime from your browser",includeBranding:!0,ctaButton:"Subscribe",noButton:"Nope",accent:"f16334",icon:"https://placehold.it/200x200"},site:{subdomain:"neilpatel",mode:"modal",showModalAfter:5}},window.subscribersApp.fillChickletConfig=function(e){return e=e||{},e=window.subscribersApp.configFromDefaults(e,window.subscribersApp.defaultConfig.chicklet)},window.subscribersApp.fillModalConfig=function(e){return e=e||{},e=window.subscribersApp.configFromDefaults(e,window.subscribersApp.defaultConfig.modal)},window.subscribersApp.fillSiteConfig=function(e){return e=e||{},(e=window.subscribersApp.configFromDefaults(e,window.subscribersApp.defaultConfig.site)).mode=window.subscribersApp.effectiveMode(e),e},window.subscribersApp.configFromDefaults=function(e,s){for(var i in s)s.hasOwnProperty(i)&&(e[i]!==undefined&&null!==e[i]||(e[i]=s[i]));return e},window.subscribersApp.effectiveMode=function(e){return"nativeImmediate"!=e.mode||window.subscribersApp.onHttps()?e.mode:(console.log("nativeImmediate on http. Disabling"),"disabled")},window.subscribersApp.onHttps=function(){return"localhost"===location.hostname||"https:"===document.location.protocol},window.subscribersApp.getGeolocation=function(){return localStorage.geolocation?window.subscribersApp.fetchCachedGeolocation():window.subscribersApp.updateGeolocation()},window.subscribersApp.fetchCachedGeolocation=function(){return new Promise(function(e,s){var i=JSON.parse(localStorage.geolocation),r=i.geolocation;i.expiresAt>Date.now()?e(r):window.subscribersApp.updateGeolocation().then(e)["catch"](s)})},window.subscribersApp.updateGeolocation=function(){var e=30*864e5;return window.subscribersApp.fetchGeolocation().then(function(s){return localStorage.geolocation=JSON.stringify({geolocation:s,expiresAt:Date.now()+e}),s})},window.subscribersApp.fetchGeolocation=function(){var e=window.subscribersApp.geolocationUrl;return window.subscribersApp.ajax(e,"GET").then(function(e){return{city:e.city,country:e.country,countryCode:e.countryCode,region:e.region,regionName:e.regionName,timezone:e.timezone}})},window.subscribersApp.track=function(e){function s(e){var s=new Image;s.style.display="none",s.src=e}function i(e){var s=new URL(window.subscribersApp.trackingUrl);return s.pathname=e.join("/"),s}var r=window.subscribersApp.vendorId,n=[].slice.call(arguments,1),o=[e,r,window.subscribersApp.siteUUID,localStorage.subscriberUUID].concat(n),t=[e].concat(n);s(i("error"===e?t:o))},window.subscribersApp.trackDenied=function(){window.subscribersApp.track("denied")},window.subscribersApp.trackGranted=function(e){window.subscribersApp.track("granted",e)},window.subscribersApp.trackError=function(e,s){window.subscribersApp.track("error",e+": "+s.toString()),console.error(e,s.toString())},window.subscribersApp.trackSubscribed=function(e){window.subscribersApp.track("subscribed",e)},window.subscribersApp.trackUnsubscribed=function(e){window.subscribersApp.track("unsubscribed",e)},window.subscribersApp.classNamespace="subscribers",window.subscribersApp.createContainer=function(e){var s=document.createElement("DIV"),i=e.split(" ").map(window.subscribersApp.toClass);return i.push(window.subscribersApp.classNamespace),s.className=i.join(" "),s},window.subscribersApp.toClass=function(e){return window.subscribersApp.classNamespace+"-"+e.trim()},window.subscribersApp.addClass=function(e,s){var i=e.className;return i=(i+" "+window.subscribersApp.toClass(s)).trim(),e.className=i,e},window.subscribersApp.removeClass=function(e,s){var i=e.className.replace(window.subscribersApp.toClass(s),"").trim();return e.className=i,e},window.subscribersApp.loadChickletStyles=function(){return window.subscribersApp.loadStylesheet(window.subscribersApp.styleSheetLocation)},window.subscribersApp.buildChicklet=function(e,s){var i,r=e.showCount;i='<h5 class="chicklet-action">%%MESSAGE%%</h5>',r&&(i+='<h6 class="chicklet-subscribers-count">%%COUNT%%</h6>');var n=window.subscribersApp.createContainer("chicklet");i=i.replace("%%MESSAGE%%",e.message),r&&(window.subscribersApp.addClass(n,"has-count"),i=i.replace("%%COUNT%%",s)),n.innerHTML=i,n.style.backgroundColor="#"+e.accent,n.style.color="light"===e.shade?"#333333":"#ffffff";for(var o=e.position.split(" "),t=0;t<o.length;t++)window.subscribersApp.addClass(n,"position-"+o[t]);return n},window.subscribersApp.buildSubscribeModalOnly=function(e,s){var i='<div class="subscribers-headline">                <div class="modal-image-wrapper">                  <img class="modal-image" src="%%ICON%%">                </div>                <div class="modal-text">                  <h3 class="modal-headline">%%HEADLINE%%</h3>                  <hr class="modal-hr" style="border-color: %%ACCENTCOLOR%%">                  <h4 class="modal-subheadline">%%SUBHEADLINE%%</h4>                </div>              </div>              <div class="subscribers-actions">                %%BRANDINGHTML%%                <span class="action-buttons">                  <button class="primary-action '+window.subscribersApp.classNamespace+'-cta-button" style="background-color: %%ACCENTCOLOR%%; color: white;" >%%CTABUTTON%%</button>                  <button class="secondary-action '+window.subscribersApp.classNamespace+'-no-button">%%NOBUTTON%%</button>                </span>              </div>',r='<h5 class="branding">Powered by <strong class="brand-link"><a href="%%SUBSCRIBERSHOMEPAGE%%" target="_blank" style="color: %%ACCENTCOLOR%%">subscribers</a></strong></h5>'.replace("%%SUBSCRIBERSHOMEPAGE%%",s);i=(i=(i=(i=(i=(i=(i=e.includeBranding?i.replace("%%BRANDINGHTML%%",r):i.replace("%%BRANDINGHTML%%","")).replace("%%HEADLINE%%",e.headline)).replace("%%SUBHEADLINE%%",e.subheadline)).replace("%%ICON%%",e.icon)).replace("%%CTABUTTON%%",e.ctaButton)).replace("%%NOBUTTON%%",e.noButton)).replace(/%%ACCENTCOLOR%%/g,"#"+e.accent);var n=window.subscribersApp.createContainer("modal");return n.innerHTML=i,n},window.subscribersApp.buildSubscribeModal=function(e,s){var i=window.subscribersApp.buildSubscribeModalOnly(e,s),r=window.subscribersApp.createContainer("modal-container"),n=window.subscribersApp.createContainer("modal-overlay");return r.appendChild(n),r.appendChild(i),window.subscribersApp.addClass(r,"not-displayed"),window.subscribersApp.addClass(r,"hide-animate"),{container:r,modal:i,overlay:n}},window.subscribersApp.runInModalMode=function(e){function s(e,s){DOMObjects.chicklet=window.subscribersApp.buildChicklet(e,s),document.body.appendChild(DOMObjects.chicklet),DOMObjects.chicklet.addEventListener("click",f)}function i(){DOMObjects.chicklet&&(DOMObjects.chicklet.style.display="none")}function r(){var e=window.subscribersApp.effectiveChickletConfig;e.showCount?o().then(function(i){var r=window.subscribersApp.calculator(i);s(e,r)}):s(e,null);var i=window.subscribersApp.effectiveModalConfig;DOMObjects.modal=window.subscribersApp.buildSubscribeModal(i,window.subscribersApp.subscribersHomePage),document.body.appendChild(DOMObjects.modal.container),DOMObjects.modal.ctaButton=DOMObjects.modal.modal.getElementsByClassName("subscribers-cta-button")[0],DOMObjects.modal.noButton=DOMObjects.modal.modal.getElementsByClassName("subscribers-no-button")[0],DOMObjects.modal.overlay.addEventListener("click",A),DOMObjects.modal.ctaButton.addEventListener("click",()=>{-1!=navigator.userAgent.indexOf("Firefox")?(t(),Notification.requestPermission()):u()}),DOMObjects.modal.noButton.addEventListener("click",g)}function n(e){-1!=e&&setTimeout(c,1e3*e)}function o(){var e=window.subscribersApp.siteUUID,s=window.subscribersApp.keyValueDatabaseUrl+"sites/"+e+".json";return window.subscribersApp.ajax(s,"GET")}function t(){DOMObjects.modal&&(window.subscribersApp.addClass(DOMObjects.modal.container,"hide-animate"),setTimeout(function(){window.subscribersApp.addClass(DOMObjects.modal.container,"not-displayed")},1100))}function c(e){(e||!window.subscribersApp.modalHasBeenOpened&&!w())&&(window.subscribersApp.removeClass(DOMObjects.modal.container,"not-displayed"),window.subscribersApp.removeClass(DOMObjects.modal.container,"hide-animate"),DOMObjects.modal.container.style.display="",window.subscribersApp.modalHasBeenOpened=!0)}function b(){var e=800,s=700,i=screen.width/2-e/2,r=screen.height/2-s/2;return window.open(window.subscribersApp.clickServer(),"subscribers.com","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+e+", height="+s+", top="+r+", left="+i)}function a(){var e=p(7);window.subscribersApp.setCookie("isPushNotificationClient=false;expires="+e)}function u(){window.subscribersApp.subscribe()["catch"](function(e){"denied"!==e&&(b(),t())}).then(function(){t()})}function p(e){var s=new Date,i=new Date(s);return i.setDate(s.getDate()+e),i.toUTCString()}function d(){var e=p(3650);window.subscribersApp.setCookie("subscribers-app-subscribed=true;expires="+e),i()}function w(){return"false"===window.subscribersApp.getCookie("isPushNotificationClient")}function l(){var e=window.subscribersApp.getCookie("subscribers-app-subscribed");return window.subscribersApp.isSubscribed()||"true"==e}function f(){c(!0)}function A(){a(),t()}function g(){a(),t()}window.subscribersApp.modalHasBeenOpened=!1,window.addEventListener("message",function(e){"subscribers-app-subscribed"===e.data&&d()},!1),l()||window.subscribersApp.loadChickletStyles().then(function(){r(),n(e.showModalAfter)})},window.subscribersApp.postToken=function(e){return window.subscribersApp.ajaxPost(window.subscribersApp.subscribeUrl,{service:e.service,token:e.token,uuid:window.subscribersApp.siteUUID||window.subscribersSiteId,vendor:e.vendor,subscription_json:e.subscriptionJSON,origin:location.origin,metaData:window.subscribersApp.clientData(),subscriber_uuid:localStorage.subscriberUUID})},window.subscribersApp.deleteToken=function(e){return window.subscribersApp.ajax(window.subscribersApp.unsubscribersSubscribeUrl,"POST",{service:e.service,token:e.token,uuid:window.subscribersApp.siteUUID||window.subscribersSiteId,vendor:e.vendor,subscriber_uuid:localStorage.subscriberUUID})},window.subscribersApp.sendSubscriptionToServer=function(e,s){return window.subscribersApp.ajaxPost(window.subscribersApp.subscribeUrl,{token:e,uuid:window.subscribersApp.siteUUID||window.subscribersSiteId,vendor:window.subscribersApp.vendorId,subscriber_uuid:localStorage.subscriberUUID,origin:location.origin,metaData:window.subscribersApp.clientData(),subscription_json:s})},window.subscribersApp.loadFirebase=function(e){function s(){return window.subscribersApp.loadScript(t+"/firebase-app.js")}function i(){return window.subscribersApp.loadScript(t+"/firebase-messaging.js")}function r(){firebase.initializeApp({messagingSenderId:window.subscribersApp.firebaseID});var s=firebase.messaging();return s.usePublicVapidKey(e||window.subscribersApp.publicVAPIDKey),s}function n(){return requirejs.config({paths:{"@firebase/app":t+"/firebase-app","firebase-messaging":t+"/firebase-messaging"}}),new Promise(function(e){require(["@firebase/app","firebase-messaging"],function(s){window.firebase=s,e(r())})})}function o(){return s().then(i).then(r)["catch"](function(e){throw console.log(e),e})}var t="https://www.gstatic.com/firebasejs/"+"5.7";return"function"==typeof define&&define.amd?n():o()},window.subscribersApp.requestFirebasePermission=function(e){return new Promise(function(s,i){window.subscribersApp.loadFirebase(e).then(function(e){firebase.messaging.isSupported()||i("Not supported"),e.onTokenRefresh(function(){e.getToken().then(function(s){e.registrationToUse.pushManager.getSubscription().then(function(e){window.subscribersApp.postToken({service:window.subscribersApp.service,vendor:window.subscribersApp.vendorId,token:s,subscriptionJSON:e.toJSON()}).then(function(){window.subscribersApp.trackRefreshed(s),localStorage.setItem("firebaseToken",s)})})})["catch"](function(e){console.log("Unable to retrieve refreshed token ",e),window.subscribersApp.trackError("Unable to retrieve refreshed token")})}),navigator.serviceWorker.register(window.subscribersApp.serviceWorkerPath).then(function(s){e.useServiceWorker(s)}).then(function(){return e.requestPermission()}).then(function(){return e.getToken()}).then(function(r){r&&""!==r?e.registrationToUse.pushManager.getSubscription().then(function(e){s({token:r,subscriptionJSON:e.toJSON()})})["catch"](function(){s({token:r})}):i("Token is null")})["catch"](function(e){var s="messaging/permission-default"===e.code,r="messaging/permission-blocked"===e.code,n="messaging/unsupported-browser"===e.code;s||r?i("denied"):n||i(e)})})["catch"](function(e){i(Error("loading Firebase error: "+e))})})},window.subscribersApp.requestSafariPermission=function(){return new Promise(function(e,s){function i(i){"default"===i.permission?s("denied"):"denied"===i.permission?s("denied"):"granted"===i.permission&&e(i.deviceToken)}window.safari.pushNotification.requestPermission(window.subscribersApp.appleAPNEndpoint,window.subscribersApp.appleWebsitePushID,{siteUUID:window.subscribersApp.siteUUID},i)})},window.subscribersApp.getNotificationPermission=function(){return window.safari?window.safari.pushNotification.permission(window.subscribersApp.appleWebsitePushID).permission:Notification.permission},window.subscribersApp.syncAuthKeys=function(e){navigator.serviceWorker.ready.then(function(s){s.pushManager.getSubscription().then(function(s){s?localStorage.firebaseEndpoint!==s.endpoint&&window.subscribersApp.sendSubscriptionToServer(e,s.toJSON()).then(function(){localStorage.setItem("firebaseEndpoint",s.endpoint)}):console.log("Subscription could not be found")})})},window.subscribersApp.subscribe=function(){function e(e,s){return function({token:i,subscriptionJSON:r}){return window.subscribersApp.trackGranted(i),i===localStorage.firebaseToken?(window.subscribersApp.syncAuthKeys(i),s(i)):window.subscribersApp.postToken({service:e,vendor:window.subscribersApp.vendorId,token:i,subscriptionJSON:r}).then(function(){window.subscribersApp.trackSubscribed(i),localStorage.setItem("firebaseToken",i),s(i)})}}function s(e,s){return function(i){var r="Error during subscription in "+("firebase"===e?"Firebase":"Safari");"denied"===i?s(i):window.subscribersApp.trackError(r,i),s(r)}}function i(i,r){window.subscribersApp.requestSafariPermission().then(e("apple",i))["catch"](s("apple",r))}function r(i,r){window.subscribersApp.requestFirebasePermission(o).then(e("firebase",i))["catch"](s("firebase",r))}function n(e,s){window.safari&&""!=window.subscribersApp.appleWebsitePushID?i(e,s):"Notification"in window&&!window.safari&&r(e,s)}var o=window.subscribersApp.publicVAPIDKey;return new Promise(function(e,s){"denied"===window.subscribersApp.getNotificationPermission()?(window.subscribersApp.trackDenied(),window.subscribersApp.unsubscribe()["catch"](function(){}),s("Notification permission is denied.")):n(e,s)})},window.subscribersApp.unsubscribe=function(){return new Promise(function(e,s){if(!localStorage.firebaseToken)return s("no subscription");window.subscribersApp.loadFirebase().then(function(s){var i=localStorage.firebaseToken;window.subscribersApp.deleteToken({service:window.subscribersApp.service,vendor:window.subscribersApp.vendorId,token:i}).then(function(){window.subscribersApp.trackUnsubscribed(localStorage.firebaseToken),s.deleteToken(localStorage.firebaseToken),localStorage.removeItem("firebaseToken"),e(i)})["catch"](function(){localStorage.removeItem("firebaseToken"),e(i)})})})},window.subscribersApp.isSubscribed=function(){return"granted"===window.subscribersApp.getNotificationPermission()},window.subscribersApp.runInNativeMode=function(e){function s(){window.subscribersApp.subscribe(e||{}).then(()=>{console.log("successfully subscribed")})["catch"](e=>{console.error("error subscribing",e)})}function i(e){-1!=e&&setTimeout(s,1e3*e)}i(e.showNativeAfter)},window.DOMObjects={},document.addEventListener("DOMContentLoaded",function(){function e(e){window.subscribersApp.runInNativeMode(e)}function s(e){window.subscribersApp.runInModalMode(e)}window.subscribersApp.browserSupported()&&(window.subscribersApp.setUUID(),window.subscribersApp.fetchConfig().then(function(i){if("disabled"!==i.mode)if(!i.chickletEnabled||window.subscribersApp.isSubscribed()){if("nativeImmediate"===i.mode){if("Firefox"===window.subscribersApp.browser()){const[e,r,n]=navigator.userAgent.match(/(firefox(?=\/))\/?\s*(\d+)/i);if(n>=72)return void s(i)}e(i)}}else s(i)})["catch"](function(e){console.log("Failed to fetch config",e)}))}),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){"pushsubscriptionchange"===e.data.event&&window.subscribersApp.fetchConfig().then(function(e){window.subscribersApp.unsubscribe().then(()=>{window.subscribersApp.subscribe(e)}).then(function(e){console.log("Token from Client: ",e)})["catch"](function(){})})});