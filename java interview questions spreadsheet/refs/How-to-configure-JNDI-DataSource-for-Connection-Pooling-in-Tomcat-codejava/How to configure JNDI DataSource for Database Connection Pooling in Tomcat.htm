<!DOCTYPE html>
<!-- saved from url=(0109)https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!--<base href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat">--><base href="."><meta name="keywords" content="Java, Tomcat, configure, JNDI, DataSource, database, connection pool, example"><meta name="description" content="Examples of how to configure a JNDI DataSource in Tomcat in order to use Database Connection Pooling."><meta name="generator" content="Joomla! - Open Source Content Management"><title>How to configure JNDI DataSource for Database Connection Pooling in Tomcat</title><link href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat" rel="canonical"><link href="https://www.codejava.net/templates/protostar/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon"><link rel="stylesheet" href="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/f6837314815f65986250d0725e882911.css" type="text/css"><link rel="stylesheet" href="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/font-awesome.min.css" type="text/css"><style type="text/css">@media(max-width:768px){.jf_mm_trigger,#jf_mm_menu{display:block}}
			.jf_mm_trigger{background-color:#4a5052;color:#f5f5f5}
			.jf_mm_wrapper .levelHolderClass,.jf_mm_wrapper .jf_mm_inactive{background-color:#4a5052}
			.jf_mm_wrapper li{background-color:#4a5052}
			.jf_mm_wrapper li:hover{background-color:#434749}
			.jf_mm_wrapper .backItemClass{background-color:#444444}
			.jf_mm_wrapper .backItemClass:hover{background-color:#333333}
			.jf_mm_wrapper li,.jf_mm_wrapper li:last-child,.jf_mm_wrapper .backItemClass{border-color:#5a5e5f}
			.jf_mm_wrapper h2{color:#888888}
			.jf_mm_wrapper a,.jf_mm_wrapper a:hover{color:#eeeeee}
			.jf_mm_wrapper .ltr,.jf_mm_wrapper .rtl{-webkit-box-shadow:5px 0 5px -5px #202020;-moz-box-shadow:5px 0 5px -5px #202020;box-shadow:5px 0 5px -5px #202020;}
		
#jf_mm_menu.jf_hidden{display:none!important}</style><script type="text/javascript" async="" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/analytics.js"></script><script type="text/javascript" async="" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/recaptcha__en_gb.js"></script><script src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/api.js" type="text/javascript"></script><link href="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/css" rel="stylesheet" type="text/css"><style type="text/css">h1,h2,h3,h4,h5,h6{
        font-family: 'Open Sans', sans-serif;
      }</style><!--[if lt IE 9]><script src="/media/jui/js/html5.js"></script><![endif]--><script async="" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/js"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-29498384-2');</script></head><body class="site com_content view-article no-layout no-task itemid-518"><!-- Body --><div class="body"><div class="container"><!-- Header --><header class="header" role="banner"><div class="header-inner clearfix"><a class="brand pull-left" href="https://www.codejava.net/"><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><font size="45" color="white">Code</font><font size="45" color="red">Java</font></b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i><font size="4" color="white">Coding Your Passion</font></i></a><div id="jf_mm_menu" class="" style="height: 100px; min-height: 100px; width: 0px;"><nav id="jf_mm_menu_multilevelpushmenu" class="jf_mm_wrapper" style="min-height: 100px; height: 100%;"><div class="levelHolderClass ltr jf_mm_inactive" data-level="0" style="margin-left: -200px; width: 240px; min-width: 240px;"><h2 style="text-align: left"><i class="fa fa-times floatRight cursorPointer"></i>CodeJava.net</h2><ul style="display: none;"><li class="item-101 default active" style="text-align: left"><a href="https://www.codejava.net/"><img class="jf_mm_a_img menu-image" src="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat" style="">Home</a></li><li class="item-465 deeper parent" style="text-align: left"><a href="https://www.codejava.net/java-core"><i class=" floatLeft iconSpacing_ltr fa fa-angle-left"></i>Java Core</a><div class="levelHolderClass ltr" data-level="1" style="margin-left: -480px; width: 240px; min-width: 240px;"><h2 style="text-align: left"><i class="floatRight cursorPointer"></i>Java Core</h2><div class="backItemClass"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#"><i class="floatRight fa fa-angle-right"></i>Back</a></div><ul class="nav-child unstyled" style="display: none;"><li class="item-499" style="text-align: left"><a href="https://www.codejava.net/java-core/the-java-language">The Java Language</a></li><li class="item-856" style="text-align: left"><a href="https://www.codejava.net/java-core/collections">Generics &amp; Collections</a></li><li class="item-859" style="text-align: left"><a href="https://www.codejava.net/java-core/tools">Tools</a></li><li class="item-964" style="text-align: left"><a href="https://www.codejava.net/java-core/exception">Exception Handling</a></li><li class="item-965" style="text-align: left"><a href="https://www.codejava.net/java-core/concurrency">Concurrency</a></li></ul></div></li><li class="item-850 deeper parent" style="text-align: left"><a href="https://www.codejava.net/java-se"><i class=" floatLeft iconSpacing_ltr fa fa-angle-left"></i>Java SE</a><div class="levelHolderClass ltr" data-level="1" style="margin-left: -480px; width: 240px; min-width: 240px;"><h2 style="text-align: left"><i class="floatRight cursorPointer"></i>Java SE</h2><div class="backItemClass"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#"><i class="floatRight fa fa-angle-right"></i>Back</a></div><ul class="nav-child unstyled" style="display: none;"><li class="item-851" style="text-align: left"><a href="https://www.codejava.net/java-se/swing">Swing</a></li><li class="item-852" style="text-align: left"><a href="https://www.codejava.net/java-se/applet">Applet</a></li><li class="item-853" style="text-align: left"><a href="https://www.codejava.net/java-se/file-io">File I/O</a></li><li class="item-854" style="text-align: left"><a href="https://www.codejava.net/java-se/graphics">2D/3D Graphics</a></li><li class="item-855" style="text-align: left"><a href="https://www.codejava.net/java-se/networking">Networking</a></li><li class="item-857" style="text-align: left"><a href="https://www.codejava.net/java-se/ftp">FTP Networking</a></li><li class="item-858" style="text-align: left"><a href="https://www.codejava.net/java-se/jdbc">JDBC</a></li></ul></div></li><li class="item-840 deeper parent" style="text-align: left"><a href="https://www.codejava.net/java-ee"><i class=" floatLeft iconSpacing_ltr fa fa-angle-left"></i>Java EE</a><div class="levelHolderClass ltr" data-level="1" style="margin-left: -480px; width: 240px; min-width: 240px;"><h2 style="text-align: left"><i class="floatRight cursorPointer"></i>Java EE</h2><div class="backItemClass"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#"><i class="floatRight fa fa-angle-right"></i>Back</a></div><ul class="nav-child unstyled" style="display: none;"><li class="item-848" style="text-align: left"><a href="https://www.codejava.net/java-ee/servlet">Servlet</a></li><li class="item-510" style="text-align: left"><a href="https://www.codejava.net/java-ee/javamail">JavaMail</a></li><li class="item-849" style="text-align: left"><a href="https://www.codejava.net/java-ee/jstl">JSTL</a></li><li class="item-513" style="text-align: left"><a href="https://www.codejava.net/java-ee/jsp">JavaServer Pages (JSP)</a></li><li class="item-980" style="text-align: left"><a href="https://www.codejava.net/java-ee/jpa">Java Persistence API</a></li><li class="item-512" style="text-align: left"><a href="https://www.codejava.net/java-ee/web-services">Web Services</a></li></ul></div></li><li class="item-470 deeper parent" style="text-align: left"><a href="https://www.codejava.net/frameworks"><i class=" floatLeft iconSpacing_ltr fa fa-angle-left"></i>Frameworks</a><div class="levelHolderClass ltr" data-level="1" style="margin-left: -480px; width: 240px; min-width: 240px;"><h2 style="text-align: left"><i class="floatRight cursorPointer"></i>Frameworks</h2><div class="backItemClass"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#"><i class="floatRight fa fa-angle-right"></i>Back</a></div><ul class="nav-child unstyled" style="display: none;"><li class="item-515" style="text-align: left"><a href="https://www.codejava.net/frameworks/spring">Spring</a></li><li class="item-981" style="text-align: left"><a href="https://www.codejava.net/frameworks/spring-boot">Spring Boot</a></li><li class="item-514" style="text-align: left"><a href="https://www.codejava.net/frameworks/hibernate">Hibernate</a></li><li class="item-516" style="text-align: left"><a href="https://www.codejava.net/frameworks/struts">Struts</a></li></ul></div></li><li class="item-472 deeper parent" style="text-align: left"><a href="https://www.codejava.net/servers"><i class=" floatLeft iconSpacing_ltr fa fa-angle-left"></i>Servers</a><div class="levelHolderClass ltr" data-level="1" style="margin-left: -480px; width: 240px; min-width: 240px;"><h2 style="text-align: left"><i class="floatRight cursorPointer"></i>Servers</h2><div class="backItemClass"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#"><i class="floatRight fa fa-angle-right"></i>Back</a></div><ul class="nav-child unstyled" style="display: none;"><li class="item-518" style="text-align: left"><a href="https://www.codejava.net/servers/tomcat">Tomcat</a></li></ul></div></li><li class="item-473" style="text-align: left"><a href="https://www.codejava.net/coding">Coding</a></li><li class="item-471 deeper parent" style="text-align: left"><a href="https://www.codejava.net/ides"><i class=" floatLeft iconSpacing_ltr fa fa-angle-left"></i>IDEs</a><div class="levelHolderClass ltr" data-level="1" style="margin-left: -480px; width: 240px; min-width: 240px;"><h2 style="text-align: left"><i class="floatRight cursorPointer"></i>IDEs</h2><div class="backItemClass"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#"><i class="floatRight fa fa-angle-right"></i>Back</a></div><ul class="nav-child unstyled" style="display: none;"><li class="item-517 current" style="text-align: left"><a href="https://www.codejava.net/ides/eclipse">Eclipse</a></li><li class="item-954" style="text-align: left"><a href="https://www.codejava.net/ides/netbeans">NetBeans</a></li></ul></div></li><li class="item-498" style="text-align: left"><a href="https://www.codejava.net/books">Books</a></li><li class="item-960 deeper parent" style="text-align: left"><a href="https://www.codejava.net/videos"><i class=" floatLeft iconSpacing_ltr fa fa-angle-left"></i>Videos</a><div class="levelHolderClass ltr" data-level="1" style="margin-left: -480px; width: 240px; min-width: 240px;"><h2 style="text-align: left"><i class="floatRight cursorPointer"></i>Videos</h2><div class="backItemClass"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#"><i class="floatRight fa fa-angle-right"></i>Back</a></div><ul class="nav-child unstyled" style="display: none;"><li class="item-967" style="text-align: left"><a href="https://www.codejava.net/videos/top-trending">Top Trending</a></li><li class="item-968" style="text-align: left"><a href="https://www.codejava.net/videos/top-java-core-and-java-ee">Top Java Core and Java EE</a></li><li class="item-969" style="text-align: left"><a href="https://www.codejava.net/videos/top-spring-and-hibernate">Top Spring and Hibernate</a></li></ul></div></li><li class="item-970" style="text-align: left"><a href="https://www.codejava.net/java-certifications">Certifications</a></li><li class="item-973" style="text-align: left"><a href="https://www.codejava.net/testing">Testing</a></li></ul></div></nav></div><div class="jf_mm_trigger"><i class="fa fa-bars"></i></div><div class="jf_mm_backout"></div><div class="bannergroup"><div class="banneritem"><script data-cfasync="false" type="text/javascript" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/728x90below_res.js"></script><div class="clr"></div></div></div></div></header><nav class="navigation" role="navigation"><ul class="nav menu nav-pills">
<li class="item-101"><a href="https://www.codejava.net/">Home</a></li><li class="item-465 deeper parent dropdown"><a href="https://www.codejava.net/java-core" class="dropdown-toggle" data-toggle="dropdown" disabled="disabled">Java Core</a><ul class="nav-child unstyled small dropdown-menu"><li class="item-499"><a href="https://www.codejava.net/java-core/the-java-language">The Java Language</a></li><li class="item-856"><a href="https://www.codejava.net/java-core/collections">Generics &amp; Collections</a></li><li class="item-859"><a href="https://www.codejava.net/java-core/tools">Tools</a></li><li class="item-964"><a href="https://www.codejava.net/java-core/exception">Exception Handling</a></li><li class="item-965"><a href="https://www.codejava.net/java-core/concurrency">Concurrency</a></li></ul></li><li class="item-850 deeper parent dropdown"><a href="https://www.codejava.net/java-se" class="dropdown-toggle" data-toggle="dropdown" disabled="disabled">Java SE</a><ul class="nav-child unstyled small dropdown-menu"><li class="item-851"><a href="https://www.codejava.net/java-se/swing">Swing</a></li><li class="item-852"><a href="https://www.codejava.net/java-se/applet">Applet</a></li><li class="item-853"><a href="https://www.codejava.net/java-se/file-io">File I/O</a></li><li class="item-854"><a href="https://www.codejava.net/java-se/graphics">2D/3D Graphics</a></li><li class="item-855"><a href="https://www.codejava.net/java-se/networking">Networking</a></li><li class="item-857"><a href="https://www.codejava.net/java-se/ftp">FTP Networking</a></li><li class="item-858"><a href="https://www.codejava.net/java-se/jdbc">JDBC</a></li></ul></li><li class="item-840 deeper parent dropdown"><a href="https://www.codejava.net/java-ee" class="dropdown-toggle" data-toggle="dropdown" disabled="disabled">Java EE</a><ul class="nav-child unstyled small dropdown-menu"><li class="item-848"><a href="https://www.codejava.net/java-ee/servlet">Servlet</a></li><li class="item-510"><a href="https://www.codejava.net/java-ee/javamail">JavaMail</a></li><li class="item-849"><a href="https://www.codejava.net/java-ee/jstl">JSTL</a></li><li class="item-513"><a href="https://www.codejava.net/java-ee/jsp">JavaServer Pages (JSP)</a></li><li class="item-980"><a href="https://www.codejava.net/java-ee/jpa">Java Persistence API</a></li><li class="item-512"><a href="https://www.codejava.net/java-ee/web-services">Web Services</a></li></ul></li><li class="item-470 deeper parent dropdown"><a href="https://www.codejava.net/frameworks" class="dropdown-toggle" data-toggle="dropdown" disabled="disabled">Frameworks</a><ul class="nav-child unstyled small dropdown-menu"><li class="item-515"><a href="https://www.codejava.net/frameworks/spring">Spring</a></li><li class="item-981"><a href="https://www.codejava.net/frameworks/spring-boot">Spring Boot</a></li><li class="item-514"><a href="https://www.codejava.net/frameworks/hibernate">Hibernate</a></li><li class="item-516"><a href="https://www.codejava.net/frameworks/struts">Struts</a></li></ul></li><li class="item-472 active deeper parent dropdown"><a href="https://www.codejava.net/servers" class="dropdown-toggle" data-toggle="dropdown" disabled="disabled">Servers</a><ul class="nav-child unstyled small dropdown-menu"><li class="item-518 current active"><a href="https://www.codejava.net/servers/tomcat">Tomcat</a></li></ul></li><li class="item-473"><a href="https://www.codejava.net/coding">Coding</a></li><li class="item-471 deeper parent dropdown"><a href="https://www.codejava.net/ides" class="dropdown-toggle" data-toggle="dropdown" disabled="disabled">IDEs</a><ul class="nav-child unstyled small dropdown-menu"><li class="item-517"><a href="https://www.codejava.net/ides/eclipse">Eclipse</a></li><li class="item-954"><a href="https://www.codejava.net/ides/netbeans">NetBeans</a></li><li class="item-1006"><a href="https://www.codejava.net/ides/intellij">IntelliJ IDEA</a></li></ul></li><li class="item-498"><a href="https://www.codejava.net/books">Books</a></li><li class="item-960 deeper parent dropdown"><a href="https://www.codejava.net/videos" class="dropdown-toggle" data-toggle="dropdown" disabled="disabled">Videos</a><ul class="nav-child unstyled small dropdown-menu"><li class="item-967"><a href="https://www.codejava.net/videos/top-trending">Top Trending</a></li><li class="item-968"><a href="https://www.codejava.net/videos/top-java-core-and-java-ee">Top Java Core and Java EE</a></li><li class="item-969"><a href="https://www.codejava.net/videos/top-spring-and-hibernate">Top Spring and Hibernate</a></li></ul></li><li class="item-970"><a href="https://www.codejava.net/java-certifications">Certifications</a></li><li class="item-973"><a href="https://www.codejava.net/testing">Testing</a></li><li class="item-1007 deeper parent dropdown"><a href="https://www.codejava.net/tools" class="dropdown-toggle" data-toggle="dropdown" disabled="disabled">Java Tools</a><ul class="nav-child unstyled small dropdown-menu"><li class="item-1008"><a href="https://www.codejava.net/tools/ant">Ant</a></li></ul></li></ul>

<ul class="breadcrumb">
	&nbsp;&nbsp;<li><a href="https://www.codejava.net/" class="pathway">Home</a><span class="divider">&gt;</span></li><li><a href="https://www.codejava.net/servers" class="pathway">Servers</a><span class="divider">&gt;</span></li><li><span>Tomcat</span></li></ul>

</nav><div class="row-fluid"><style>.moduletable_search{
            margin-right: 0!important;
          }
          #sidebar{
            width: 21%!important;
            margin-left: 5px!important;
          }
          #content{
            margin-left: 10px!important;
          }</style><!-- Begin Sidebar --><div id="sidebar" class="span3"><div class="sidebar-nav"><aside><div class="moduletable"><div class="bannergroup"><div class="banneritem"><table class="rightmoduletable"><tbody><tr class="RowHeader"><td><font color="white"><b>Tomcat Tutorials:</b><br></font></td></tr><tr><td><nav><br><ul><li><a href="https://www.codejava.net/servers/tomcat/how-to-deploy-a-java-web-application-on-tomcat">How to deploy Java webapp on Tomcat</a><br><br></li><li><a href="https://www.codejava.net/servers/tomcat/how-to-add-tomcat-server-in-eclipse-ide">How to add Tomcat in Eclipse</a><br><br></li><li><a href="https://www.codejava.net/servers/tomcat/change-tomcat-port-numbers-in-serverxml-file">How to change Tomcat port number</a><br><br></li><li><a href="https://www.codejava.net/servers/tomcat/4-ways-to-change-jre-for-tomcat">How to change JRE for Tomcat</a><br><br></li><li><a href="https://www.codejava.net/servers/tomcat/how-to-use-virtual-hosts-in-tomcat">How to Use Virtual Hosts in Tomcat</a><br><br></li><li><a href="https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications">Embedded Tomcat Tutorial</a><br><br></li><li><a href="https://www.codejava.net/servers/tomcat/tomcat-how-to-set-web-application-context-path-as-server-root">Set root context path in Tomcat</a><br><br></li><li><a href="https://www.codejava.net/servers/tomcat/how-to-configure-session-timeout-in-tomcat">Set session timeout in Tomcat</a><br><br></li></ul></nav></td><td></td></tr></tbody></table><div class="clr"></div></div></div></div><div class="moduletable"><div class="bannergroup"><div class="banneritem"><div id="sidebarads"><style>.sticky {
		  position: fixed;
		  top: 0;
		}</style><br><script data-cfasync="false" type="text/javascript" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/160x600_responsive.js"></script><script>window.onscroll = function() {myFunction()};

var sidebarads = document.getElementById("sidebarads");
var sticky = sidebarads.offsetTop;

function myFunction() {
  if (window.pageYOffset >= sticky) {
	sidebarads.classList.add("sticky")
  } else {
	sidebarads.classList.remove("sticky");
  }
}</script></div><div class="clr"></div></div></div></div></aside></div></div><!-- End Sidebar --><main id="content" role="main" class="span9"><!-- Begin Content --><div id="system-message-container"><div id="system-message"></div></div><div class="item-page"><div class="page-header"><h1><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat"> How to configure JNDI DataSource for Database Connection Pooling in Tomcat</a></h1></div><div class="article-info muted"><dl class="article-info"><dt class="article-info-term">Details</dt><dd class="createdby">Written by &nbsp;<cite><a href="https://www.codejava.net/nam-ha-minh" rel="author">Nam Ha Minh</a></cite></dd><dd class="modified"><span class="icon-calendar"></span> Last Updated on 05 August 2019						&nbsp; | &nbsp;<a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat?tmpl=component&amp;print=1&amp;page=" title="Print" onclick="window.open(this.href,&#39;win2&#39;,&#39;status=no,toolbar=no,scrollbars=yes,titlebar=no,menubar=no,resizable=yes,width=640,height=480,directories=no,location=no&#39;); return false;" rel="nofollow"><span class="icon-print"></span>&nbsp;Print&nbsp;</a><a href="https://www.codejava.net/component/mailto/?tmpl=component&amp;template=protostar&amp;link=e9f43daa5bbb94f26a475d862356a79ffca23faf" title="Email" onclick="window.open(this.href,&#39;win2&#39;,&#39;width=400,height=350,menubar=yes,resizable=yes&#39;); return false;"><span class="icon-envelope"></span> Email</a></dd></dl></div>This tutorial shows you how to create a JNDI resource that represents a JDBC DataSource in Tomcat, and then how to configure a Java web application in order to access the JNDI DataSource. The benefits of using a JNDI DataSource are:<p></p><ul><li>Utilizing database connection pooling services provided by the container, i.e. Tomcat uses Commons DBCP and Commons Pool as the implementation (<span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;; color: #800000;">tomcat-dbcp.jar</span>).</li><li>Externalizing database connection and make it independent from the web application itself.</li><li>Sharing database connections across applications deployed in the container.</li></ul>The following examples are tested in Tomcat 7 and MySQL Database 5.5.<p></p>&nbsp;<p></p><h2>1. Sample MySQL database</h2>First, we need to create a sample database. Let’s execute the following MySQL script:<p></p><div><div id="highlighter_342331" class="syntaxhighlighter  text"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="text plain">create database usersdb;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="text plain">use usersdb;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="text plain">CREATE TABLE `users` (</code></div><div class="line number6 index5 alt1"><code class="text spaces">&nbsp;&nbsp;</code><code class="text plain">`user_id` int(11) NOT NULL AUTO_INCREMENT,</code></div><div class="line number7 index6 alt2"><code class="text spaces">&nbsp;&nbsp;</code><code class="text plain">`username` varchar(45) NOT NULL,</code></div><div class="line number8 index7 alt1"><code class="text spaces">&nbsp;&nbsp;</code><code class="text plain">`password` varchar(45) NOT NULL,</code></div><div class="line number9 index8 alt2"><code class="text spaces">&nbsp;&nbsp;</code><code class="text plain">`email` varchar(45) NOT NULL,</code></div><div class="line number10 index9 alt1"><code class="text spaces">&nbsp;&nbsp;</code><code class="text plain">PRIMARY KEY (`user_id`)</code></div><div class="line number11 index10 alt2"><code class="text plain">);</code></div></div></td></tr></tbody></table></div></div>That creates a database called <strong>usersdb</strong> and a table called <strong>users</strong>. Remember to insert some dummy data into this table.<p></p>To interact with MySQL database from Java applications, the <a href="http://dev.mysql.com/downloads/connector/j" rel="nofollow" target="_blank">MySQL Connector/J</a> library must present in the classpath. Here, we need to copy the <span style="font-size: 9pt; line-height: 115%; font-family: &#39;Courier New&#39;; color: #800000;">mysql-connector-java-VERSION-bin.jar</span> file to the <span style="color: #800000;"><strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">$CATALINA_BASE/lib</span></strong></span> directory. If you have only one Tomcat instance on your computer, then <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">$CATALINA_BASE</span></strong> is the Tomcat’s installation directory, e.g. <i>c:\Program Files\Apache Software Foundation\Tomcat 7.0</i> on Windows platform. Doing so help Tomcat loads MySQL JDBC driver when it discovers the JNDI DataSource configuration.<p></p>&nbsp;<p></p><h2>2. Configure context</h2>To declare a JNDI DataSource for the MySQL database above, create a <span style="color: #800000;"><strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">Resource </span></strong></span>XML element with the following content:<p></p><div><div id="highlighter_784995" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">Resource</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">name</code><code class="xml plain">=</code><code class="xml string">"jdbc/UsersDB"</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">auth</code><code class="xml plain">=</code><code class="xml string">"Container"</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">type</code><code class="xml plain">=</code><code class="xml string">"javax.sql.DataSource"</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">maxActive</code><code class="xml plain">=</code><code class="xml string">"100"</code></div><div class="line number6 index5 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">maxIdle</code><code class="xml plain">=</code><code class="xml string">"30"</code></div><div class="line number7 index6 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">maxWait</code><code class="xml plain">=</code><code class="xml string">"10000"</code></div><div class="line number8 index7 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">driverClassName</code><code class="xml plain">=</code><code class="xml string">"com.mysql.jdbc.Driver"</code></div><div class="line number9 index8 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">url</code><code class="xml plain">=</code><code class="xml string">"jdbc:mysql://localhost:3306/usersDB"</code></div><div class="line number10 index9 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">username</code><code class="xml plain">=</code><code class="xml string">"root"</code></div><div class="line number11 index10 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">password</code><code class="xml plain">=</code><code class="xml string">"secret"</code></div><div class="line number12 index11 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">/&gt;</code></div></div></td></tr></tbody></table></div></div>Add this element inside the root element <span style="color: #800000;"><strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">&lt;Context&gt;</span></strong></span> in a <span style="color: #800000;"><strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">context.xml</span></strong></span> file. There are two places where the <span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">context.xml</span> file can reside (create one if not exist):<p></p><ul><li>Inside <span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;; color: #800000;">/META-INF</span> directory of a web application: the JNDI DataSource is only available to the application itself, thus it cannot be shared among other ones. In addition, this makes the configuration dependent on the application.</li><li>Inside <span style="color: #800000;"><strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">$CATALINA_BASE/conf</span></strong></span> directory: this is the preferred place because the JNDI DataSource will be available to all web applications and it’s independent of any applications.</li></ul><div><script data-cfasync="false" type="text/javascript" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/336x280_responsive.js"></script></div>Therefore, we declare above <span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">Resource</span> element in the <span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">context.xml</span> file under the <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">$CATALINA_BASE/conf</span></strong> directory. The following table describes the attributes specified in the above configuration:<p></p><div align="center"><table style="border-collapse: collapse;" border="1" cellspacing="0" cellpadding="0"><tbody><tr><td style="width: 2in; border: 1pt solid windowtext; background: none repeat scroll 0% 0% #1f497d; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong><span style="color: white;">Attribute name</span></strong></p></td><td style="border: 1pt solid windowtext; background: none repeat scroll 0% 0% #1f497d; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong><span style="color: white;">Description</span></strong></p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>name</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">Name of the resource.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>auth</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">Specify authentication mechanism for the application code, can be <span style="font-size: 10pt; font-family: &#39;Courier New&#39;;">Application</span> or <span style="font-size: 10pt; font-family: &#39;Courier New&#39;;">Container</span>.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>type</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">The fully qualified Java class name expected by the web application when it performs a lookup for this resource.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>maxActive</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">Maximum number of database connections in pool. Set to -1 for no limit.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>maxIdle</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">Maximum number of idle database connections to retain in pool. Set to -1 for no limit.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>maxWait</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">Maximum time to wait for a database connection to become available in ms, in this example 10 seconds. An Exception is thrown if this timeout is exceeded. Set to -1 to wait indefinitely.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>driverClassName</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">The fully qualified Java class name of the database driver. For MySQL Connector/J, it is <span style="font-size: 10pt; font-family: &#39;Courier New&#39;;">com.mysql.jdbc.Driver</span>.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>url</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">The JDBC connection URL.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>username</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">MySQL database user name.</p></td></tr><tr><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="192"><p style="margin-bottom: 0.0001pt; line-height: normal;"><strong>password</strong></p></td><td style="border: 1pt solid windowtext; padding: 0in 5.4pt;" valign="top" width="384"><p style="margin-bottom: 0.0001pt; line-height: normal;">MySQL database user password.</p></td></tr></tbody></table></div>For more information about the attributes, visit the reference links mentioned the end of this tutorial.<p></p><strong><span style="font-size: 12pt; line-height: 115%;">NOTES:</span></strong><p></p><ul><li>If you are using Tomcat inside Eclipse IDE, you need to modify the <span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">context.xml</span> file under the <strong>Servers</strong> project. That is because Eclipse made a copy of Tomcat configuration:<img style="display: block; margin-left: auto; margin-right: auto;" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/Modify_context.xml_in_Eclipse.png" alt="Modify context.xml in Eclipse" width="220" height="114"><p></p></li><li>If two resources with the same name both declared in the <span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">context.xml</span> files under the web application’s <span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">META-INF</span> directory and in the <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">$CATALINA_BASE/conf</span></strong> directory, then the internal version takes precedence.</li></ul>&nbsp;<p></p><h2>3. Configure web.xml</h2>Add the following declaration into the <span style="color: #800000;"><strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">web.xml</span></strong></span> file:<p></p><div><div id="highlighter_345112" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">resource-ref</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">description</code><code class="xml plain">&gt;DB Connection&lt;/</code><code class="xml keyword">description</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">res-ref-name</code><code class="xml plain">&gt;jdbc/UsersDB&lt;/</code><code class="xml keyword">res-ref-name</code><code class="xml plain">&gt;</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">res-type</code><code class="xml plain">&gt;javax.sql.DataSource&lt;/</code><code class="xml keyword">res-type</code><code class="xml plain">&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">res-auth</code><code class="xml plain">&gt;Container&lt;/</code><code class="xml keyword">res-auth</code><code class="xml plain">&gt;</code></div><div class="line number6 index5 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">resource-ref</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>This is necessary in order to make the JNDI DataSource available to the application under the specified namespace <span style="color: #800000;"><strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">jdbc/UsersDB</span></strong></span>.<p></p>&nbsp;<p></p><h2>4. Code a test JSP page</h2>Now, create a JSP page (<span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;; color: #800000;">UsersList.jsp</span>) to test the configuration we have made:<p></p><div><div id="highlighter_478123" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1 highlighted">6</div><div class="line number7 index6 alt2 highlighted">7</div><div class="line number8 index7 alt1 highlighted">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/sql" prefix="sql" %&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">pageEncoding="UTF-8"%&gt;</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1 highlighted"><code class="xml plain">&lt;</code><code class="xml keyword">sql:query</code> <code class="xml color1">var</code><code class="xml plain">=</code><code class="xml string">"listUsers"</code> <code class="xml color1">dataSource</code><code class="xml plain">=</code><code class="xml string">"jdbc/UsersDB"</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2 highlighted"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">select username, email from users;</code></div><div class="line number8 index7 alt1 highlighted"><code class="xml plain">&lt;/</code><code class="xml keyword">sql:query</code><code class="xml plain">&gt;</code></div><div class="line number9 index8 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="xml plain">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" </code></div><div class="line number11 index10 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">"http://www.w3.org/TR/html4/loose.dtd"&gt;</code></div><div class="line number12 index11 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">html</code><code class="xml plain">&gt;</code></div><div class="line number13 index12 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">head</code><code class="xml plain">&gt;</code></div><div class="line number14 index13 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">meta</code> <code class="xml color1">http-equiv</code><code class="xml plain">=</code><code class="xml string">"Content-Type"</code> <code class="xml color1">content</code><code class="xml plain">=</code><code class="xml string">"text/html; charset=UTF-8"</code><code class="xml plain">&gt;</code></div><div class="line number15 index14 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">title</code><code class="xml plain">&gt;Users List&lt;/</code><code class="xml keyword">title</code><code class="xml plain">&gt;</code></div><div class="line number16 index15 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">head</code><code class="xml plain">&gt;</code></div><div class="line number17 index16 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">body</code><code class="xml plain">&gt;</code></div><div class="line number18 index17 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">div</code> <code class="xml color1">align</code><code class="xml plain">=</code><code class="xml string">"center"</code><code class="xml plain">&gt;</code></div><div class="line number19 index18 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">table</code> <code class="xml color1">border</code><code class="xml plain">=</code><code class="xml string">"1"</code> <code class="xml color1">cellpadding</code><code class="xml plain">=</code><code class="xml string">"5"</code><code class="xml plain">&gt;</code></div><div class="line number20 index19 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">caption</code><code class="xml plain">&gt;&lt;</code><code class="xml keyword">h2</code><code class="xml plain">&gt;List of users&lt;/</code><code class="xml keyword">h2</code><code class="xml plain">&gt;&lt;/</code><code class="xml keyword">caption</code><code class="xml plain">&gt;</code></div><div class="line number21 index20 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">tr</code><code class="xml plain">&gt;</code></div><div class="line number22 index21 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">th</code><code class="xml plain">&gt;Name&lt;/</code><code class="xml keyword">th</code><code class="xml plain">&gt;</code></div><div class="line number23 index22 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">th</code><code class="xml plain">&gt;Email&lt;/</code><code class="xml keyword">th</code><code class="xml plain">&gt;</code></div><div class="line number24 index23 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">tr</code><code class="xml plain">&gt;</code></div><div class="line number25 index24 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">c:forEach</code> <code class="xml color1">var</code><code class="xml plain">=</code><code class="xml string">"user"</code> <code class="xml color1">items</code><code class="xml plain">=</code><code class="xml string">"${listUsers.rows}"</code><code class="xml plain">&gt;</code></div><div class="line number26 index25 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">tr</code><code class="xml plain">&gt;</code></div><div class="line number27 index26 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">td</code><code class="xml plain">&gt;&lt;</code><code class="xml keyword">c:out</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"${user.username}"</code> <code class="xml plain">/&gt;&lt;/</code><code class="xml keyword">td</code><code class="xml plain">&gt;</code></div><div class="line number28 index27 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">td</code><code class="xml plain">&gt;&lt;</code><code class="xml keyword">c:out</code> <code class="xml color1">value</code><code class="xml plain">=</code><code class="xml string">"${user.email}"</code> <code class="xml plain">/&gt;&lt;/</code><code class="xml keyword">td</code><code class="xml plain">&gt;</code></div><div class="line number29 index28 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">tr</code><code class="xml plain">&gt;</code></div><div class="line number30 index29 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">c:forEach</code><code class="xml plain">&gt;</code></div><div class="line number31 index30 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">table</code><code class="xml plain">&gt;</code></div><div class="line number32 index31 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">div</code><code class="xml plain">&gt;</code></div><div class="line number33 index32 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">body</code><code class="xml plain">&gt;</code></div><div class="line number34 index33 alt1"><code class="xml plain">&lt;/</code><code class="xml keyword">html</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>Here, we use the <a href="https://www.codejava.net/java-ee/jstl/jstl-sql-tag-query" target="_blank">JSTL’s SQL tag <strong>query</strong></a> to make a SELECT query to the database. Note that the <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">dataSource</span></strong> attribute refers to the JNDI resource name declared in the <span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">web.xml</span> file:<p></p><div><div id="highlighter_568291" class="syntaxhighlighter  xml"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;</code><code class="xml keyword">sql:query</code> <code class="xml color1">var</code><code class="xml plain">=</code><code class="xml string">"listUsers"</code> <code class="xml color1">dataSource</code><code class="xml plain">=</code><code class="xml string">"jdbc/UsersDB"</code><code class="xml plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">select username, email from users;</code></div><div class="line number3 index2 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">sql:query</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>Here’s a sample output when loading the JSP page (<i>http://localhost:8080/JNDIDataSourceExample/UsersList.jsp</i>):<p></p><img style="display: block; margin-left: auto; margin-right: auto;" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/JNDI_DataSource_Example_Output_1.png" alt="JNDI DataSource Example Output 1" width="460" height="317"><p></p>&nbsp;<p></p><h2>5. Code a test Java servlet</h2>We can look up the configured JNDI DataSource using Java code as follows:<p></p><div><div id="highlighter_402536" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java plain">Context initContext = </code><code class="java keyword">new</code> <code class="java plain">InitialContext();</code></div><div class="line number2 index1 alt1"><code class="java plain">Context envContext = (Context) initContext.lookup(</code><code class="java string">"java:comp/env"</code><code class="java plain">);</code></div><div class="line number3 index2 alt2"><code class="java plain">DataSource ds = (DataSource) envContext.lookup(</code><code class="java string">"jdbc/UsersDB"</code><code class="java plain">);</code></div><div class="line number4 index3 alt1"><code class="java plain">Connection conn = ds.getConnection();</code></div></div></td></tr></tbody></table></div></div>After obtaining the connection, we can use it as trivial JDBC code:<p></p><div><div id="highlighter_140425" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java plain">Statement statement = conn.createStatement();</code></div><div class="line number2 index1 alt1"><code class="java plain">String sql = </code><code class="java string">"select username, email from users"</code><code class="java plain">;</code></div><div class="line number3 index2 alt2"><code class="java plain">ResultSet rs = statement.executeQuery(sql);</code></div><div class="line number4 index3 alt1"><code class="java comments">// iterates over the result set...</code></div></div></td></tr></tbody></table></div></div>Here’s the source code of an example Java servlet:<p></p><div><div id="highlighter_845556" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2 highlighted">33</div><div class="line number34 index33 alt1 highlighted">34</div><div class="line number35 index34 alt2 highlighted">35</div><div class="line number36 index35 alt1 highlighted">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">net.codejava.jdbc;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">java.io.IOException;</code></div><div class="line number4 index3 alt1"><code class="java keyword">import</code> <code class="java plain">java.io.PrintWriter;</code></div><div class="line number5 index4 alt2"><code class="java keyword">import</code> <code class="java plain">java.sql.Connection;</code></div><div class="line number6 index5 alt1"><code class="java keyword">import</code> <code class="java plain">java.sql.ResultSet;</code></div><div class="line number7 index6 alt2"><code class="java keyword">import</code> <code class="java plain">java.sql.SQLException;</code></div><div class="line number8 index7 alt1"><code class="java keyword">import</code> <code class="java plain">java.sql.Statement;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="java keyword">import</code> <code class="java plain">javax.naming.Context;</code></div><div class="line number11 index10 alt2"><code class="java keyword">import</code> <code class="java plain">javax.naming.InitialContext;</code></div><div class="line number12 index11 alt1"><code class="java keyword">import</code> <code class="java plain">javax.naming.NamingException;</code></div><div class="line number13 index12 alt2"><code class="java keyword">import</code> <code class="java plain">javax.servlet.ServletException;</code></div><div class="line number14 index13 alt1"><code class="java keyword">import</code> <code class="java plain">javax.servlet.annotation.WebServlet;</code></div><div class="line number15 index14 alt2"><code class="java keyword">import</code> <code class="java plain">javax.servlet.http.HttpServlet;</code></div><div class="line number16 index15 alt1"><code class="java keyword">import</code> <code class="java plain">javax.servlet.http.HttpServletRequest;</code></div><div class="line number17 index16 alt2"><code class="java keyword">import</code> <code class="java plain">javax.servlet.http.HttpServletResponse;</code></div><div class="line number18 index17 alt1"><code class="java keyword">import</code> <code class="java plain">javax.sql.DataSource;</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="java preprocessor">/**</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* This servlet class demonstrates how to access a JNDI DataSource that </code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* represents a JDBC connection.</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* @author www.codejava.net</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number25 index24 alt2"><code class="java color1">@WebServlet</code><code class="java plain">(</code><code class="java string">"/listUsers"</code><code class="java plain">)</code></div><div class="line number26 index25 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">UsersListServlet </code><code class="java keyword">extends</code> <code class="java plain">HttpServlet {</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java keyword">long</code> <code class="java plain">serialVersionUID = 1L;</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">protected</code> <code class="java keyword">void</code> <code class="java plain">doGet(HttpServletRequest request,</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">HttpServletResponse response) </code><code class="java keyword">throws</code> <code class="java plain">ServletException, IOException {</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">PrintWriter writer = response.getWriter();</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number33 index32 alt2 highlighted"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Context initContext = </code><code class="java keyword">new</code> <code class="java plain">InitialContext();</code></div><div class="line number34 index33 alt1 highlighted"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Context envContext = (Context) initContext.lookup(</code><code class="java string">"java:comp/env"</code><code class="java plain">);</code></div><div class="line number35 index34 alt2 highlighted"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">DataSource ds = (DataSource) envContext.lookup(</code><code class="java string">"jdbc/UsersDB"</code><code class="java plain">);</code></div><div class="line number36 index35 alt1 highlighted"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Connection conn = ds.getConnection();</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Statement statement = conn.createStatement();</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String sql = </code><code class="java string">"select username, email from users"</code><code class="java plain">;</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ResultSet rs = statement.executeQuery(sql);</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">count = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(rs.next()) {</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">writer.println(String.format(</code><code class="java string">"User #%d: %-15s %s"</code><code class="java plain">, count++, </code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">rs.getString(</code><code class="java string">"username"</code><code class="java plain">), rs.getString(</code><code class="java string">"email"</code><code class="java plain">)));</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(NamingException ex) {</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.err.println(ex);</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(SQLException ex) {</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.err.println(ex);</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>And the following is a sample output when calling the servlet (<i>http://localhost:8080/JNDIDataSourceExample/listUsers</i>):<p></p><img style="display: block; margin-left: auto; margin-right: auto;" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/JNDI_DataSource_Example_Output_2.png" alt="JNDI DataSource Example Output 2" width="460" height="174"><p></p>Alternatively, we can use the <span style="color: #800000;"><strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">@Resource</span></strong></span> annotation (<span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">javax.annotation.Resource</span>) instead of the lookup code above. For example, declare a field called <strong><span style="font-size: 10pt; line-height: 115%; font-family: &#39;Courier New&#39;;">dataSource</span></strong> in the servlet like this:<p></p><div><div id="highlighter_191890" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@Resource</code><code class="java plain">(name = </code><code class="java string">"jdbc/UsersDB"</code><code class="java plain">)</code></div><div class="line number2 index1 alt1"><code class="java keyword">private</code> <code class="java plain">DataSource dataSource;</code></div></div></td></tr></tbody></table></div></div>Tomcat will look up the specified resource name and inject an actual implementation when it discovers this annotation. Therefore, the servlet code looks like this:<p></p><div><div id="highlighter_41277" class="syntaxhighlighter  java"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2 highlighted">5</div><div class="line number6 index5 alt1 highlighted">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1 highlighted">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@WebServlet</code><code class="java plain">(</code><code class="java string">"/listUsers"</code><code class="java plain">)</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">UsersListServlet </code><code class="java keyword">extends</code> <code class="java plain">HttpServlet {</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java keyword">long</code> <code class="java plain">serialVersionUID = 1L;</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2 highlighted"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Resource</code><code class="java plain">(name = </code><code class="java string">"jdbc/UsersDB"</code><code class="java plain">)</code></div><div class="line number6 index5 alt1 highlighted"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">DataSource dataSource;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">protected</code> <code class="java keyword">void</code> <code class="java plain">doGet(HttpServletRequest request,</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">HttpServletResponse response) </code><code class="java keyword">throws</code> <code class="java plain">ServletException, IOException {</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">PrintWriter writer = response.getWriter();</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number12 index11 alt1 highlighted"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Connection conn = dataSource.getConnection();</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Statement statement = conn.createStatement();</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String sql = </code><code class="java string">"select username, email from users"</code><code class="java plain">;</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">ResultSet rs = statement.executeQuery(sql);</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">int</code> <code class="java plain">count = </code><code class="java value">1</code><code class="java plain">;</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">while</code> <code class="java plain">(rs.next()) {</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">writer.println(String.format(</code><code class="java string">"User #%d: %-15s %s"</code><code class="java plain">, count++,</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">rs.getString(</code><code class="java string">"username"</code><code class="java plain">), rs.getString(</code><code class="java string">"email"</code><code class="java plain">)));</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(SQLException ex) {</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.err.println(ex);</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div>&nbsp;<p></p><h3><span style="line-height: 115%;">References:</span></h3><ul><li><a href="http://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html#MySQL_DBCP_Example" rel="nofollow" target="_blank">JNDI Datasource HOW-TO</a></li><li><a href="http://tomcat.apache.org/tomcat-7.0-doc/config/context.html#Resource_Definitions" rel="nofollow" target="_blank">The Context Container - Resource Definitions</a></li></ul>&nbsp;<p></p><h3 style="padding: 0px; font-family: &#39;Open Sans&#39;, sans-serif; color: #333333;">Other Tomcat Tutorials:</h3><ul style="font-family: Arial, Helvetica, sans-serif; font-size: 14.3px;"><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/servers/tomcat/how-to-deploy-a-java-web-application-on-tomcat" target="_blank">How to deploy a Java web application on Tomcat</a></li><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/servers/tomcat/how-to-embed-tomcat-server-into-java-web-applications" target="_blank">How to Embed Tomcat Server into Java Web Applications</a></li><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/servers/tomcat/how-to-use-virtual-hosts-in-tomcat" target="_blank">How to Use Virtual Hosts in Tomcat</a></li><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/servers/tomcat/tomcat-how-to-set-web-application-context-path-as-server-root" target="_blank">How to set web application context path as server root in Tomcat</a></li><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/servers/tomcat/how-to-configure-session-timeout-in-tomcat" target="_blank">How to configure session timeout in Tomcat</a></li><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/4How%20to%20add%20Tomcat%20server%20in%20Eclipse%20IDEhttps:/www.codejava.net/servers/tomcat/how-to-add-tomcat-server-in-eclipse-ide" target="_blank">How to add Tomcat server in Eclipse IDE</a></li><li style="margin: 0px; padding: 0px;"><a href="https://www.codejava.net/servers/tomcat/change-tomcat-port-numbers-in-serverxml-file" target="_blank">How to change Tomcat port number</a></li><li style="margin: 0px; padding: 0px;"><a style="margin: 0px; padding: 0px; color: #095197; cursor: pointer;" href="https://www.codejava.net/servers/tomcat/how-to-change-server-location-and-deploy-path-for-tomcat-in-eclipse" target="_blank">How to change server location and deploy path for Tomcat in Eclipse</a></li></ul><div><br><h3>About the Author:</h3><img src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/NamAuthor.png" align="left" style="padding: 0px 10px 15px 0px"><cite><a href="https://www.codejava.net/nam-ha-minh" target="_blank" rel="author">Nam Ha Minh</a></cite> is certified Java programmer (SCJP and SCWCD). He started programming with Java in the time of Java 1.4 and has been falling in love with Java since then. Make friend with him on <a href="https://www.facebook.com/namjavaprogrammer" rel="nofollow" target="_blank">Facebook</a>.<br><br><script data-cfasync="false" type="text/javascript" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/750x300.js"></script></div><div class="attachmentsContainer"><div class="attachmentsList" id="attachmentsList_com_content_article_485"><table><caption>Attachments:</caption><tbody><tr class="odd"><td class="at_filename"><a class="at_icon" href="https://www.codejava.net/download-attachment?fid=296" target="_blank" title="Download this file (JNDIDataSourceExample.zip)"><img src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/zip.gif" alt="Download this file (JNDIDataSourceExample.zip)"></a><a class="at_url" href="https://www.codejava.net/download-attachment?fid=296" target="_blank" title="Download this file (JNDIDataSourceExample.zip)">JNDIDataSourceExample.zip</a></td><td class="at_description">[Eclipse project]</td><td class="at_file_size">393 kB</td></tr></tbody></table></div></div><input type="hidden" id="jcaid" value="485"><div id="jc"><h4>Add comment</h4><a id="addcomments" href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#addcomments"></a><form id="comments-form" name="comments-form" action="javascript:void(null);"><p><span><input id="comments-form-name" type="text" name="name" maxlength="20" size="22" tabindex="1" placeholder="Name" required=""> &nbsp;&nbsp;&nbsp; <input id="comments-form-email" type="text" name="email" value="" size="22" tabindex="2" placeholder="E-mail" required=""></span></p><p><span><span class="bbcode" style="display: block;"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" id="bbcode-b" title="Bold" class="bbcode-b" style="display: block;"></a><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" id="bbcode-i" title="Italic" class="bbcode-i" style="display: block;"></a><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" id="bbcode-u" title="Underlined" class="bbcode-u" style="display: block;"></a><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" id="bbcode-s" title="Striked" class="bbcode-s" style="display: block;"></a><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" id="bbcode-img" title="Image" class="bbcode-img" style="display: block;"></a><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" id="bbcode-url" title="Link" class="bbcode-url" style="display: block;"></a><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" id="bbcode-quote" title="Quote" class="bbcode-quote" style="display: block;"></a><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" id="bbcode-list" title="List" class="bbcode-list" style="display: block;"></a></span><textarea id="comments-form-comment" name="comment" cols="50" rows="6" tabindex="5" placeholder="comment" required=""></textarea><div class="grippie"><span class="counter"> <span>500</span>  symbols left</span></div></span></p><p><span><input class="checkbox" id="comments-form-subscribe" type="checkbox" name="subscribe" value="1" tabindex="5"><label for="comments-form-subscribe">Notify me of follow-up comments</label><br></span></p><p><span></span></p><div class="g-recaptcha" data-sitekey="6Leb1UsUAAAAAMz79FhT2G1eTmOUpvd2E82eUp2F"><div style="width: 304px; height: 78px;"><div><iframe src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/anchor.html" width="304" height="78" role="presentation" name="a-ikgdf9uahw5l" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div></div><p></p><div id="comments-form-buttons"><div class="btn" id="comments-form-send"><button id="btnSendComment" title="Send (Ctrl+Enter)">Send</button></div><div class="btn" id="comments-form-cancel" style="display:none;"><div><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" tabindex="8" onclick="return false;" title="Cancel">Cancel</a></div></div><div style="clear:both;"></div></div><div><input type="hidden" id="object_id" name="object_id" value="485"><input type="hidden" id="object_group" name="object_group" value="com_content"></div></form><div id="comments"><h4><a id="comment" name="comment">Comments</a><a class="refresh" href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" title="Refresh comments list" id="btnRefreshComment1">&nbsp;</a></h4><div id="nav-top"><input type="hidden" id="totalPage" value="5"><span class="activepage"><b>1</b></span><span id="showPageTop2" class="page" onmouseover="this.className=&#39;hoverpage&#39;;" onmouseout="this.className=&#39;page&#39;;">2</span><span id="showPageTop3" class="page" onmouseover="this.className=&#39;hoverpage&#39;;" onmouseout="this.className=&#39;page&#39;;">3</span><span id="showPageTop4" class="page" onmouseover="this.className=&#39;hoverpage&#39;;" onmouseout="this.className=&#39;page&#39;;">4</span><span id="showPageTop5" class="page" onmouseover="this.className=&#39;hoverpage&#39;;" onmouseout="this.className=&#39;page&#39;;">5</span></div><div id="comments-list" class="comments-list"><div class="even" id="comment-item-16473"><div class="rbox"><div class="comment-box"><a class="comment-anchor" href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#comment-16473" id="comment-16473">#23</a><span class="comment-author">Savita</span><span class="comment-date">2019-05-10 01:51</span><div class="comment-body" id="comment-body-16473">please can you tell this using oracle</div><span class="comments-buttons"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" class="qclnk" qid="16473">Quote</a></span></div><div class="clear"></div></div></div><div class="odd" id="comment-item-15682"><div class="rbox"><div class="comment-box"><a class="comment-anchor" href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#comment-15682" id="comment-15682">#22</a><span class="comment-author">Jeremy</span><span class="comment-date">2019-01-12 07:04</span><div class="comment-body" id="comment-body-15682">Wonderful article. I try for days, catch many bad examples, and finally found this great explanation.</div><span class="comments-buttons"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" class="qclnk" qid="15682">Quote</a></span></div><div class="clear"></div></div></div><div class="even" id="comment-item-5550"><div class="rbox"><div class="comment-box"><a class="comment-anchor" href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#comment-5550" id="comment-5550">#21</a><span class="comment-author">Shivank</span><span class="comment-date">2017-06-27 04:57</span><div class="comment-body" id="comment-body-5550">Hi! Thank you for the example, it was very helpful. :-)<br>However I have a doubt. Suppose if we need to periodically ping the database using this datasource, what should be the correct approach to do it?</div><span class="comments-buttons"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" class="qclnk" qid="5550">Quote</a></span></div><div class="clear"></div></div></div><div class="odd" id="comment-item-5418"><div class="rbox"><div class="comment-box"><a class="comment-anchor" href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#comment-5418" id="comment-5418">#20</a><span class="comment-author">Jacopo Sabatini</span><span class="comment-date">2017-06-01 10:02</span><div class="comment-body" id="comment-body-5418">The most clear explanation for jndi datasource.<br>Very Helpfull. <br>Thanks very much<br><br>J.</div><span class="comments-buttons"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" class="qclnk" qid="5418">Quote</a></span></div><div class="clear"></div></div></div><div class="even" id="comment-item-4410"><div class="rbox"><div class="comment-box"><a class="comment-anchor" href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#comment-4410" id="comment-4410">#19</a><span class="comment-author">Nam</span><span class="comment-date">2016-11-15 20:12</span><div class="comment-body" id="comment-body-4410"><span class="quote">Quoting Arun:</span><blockquote><div>Hi ,<br><br>This is Arun I have Doubt That is in userservlet class <br>you declare this Context envContext = (Context) initContext.lookup("java:comp/env"); here what is the use of "java:comp/env".this .<br><br>Please let me know .</div></blockquote><br>That obtains the environment context which can be used to look up a data source.</div><span class="comments-buttons"><a href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" class="qclnk" qid="4410">Quote</a></span></div><div class="clear"></div></div></div></div><div id="nav-bottom"><input type="hidden" id="totalPage" value="5"><span class="activepage"><b>1</b></span><span id="showPageBottom2" class="page" onmouseover="this.className=&#39;hoverpage&#39;;" onmouseout="this.className=&#39;page&#39;;">2</span><span id="showPageBottom3" class="page" onmouseover="this.className=&#39;hoverpage&#39;;" onmouseout="this.className=&#39;page&#39;;">3</span><span id="showPageBottom4" class="page" onmouseover="this.className=&#39;hoverpage&#39;;" onmouseout="this.className=&#39;page&#39;;">4</span><span id="showPageBottom5" class="page" onmouseover="this.className=&#39;hoverpage&#39;;" onmouseout="this.className=&#39;page&#39;;">5</span></div><div id="comments-list-footer"><a class="refresh" href="https://www.codejava.net/servers/tomcat/configuring-jndi-datasource-for-database-connection-pooling-in-tomcat#" title="Refresh comments list" id="btnRefreshComment2">Refresh comments list</a></div></div></div></div><!-- End Content --></main></div></div></div><!-- Footer --><footer class="footer" role="contentinfo"><div class="container"><p><font size="+1">About CodeJava.net:</font><br> CodeJava.net shares Java tutorials, code examples and sample projects for programmers at all levels.<br> CodeJava.net is created and managed by <a href="https://www.codejava.net/nam-ha-minh">Nam Ha Minh</a> - a passionate programmer. <br></p><nav class="nav-footer"><a href="https://www.codejava.net/about">About</a>&nbsp; <a href="https://www.codejava.net/contact">Contact</a>&nbsp; <a href="https://www.codejava.net/terms">Terms of Use</a>&nbsp; <a href="https://www.codejava.net/privacy-policy">Privacy Policy</a>&nbsp; <a href="https://www.codejava.net/sitemap">Sitemap</a>&nbsp; <a href="https://www.facebook.com/codejava" target="_blank" rel="nofollow"><b>F</b>acebook</a>&nbsp; <a href="https://twitter.com/codejavadotnet" target="_blank" rel="nofollow"><b>T</b>witter</a>&nbsp;<a href="https://www.youtube.com/codejava" target="_blank" rel="nofollow"><b>Y</b>ouTube</a>&nbsp; </nav><p><br><font size="-3">Copyright © 2012 - 2020 CodeJava.net, all rights reserved.</font></p></div></footer><script src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/ee519081b2451f336765eca967cf07c4.js" defer="" type="text/javascript"></script><noscript>JavaScript is currently disabled.</noscript><div style="background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); box-shadow: rgba(0, 0, 0, 0.2) 2px 2px 3px; position: absolute; transition: visibility 0s linear 0.3s, opacity 0.3s linear 0s; opacity: 0; visibility: hidden; z-index: 2000000000; left: 0px; top: -10000px;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: rgb(255, 255, 255); opacity: 0.05;"></div><div class="g-recaptcha-bubble-arrow" style="border: 11px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;"></div><div class="g-recaptcha-bubble-arrow" style="border: 10px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge" src="./How to configure JNDI DataSource for Database Connection Pooling in Tomcat_files/bframe.html" name="c-ikgdf9uahw5l" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox" style="width: 100%; height: 100%;"></iframe></div></div></body></html>