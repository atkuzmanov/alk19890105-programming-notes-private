var gaEventQueue=gaEventQueue||{};!function($){function sendNext(){gaTimer=!1,"undefined"!=typeof ga&&0!=gaEventQueue.hitsToSend.length&&(gaTokens>0?(gaTokens--,ga.apply(window,gaEventQueue.hitsToSend.shift()),sendNext()):gaTimer=setTimeout(sendNext,1e3))}var gaTokens=20,gaTimer=!1;gaEventQueue.hitsToSend=[],setInterval(function(){gaTokens=Math.max(20,gaTokens+2)},2e3),gaEventQueue.track=function(){var args=Array.prototype.slice.call(arguments);args.unshift("send","event"),gaEventQueue.hitsToSend.push(args),sendNext()},window.addEventListener("load",function(){sendNext()})}("undefined"!=typeof jQuery?jQuery:Zepto),function(window,$){var tag="ads-weighted";document.createElement(tag);var rand=Math.random();$.each(document.getElementsByTagName(tag),function(i,node){var $node=$(node);jQuery.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:{action:"sp_maestro_random_content",channelSlug:$node.attr("channelSlug"),fallback:$node.attr("fallback"),possibilities:JSON.parse($node.attr("data")),rand:rand,url:$node.attr("url")},success:function(data,textStatus,XMLHttpRequest){$node.html(data),document.SP_renderNodeChildren&&document.SP_renderNodeChildren(node)}})})}(window,jQuery),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function o(t,e){var o,i=document.createElement(t||"div");for(o in e)i[o]=e[o];return i}function n(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}function s(t,o,n,s){var a=["opacity",o,~~(100*t),n,s].join("-"),f=.01+n/s*100,l=Math.max(1-(1-t)/o*(100-f),t),d=i.substring(0,i.indexOf("Animation")).toLowerCase(),u=d&&"-"+d+"-"||"";return e[a]||(r.insertRule("@"+u+"keyframes "+a+"{0%{opacity:"+l+"}"+f+"%{opacity:"+t+"}"+(f+.01)+"%{opacity:1}"+(f+o)%100+"%{opacity:"+t+"}100%{opacity:"+l+"}}",r.cssRules.length),e[a]=1),a}function a(e,i){var n,r,o=e.style;if(void 0!==o[i])return i;for(i=i.charAt(0).toUpperCase()+i.slice(1),r=0;r<t.length;r++)if(n=t[r]+i,void 0!==o[n])return n}function f(t,e){for(var i in e)t.style[a(t,i)||i]=e[i];return t}function l(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t}function d(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function p(t){if(void 0===this)return new p(t);this.opts=l(t||{},p.defaults,u)}var i,t=["webkit","Moz","ms","O"],e={},r=function(){var t=o("style",{type:"text/css"});return n(document.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),u={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};p.defaults={},l(p.prototype,{spin:function(t){this.stop();var a,l,e=this,n=e.opts,r=e.el=f(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),s=n.radius+n.length+n.width;if(t&&(t.insertBefore(r,t.firstChild||null),l=d(t),a=d(r),f(r,{left:("auto"==n.left?l.x-a.x+(t.offsetWidth>>1):parseInt(n.left,10)+s)+"px",top:("auto"==n.top?l.y-a.y+(t.offsetHeight>>1):parseInt(n.top,10)+s)+"px"})),r.setAttribute("role","progressbar"),e.lines(r,e.opts),!i){var c,u=0,p=(n.lines-1)*(1-n.direction)/2,h=n.fps,m=h/n.speed,y=(1-n.opacity)/(m*n.trail/100),g=m/n.lines;!function v(){u++;for(var t=0;t<n.lines;t++)c=Math.max(1-(u+(n.lines-t)*g)%m*y,n.opacity),e.opacity(r,t*n.direction+p,c,n);e.timeout=e.el&&setTimeout(v,~~(1e3/h))}()}return e},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(t,e){function d(t,i){return f(o(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*r+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var l,r=0,a=(e.lines-1)*(1-e.direction)/2;r<e.lines;r++)l=f(o(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:i&&s(e.opacity,e.trail,a+r*e.direction,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&n(l,f(d("#000","0 0 4px #000"),{top:"2px"})),n(t,n(l,d(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var h=f(o("group"),{behavior:"url(#default#VML)"});return!a(h,"transform")&&h.adj?function(){function t(t,e){return o("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}r.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(e,i){function s(){return f(t("group",{coordsize:r+" "+r,coordorigin:-o+" "+-o}),{width:r,height:r})}function u(e,r,a){n(l,n(f(s(),{rotation:360/i.lines*e+"deg",left:~~r}),n(f(t("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}var d,o=i.length+i.width,r=2*o,a=2*-(i.width+i.length)+"px",l=f(s(),{position:"absolute",top:a,left:a});if(i.shadow)for(d=1;d<=i.lines;d++)u(d,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(d=1;d<=i.lines;d++)u(d);return n(e,l)},p.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&e+o<n.childNodes.length&&(n=(n=(n=n.childNodes[e+o])&&n.firstChild)&&n.firstChild)&&(n.opacity=i)}}():i=a(h,"animation"),p}),function(document,tag){var script=document.createElement("script"),element=document.getElementsByTagName("body")[0];script.src="https://acsbap.com/api/app/assets/js/acsb.js",script.async=!0,script.defer=!0,(void 0===element?document.getElementsByTagName("html")[0]:element).appendChild(script),script.onload=function(){acsbJS.init({statementLink:"",feedbackLink:"",footerHtml:"",hideMobile:!1,hideTrigger:!1,handleJquery:!0,language:"en",position:"left",leadColor:"#fa3292",triggerColor:"#fa3292",triggerRadius:"50%",triggerPositionX:"left",triggerPositionY:"bottom",triggerIcon:"default",triggerSize:"medium",triggerOffsetX:20,triggerOffsetY:20,usefulLinks:{},mobile:{triggerSize:"small",triggerPositionX:"left",triggerPositionY:"bottom",triggerOffsetX:0,triggerOffsetY:0,triggerRadius:"0"}})}}(document),function($){var Search=function($input,$dropdown){var that=this;this.$input=$input,that.$input.hasClass("small")||(this.$dropdown=$dropdown,this.$searchForEl=$dropdown.find("[data-role=search-for]"),this.searchLinkEl=this.$searchForEl.find("a.search-link")[0],this.$searchResultsEl=$dropdown.find("[data-role=results]"),that.types={category:{headline:"Categories",linkPrefix:"/"},author:{headline:"Authors",linkPrefix:"/author/"},post:{headline:"Articles",linkPrefix:"/"}},this.searchClickHandler=$.proxy(this.searchClickHandler,this),this.searchKeyupHandler=$.proxy(this.searchKeyupHandler,this),that.searchTerm="",that.timeout=null,this.xhr=null,this.initSpinner(),that.$input.on("keyup.search",function(event){var searchTerm=that.$input.val();that.xhr&&that.xhr.abort(),that.xhr=null,searchTerm.length<2?that.updateDropdown(searchTerm,""):(that.updateDropdown(searchTerm),searchTerm!=that.searchTerm&&(clearTimeout(that.timeout),that.updateDropdown(searchTerm),that.showSpinner(),that.timeout=setTimeout(function(){that.execute(searchTerm)},150))),that.searchTerm=searchTerm}),that.$input.parents("form").on("mouseleave.search",function(event){var searchContainer=$("#search-container");that.$input.val()?searchContainer.addClass("u-active"):searchContainer.removeClass("u-active")}),that.$input.parents("form").submit(function(event){""===that.$input.val()&&(event.preventDefault(),that.$input.focus())}),that.$input.on("focus.search",function(event){var searchTerm=that.$input.val();searchTerm.length>0&&that.updateDropdown(searchTerm)}),that.$dropdown.on("close.search",function(){that.$dropdown.hide(),$("body").off("click.search",that.searchClickHandler),$(document).off("keyup.search",that.searchKeyupHandler)}))};Search.prototype={initSpinner:function(){var spinnerOpts={lines:13,length:3,width:2,radius:5,corners:1,rotate:0,direction:1,color:"#fff",speed:.7,trail:72,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"};this.spinner=new Spinner(spinnerOpts)},searchClickHandler:function(event){$(event.target).is(this.$input)||$(event.target).parents(this.$dropdown).is(this.$dropdown)||this.$dropdown.trigger("close")},searchKeyupHandler:function(event){27==event.keyCode&&this.$dropdown.trigger("close")},execute:function(term){var that=this;that.updateDropdown(term),this.xhr=$.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",data:{action:"sp_search_livesearch",s:term},error:function(xhr){that.updateDropdown(term,"")},success:function(response){var results=JSON.parse(response),html="";for(var type in that.types){var typeConfig=that.types[type];if(results&&results[type].length>0){html+='<li class="search-result-divider"><strong>'+typeConfig.headline+'</strong><a href="/?s='+encodeURIComponent(term)+"&type="+type+'">See all</a></li>';for(var i=0;i<results[type].length;i++){var result=results[type][i];html+='<li><a href="'+typeConfig.linkPrefix+result.slug+'">'+result.label+"</a></li>"}}}that.updateDropdown(that.searchTerm,html),that.spinner.stop()}})},updateDropdown:function(term,results){var that=this;term.length<2&&that.spinner.stop(),""!==term?(that.$dropdown.show(),$("body").off("click.search",this.searchClickHandler),$("body").on("click.search",this.searchClickHandler),$(document).off("keyup.search",this.searchKeyupHandler),$(document).on("keyup.search",this.searchKeyupHandler),this.searchLinkEl.href="/?s="+encodeURIComponent(term),this.searchLinkEl.innerText='Search for "'+term+'"',void 0!==results&&(that.$dropdown.show(),this.$searchResultsEl.html(results))):this.$dropdown.trigger("close")},showSpinner:function(){this.spinner.spin(),this.$searchForEl.append(this.spinner.el)}},$(document).ready(function(){new Search($("#search-box"),$("#search-dropdown"))})}(jQuery);var loadMore=function(window){"use strict";var params={init:!1,initId:0,initPageTitle:document.title,initPageUrl:window.location.href,offset:0,active:!0,isIE:-1!==navigator.appVersion.indexOf("MSIE 10"),jobAds:""},onScroll=function(event){event.preventDefault();var scrollTop=window.pageYOffset;params.active&&scrollTop>1&&(params.offset=document.querySelector("#navigation-bar")?document.querySelector("#navigation-bar").offsetHeight:params.offset,window.setTimeout(function(){var fromTop=scrollTop+params.offset,posts=document.querySelectorAll(".next-article"),url=window.location.href,current=Array.prototype.filter.call(posts,function(n,i){if("function"==typeof ajaxloadmore.getOffset&&ajaxloadmore.getOffset(n).top<fromTop)return n}),currentPost=current[current.length-1],id=currentPost?currentPost.firstElementChild.dataset.id:void 0,permalink=currentPost?currentPost.firstElementChild.dataset.url:"",title=currentPost?currentPost.firstElementChild.dataset.title+" â€” SitePoint":"",page=currentPost?currentPost.dataset.page:"";currentPost?currentPost.children[0].querySelector(".Sticky")&&updateSticky(currentPost.children[0].querySelector(".Sticky"),currentPost.children[0].querySelector(".u-accordion-end")):(id=params.initId,permalink=params.initPageUrl,title=params.initPageTitle),url!==permalink&&updateURL(id,permalink,title,page)},15))},updateURL=function(id,permalink,title,page){var state={postID:id,permalink:permalink,title:title};"function"!=typeof window.history.pushState||params.isIE||(updateTitle(title),history.replaceState(state,title,permalink))},updateTitle=function(title){document.title=title},updateSticky=function(element,endElement){var parent=element.parentElement,end=endElement||document.body,height=element.offsetHeight,minWidth=parent.getBoundingClientRect().width||300,fixedTop=parent.getBoundingClientRect().top<=115,fixedBottom=115+height+80>=end.getBoundingClientRect().top,fixed=fixedTop||fixedBottom;document.querySelectorAll(".Sticky").forEach(function(node){node.classList.remove("u-fixed"),node.style.top=""}),parent.style.minWidth=minWidth+"px",element.style.minWidth=minWidth+"px",element.classList.toggle("u-fixed",fixed);var style="";fixedTop&&(style="115px"),fixedBottom&&(style=end.getBoundingClientRect().top-(height+80)+"px"),element.style.top=style},getURL=function(url,success,error){if(window.XMLHttpRequest){var request=new XMLHttpRequest;request.onreadystatechange=function(){if(4===request.readyState){if(200!==request.status)return void(error&&"function"==typeof error&&error(request.responseText,request));success&&"function"==typeof success&&success(request.responseText,request)}},request.open("GET",url),request.send()}};return{params:params,init:function(){"undefined"!=typeof ajaxloadmore&&(params.init=!0),window.addEventListener("touchstart",onScroll),window.addEventListener("scroll",onScroll),getURL("https://sitepoint-lambda-production.s3-us-west-2.amazonaws.com/githubjobs.json",function(data){params.jobAds=JSON.parse(data)})},getURL:getURL}}(window),adsArray=["sitepoint_sponsor_1","sitepoint_side_1","sitepoint_side_2","sitepoint_side_3","sitepoint_main_1","sitepoint_billboard"],contentAdsArray=["sitepoint_content_1","sitepoint_content_2","sitepoint_content_4","sitepoint_content_5","sitepoint_content_6","sitepoint_content_7","sitepoint_content_8","sitepoint_content_9","sitepoint_content_10"],tempHTML=document.createElement("html"),adIndex=2;window.addEventListener("scroll",function(){window.almComplete=function(alm){if("undefined"!=typeof ajaxloadmore){loadMore.params.init||(loadMore.initId=alm.post_id,loadMore.init());var container=document.querySelectorAll(".sp-article-next");loadMore.getURL(container[container.length-1].dataset.url,function(data){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"nextArticle",category:"Next Article",action:"scrolled to next article",label:container[container.length-1].dataset.url});var temp=tempHTML.cloneNode(!0),adsContainer=(container[container.length-1].querySelector(".article-premium"),container[container.length-1].querySelector(".article-ads")),commentsContainer=container[container.length-1].querySelector("#commentsSection"),contentContainer=container[container.length-1].querySelector(".ArticleCopy");temp.innerHTML=data,temp.querySelector(".article-ads")&&adsContainer?(adsContainer.innerHTML=temp.querySelector(".article-ads").innerHTML,adsContainer.querySelector("adblock-msg")&&(adsContainer.querySelector("adblock-msg").style.display="none"),adsArray.forEach(function(adId){if(adsContainer.querySelector("#proper-ad-"+adId)&&"sitepoint_main_1"!=adId&&"sitepoint_billboard"!=adId){var sideAd=adsContainer.querySelector("#proper-ad-"+adId);properAdsHandler(sideAd,adId,adIndex)}}),adIndex++):adsContainer&&(container[container.length-1].querySelectorAll(".l-w-4col--4col").forEach(function(node,index){index<2&&(node.classList.remove("l-w-4col--4col"),node.classList.add("l-w-3col--3col"))}),adsContainer.parentNode.removeChild(adsContainer)),contentContainer.innerHTML=temp.querySelector(".ArticleCopy").innerHTML,contentAdsArray.forEach(function(adId){if(contentContainer.querySelector("#proper-ad-"+adId)){var contentAdIndex=container.length+1;window.setTimeout(function(){properAdsHandler(contentContainer.querySelector("#proper-ad-"+adId),adId,contentAdIndex)},900)}}),window.setTimeout(function(){Prism.highlightAll()},300),temp.querySelector("#commentsSection").innerHTML&&(commentsContainer.innerHTML=temp.querySelector("#commentsSection").innerHTML)});var properAdsHandler=function(node,adId,adIndex){node.id+="-"+adIndex,propertag.cmd.push(function(){proper_display(adId+"-"+adIndex)})}}}},{once:!0});