<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0049)https://martinfowler.com/bliki/MonolithFirst.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="uft-8" name="charset">

<title>MonolithFirst</title>

<meta content="summary_large_image" name="twitter:card">

<meta content="16665197" name="twitter:site:id">

<meta content="bliki: MonolithFirst" property="og:title">

<meta content="https://martinfowler.com/bliki/MonolithFirst.html" property="og:url">

<meta content="Going directly to a microservices architecture is risky, so consider building a monolithic system first. Split to microservices when, and if, you need it." property="og:description">

<meta content="https://martinfowler.com/bliki/images/microservice-verdict/path.png" property="og:image">

<meta content="martinfowler.com" property="og:site_name">

<meta content="article" property="og:type">

<meta content="2015-06-03 09:49:00 -0400" property="og:article:modified_time">

<meta content="width=device-width, initial-scale=1" name="viewport">

<link href="./MonolithFirst_files/entry.css" rel="stylesheet" type="text/css">
</head>

<body><header id="banner" style="background-image: url(&quot;/img/zakim.png&quot;); background-repeat: no-repeat">

<div class="name-logo"><a href="https://martinfowler.com/"><img src="./MonolithFirst_files/mf-name-white.png"></a></div>
  <div class="search">
    <!-- SiteSearch Google -->
    <form method="GET" action="https://www.google.com/search">
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="oe" value="UTF-8">
      <input class="field" type="text" name="q" size="15" maxlength="255" value="">
      <button class="button" type="submit" name="btnG" value=" " title="Search">
      <input type="hidden" name="domains" value="martinfowler.com">
      <input type="hidden" name="sitesearch" value=""> 
      <input type="hidden" name="sitesearch" value="martinfowler.com">
    
  </button></form></div>

<div class="menu-button navmenu-button"><a class="icon icon-bars" href="https://martinfowler.com/bliki/MonolithFirst.html#navmenu-bottom"></a></div>

<nav class="top-menu">
<ul>
<li><a class="" href="https://refactoring.com/">Refactoring</a></li>

<li><a class="" href="https://martinfowler.com/agile.html">Agile</a></li>

<li><a class="" href="https://martinfowler.com/architecture">Architecture</a></li>

<li><a class="" href="https://martinfowler.com/aboutMe.html">About</a></li>

<li><a class="tw" href="https://www.thoughtworks.com/">ThoughtWorks</a></li>

<li><a class="icon icon-rss" href="https://martinfowler.com/feed.atom" title="feed"></a></li>

<li><a class="icon icon-twitter" href="https://www.twitter.com/martinfowler" title="twitter stream"></a></li>
</ul>
</nav>
</header>
<nav id="top-navmenu">
<nav class="navmenu">
<div class="nav-head">  <div class="search">
    <!-- SiteSearch Google -->
    <form method="GET" action="https://www.google.com/search">
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="oe" value="UTF-8">
      <input class="field" type="text" name="q" size="15" maxlength="255" value="">
      <button class="button" type="submit" name="btnG" value=" " title="Search">
      <input type="hidden" name="domains" value="martinfowler.com">
      <input type="hidden" name="sitesearch" value=""> 
      <input type="hidden" name="sitesearch" value="martinfowler.com">
    
  </button></form></div>

<div class="closediv">
<span class="close" title="close"></span>
</div>
</div>

<div class="nav-body">
<div class="topics">
<h2>Topics</h2>

<p><a href="https://martinfowler.com/architecture">Architecture</a></p>

<p><a href="https://refactoring.com/">Refactoring</a></p>

<p><a href="https://martinfowler.com/agile.html">Agile</a></p>

<p><a href="https://martinfowler.com/delivery.html">Delivery</a></p>

<p><a href="https://martinfowler.com/microservices">Microservices</a></p>

<p><a href="https://martinfowler.com/data">Data</a></p>

<p><a href="https://martinfowler.com/testing">Testing</a></p>

<p><a href="https://martinfowler.com/dsl.html">DSL</a></p>
</div>

<div class="about">
<h2>about me</h2>

<p><a href="https://martinfowler.com/aboutMe.html">About</a></p>

<p><a href="https://martinfowler.com/books">Books</a></p>

<p><a href="https://martinfowler.com/faq.html">FAQ</a></p>
</div>

<div class="content">
<h2>content</h2>

<p><a href="https://martinfowler.com/videos.html">Videos</a></p>

<p><a href="https://martinfowler.com/tags">Content Index</a></p>

<p><a href="https://martinfowler.com/articles/eurogames">Board Games</a></p>

<p><a href="https://martinfowler.com/photos">Photography</a></p>
</div>

<div class="tw">
<h2>ThoughtWorks</h2>

<p><a href="https://thoughtworks.com/insights">Insights</a></p>

<p><a href="https://thoughtworks.com/careers">Careers</a></p>

<p><a href="https://thoughtworks.com/products">Products</a></p>
</div>

<div class="feeds">
<h2>follow</h2>

<p><a href="https://www.twitter.com/martinfowler">Twitter</a></p>

<p><a href="https://martinfowler.com/feed.atom">RSS</a></p>
</div>
</div>
</nav>
</nav>

<main>
<article>
<h1><a href="https://martinfowler.com/bliki/MonolithFirst.html">MonolithFirst</a></h1>

<p class="date">3 June 2015</p>

<div class="frontMatter">
<div class="author">
<p class="author-photo"><a href="https://martinfowler.com/"><img src="./MonolithFirst_files/mf.jpg" title="Photo of Martin Fowler"></a></p>

<p class="name"><a href="https://martinfowler.com/" rel="author">Martin Fowler</a></p>
</div>

<div class="spacer"></div>

<div class="tags">
<p class="tag-link"><a href="https://martinfowler.com/tags/evolutionary%20design.html">evolutionary design</a></p>

<p class="tag-link"><a href="https://martinfowler.com/tags/microservices.html">microservices</a></p>
</div>
</div>

<div class="clear"></div>

<div class="paperBody">
<p>As I hear stories about teams using a <a href="https://martinfowler.com/articles/microservices.html">microservices architecture</a>, I've
    noticed a common pattern.</p>

<ol>
<li>Almost all the successful microservice stories have started with a
      monolith that got too big and was broken up</li>

<li>Almost all the cases where I've heard of a system that was built as a
      microservice system from scratch, it has ended up in serious trouble.</li>
</ol>

<p>This pattern has led many of my colleagues to argue that <b>you
    shouldn't start a new project with microservices, even if you're
    sure your application will be big enough to make it worthwhile.
    </b>.</p>

<div class="fullPhoto " style="width: 700px;"><img class="full-size" src="./MonolithFirst_files/path.png" width="700">
<p class="photoCaption"></p>
</div>

<div class="clear"></div>

<p>Microservices are a useful architecture, but even their advocates
  say that using them incurs a significant
  <a href="https://martinfowler.com/bliki/MicroservicePremium.html">MicroservicePremium</a>, which means they are only useful
  with more complex systems. This premium, essentially the cost of
  managing a suite of services, will slow down a team, favoring a
  monolith for simpler applications. This leads to a powerful argument
  for a monolith-first strategy, where you should build a new
  application as a monolith initially, even if you think it's likely
  that it will benefit from a microservices architecture later on.</p>

<p>The first reason for this is classic <a href="https://martinfowler.com/bliki/Yagni.html">Yagni</a>. When you begin a new
  application, how sure are you that it will be useful to your users?
  It may be hard to scale a poorly designed but successful software
  system, but that's still a better place to be than its inverse. As
  we're now recognizing, often the best way to find out if a software
  idea is useful is to build a simplistic version of it and see how
  well it works out. During this first phase you need to prioritize
  speed (and thus cycle time for feedback), so the premium of
  microservices is a drag you should do without.</p>

<p>The second issue with starting with microservices is that they
  only work well if you come up with good, stable boundaries between
  the services - which is essentially the task of drawing up the right
  set of <a href="https://martinfowler.com/bliki/BoundedContext.html">BoundedContexts</a>. Any refactoring of functionality
  between services is much harder than it is in a monolith. But even
  experienced architects working in familiar domains have great
  difficulty getting boundaries right at the beginning. By building a
  monolith first, you can figure out what the right boundaries are,
  before a microservices design brushes a layer of treacle over them.
  It also gives you time to develop the
  <a href="https://martinfowler.com/bliki/MicroservicePrerequisites.html">MicroservicePrerequisites</a> you need for finer-grained
  services. </p>

<p>I've heard different ways to execute a monolith-first strategy.
  The logical way is to design a monolith carefully,
  paying attention to modularity within the software, both at the API
  boundaries and how the data is stored. Do this well, and it's a
  relatively simple matter to make the shift to microservices. However
  I'd feel much more comfortable with this approach if I'd heard a
  decent number of stories where it worked out that way. <span class="foot-ref"><a href="https://martinfowler.com/bliki/MonolithFirst.html#footnote-typical-monolith">[1]</a></span></p>

<p>A more common approach is to start with a monolith and gradually
  peel off microservices at the edges. Such an approach can leave a
  substantial monolith at the heart of the microservices
  architecture, but with most new development occurring in the
  microservices while the monolith is relatively quiescent. </p>

<p>Another common approach is to just replace the monolith entirely.
  Few people look at this as an approach to be proud of, yet there are
  advantages to building a monolith as a
  <a href="https://martinfowler.com/bliki/SacrificialArchitecture.html">SacrificialArchitecture</a>. Don't be afraid of building a
  monolith that you will discard, particularly if a monolith can get
  you to market quickly.</p>

<p>Another route I've run into is to start with just a couple of
  coarse-grained services, larger than those you expect to end up
  with. Use these coarse-grained services to get used to working with
  multiple services, while enjoying the fact that such coarse granularity
  reduces the amount of inter-service refactoring you have to do. Then
  as boundaries stabilize, break down into finer-grained services. <span class="foot-ref"><a href="https://martinfowler.com/bliki/MonolithFirst.html#footnote-duolith">[2]</a></span></p>

<p>While the bulk of my contacts lean toward the monolith-first
  approach, it is <a href="https://martinfowler.com/articles/dont-start-monolith.html">by no
  means unanimous</a>. The counter argument says that starting with
  microservices allows you to get used to the rhythm of developing in
  a microservice environment. It takes a lot, perhaps too much,
  discipline to build a monolith in a sufficiently modular way that it
  can be broken down into microservices easily. By starting with
  microservices you get everyone used to developing in separate small
  teams from the beginning, and having teams separated by service
  boundaries makes it much easier to scale up the development effort
  when you need to. This is especially viable for system replacements
  where you have a better chance of coming up with stable-enough
  boundaries early. Although the evidence is sparse, I feel that you
  shouldn't start with microservices unless you have reasonable
  experience of building a microservices system in the team.</p>

<p>I don't feel I have enough anecdotes yet to get a firm handle on
  how to decide whether to use a monolith-first strategy. These are
  early days in microservices, and there are relatively few anecdotes
  to learn from. So anybody's advice on these topics must be seen as
  tentative, however confidently they argue.</p>

<div class="furtherReading">
<h2>Further Reading</h2>

<p>Sam Newman <a href="http://samnewman.io/blog/2015/04/07/microservices-for-greenfield/">describes a case study</a> of a team considering using
    microservices on a greenfield project.</p>
</div>

<div class="footnote-list">
<h2>Notes</h2>

<div class="footnote-list-item" id="footnote-typical-monolith">
<p><span class="num">1: </span>
      You cannot assume that you can take an arbitrary system and
      break it into microservices. Most systems acquire too many
      dependencies between their modules, and thus can't be sensibly
      broken apart. I've heard of plenty of cases where an attempt to
      decompose a monolith has quickly ended up in a mess.  I've
      also heard of a few cases where a gradual route to microservices has
      been successful - but these cases required a relatively good
      modular design to start with.
    </p>
</div>

<div class="footnote-list-item" id="footnote-duolith">
<p><span class="num">2: </span>
      I suppose that strictly you should call this a "duolith", but I
      think the approach follows the essence of monolith-first
      strategy: start with coarse-granularity to gain knowledge and split later.
    </p>
</div>
</div>

<div class="acknowledgements">
<h2>Acknowledgements</h2>

    I stole much of this thinking from my coleagues: James Lewis, Sam
    Newman, Thiyagu Palanisamy, and Evan Bottcher. Stefan Tilkov's
    comments on an earlier draft played a pivotal role in clarifying
    my thoughts. Chad Currie created the lovely glyphy
    dragons. Steven Lowe, Patrick Kua, Jean Robert D'amore, Chelsea
    Komlo, Ashok Subramanian, Dan Siwiec, Prasanna Pendse, Kief
    Morris, Chris Ford, and Florian Sellmayr discussed drafts on our
    internal mailing list.
  </div>
</div>
</article>

<div class="clear"></div>
</main>

<nav id="bottom-navmenu" style="display: none;">
<nav class="navmenu">
<div class="nav-head">  <div class="search">
    <!-- SiteSearch Google -->
    <form method="GET" action="https://www.google.com/search">
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="oe" value="UTF-8">
      <input class="field" type="text" name="q" size="15" maxlength="255" value="">
      <button class="button" type="submit" name="btnG" value=" " title="Search">
      <input type="hidden" name="domains" value="martinfowler.com">
      <input type="hidden" name="sitesearch" value=""> 
      <input type="hidden" name="sitesearch" value="martinfowler.com">
    
  </button></form></div>

<div class="closediv">
<span class="close" title="close"></span>
</div>
</div>

<div class="nav-body">
<div class="topics">
<h2>Topics</h2>

<p><a href="https://martinfowler.com/architecture">Architecture</a></p>

<p><a href="https://refactoring.com/">Refactoring</a></p>

<p><a href="https://martinfowler.com/agile.html">Agile</a></p>

<p><a href="https://martinfowler.com/delivery.html">Delivery</a></p>

<p><a href="https://martinfowler.com/microservices">Microservices</a></p>

<p><a href="https://martinfowler.com/data">Data</a></p>

<p><a href="https://martinfowler.com/testing">Testing</a></p>

<p><a href="https://martinfowler.com/dsl.html">DSL</a></p>
</div>

<div class="about">
<h2>about me</h2>

<p><a href="https://martinfowler.com/aboutMe.html">About</a></p>

<p><a href="https://martinfowler.com/books">Books</a></p>

<p><a href="https://martinfowler.com/faq.html">FAQ</a></p>
</div>

<div class="content">
<h2>content</h2>

<p><a href="https://martinfowler.com/videos.html">Videos</a></p>

<p><a href="https://martinfowler.com/tags">Content Index</a></p>

<p><a href="https://martinfowler.com/articles/eurogames">Board Games</a></p>

<p><a href="https://martinfowler.com/photos">Photography</a></p>
</div>

<div class="tw">
<h2>ThoughtWorks</h2>

<p><a href="https://thoughtworks.com/insights">Insights</a></p>

<p><a href="https://thoughtworks.com/careers">Careers</a></p>

<p><a href="https://thoughtworks.com/products">Products</a></p>
</div>

<div class="feeds">
<h2>follow</h2>

<p><a href="https://www.twitter.com/martinfowler">Twitter</a></p>

<p><a href="https://martinfowler.com/feed.atom">RSS</a></p>
</div>
</div>
</nav>
</nav>
<footer id="page-footer">
<div class="tw-logo">
<a href="http://www.thoughtworks.com/">
<img src="./MonolithFirst_files/tw-white-300.png">
</a>
</div>
<div class="menu-button">
<div class="icon-bars navmenu-button"></div>
</div>
<div class="copyright">
<p>© Martin Fowler | <a href="http://www.thoughtworks.com/privacy-policy">Privacy Policy</a> | <a href="https://martinfowler.com/aboutMe.html#disclosures">Disclosures</a></p>
</div>
</footer>
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-17005812-1', 'auto');
ga('send', 'pageview');
</script>
<script async="" src="./MonolithFirst_files/analytics.js"></script>
<!-- End Google Analytics -->



<script src="./MonolithFirst_files/jquery-1.11.3.min.js" type="text/javascript"></script>

<script src="./MonolithFirst_files/mfcom.js" type="text/javascript"></script>


</body></html>