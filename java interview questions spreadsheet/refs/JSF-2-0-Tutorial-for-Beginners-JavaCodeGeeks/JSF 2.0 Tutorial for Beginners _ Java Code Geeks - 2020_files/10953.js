"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],b.console&&b.console.log&&b.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\s*</,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with '<' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{document.querySelector(a),d("Attribute selector with '#' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with '#' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var A=/\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\b(?:"+I+")\\b"),K=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("'ready' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);
;(function(factory){var registeredInModuleLoader=false;if(typeof define==='function'&&define.amd){define(factory);registeredInModuleLoader=true}if(typeof exports==='object'){module.exports=factory();registeredInModuleLoader=true}if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api}}}(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key]}}return result}function init(converter){function api(key,value,attributes){var result;if(typeof document==='undefined'){return}if(arguments.length>1){attributes=extend({path:'/'},api.defaults,attributes);if(typeof attributes.expires==='number'){var expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e+5);attributes.expires=expires}attributes.expires=attributes.expires?attributes.expires.toUTCString():'';try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result}}catch(e){}if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{value=converter.write(value,key)}key=encodeURIComponent(String(key));key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);var stringifiedAttributes='';for(var attributeName in attributes){if(!attributes[attributeName]){continue}stringifiedAttributes+='; '+attributeName;if(attributes[attributeName]===true){continue}stringifiedAttributes+='='+attributes[attributeName]}return(document.cookie=key+'='+value+stringifiedAttributes)}if(!key){result={}}var cookies=document.cookie?document.cookie.split('; '):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split('=');var cookie=parts.slice(1).join('=');if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1)}try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie)}catch(e){}}if(key===name){result=cookie;break}if(!key){result[name]=cookie}}catch(e){}}return result}api.set=api;api.get=function(key){return api.call(api,key)};api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments))};api.defaults={};api.remove=function(key,attributes){api(key,'',extend(attributes,{expires:-1}))};api.withConverter=init;return api}return init(function(){})}));
;
jQuery.fn.autoGrow=function(){return this.each(function(){var createMirror=function(textarea){jQuery(textarea).after('<div class="autogrow-textarea-mirror"></div>');return jQuery(textarea).next(".autogrow-textarea-mirror")[0]};var sendContentToMirror=function(textarea){mirror.innerHTML=String(textarea.value).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")+".<br/>.";if(jQuery(textarea).height()!=jQuery(mirror).height())jQuery(textarea).height(jQuery(mirror).height())};
var growTextarea=function(){sendContentToMirror(this)};var mirror=createMirror(this);mirror.style.display="none";mirror.style.wordWrap="break-word";mirror.style.padding=jQuery(this).css("padding");mirror.style.width=jQuery(this).css("width");mirror.style.fontFamily=jQuery(this).css("font-family");mirror.style.fontSize=jQuery(this).css("font-size");mirror.style.lineHeight=jQuery(this).css("line-height");this.style.overflow="hidden";this.style.minHeight=this.rows+"em";this.onkeydown=growTextarea;sendContentToMirror(this)})};
;;jQuery(document).ready(function($){$('body').addClass('wpdiscuz_'+wpdiscuzAjaxObj.wpdiscuz_options.version);var isUserLoggedIn=wpdiscuzAjaxObj.wpdiscuz_options.is_user_logged_in;var isShowCaptchaForGuests=wpdiscuzAjaxObj.wpdiscuz_options.wc_captcha_show_for_guest==1&&!isUserLoggedIn;var isShowCaptchaForMembers=wpdiscuzAjaxObj.wpdiscuz_options.wc_captcha_show_for_members==1&&isUserLoggedIn;var isCaptchaInSession=wpdiscuzAjaxObj.wpdiscuz_options.isCaptchaInSession;var wpdiscuzRecaptcha=wpdiscuzAjaxObj.wpdiscuz_options.wpDiscuzReCaptcha;var isGoodbyeCaptchaActive=wpdiscuzAjaxObj.wpdiscuz_options.isGoodbyeCaptchaActive;var commentListLoadType=wpdiscuzAjaxObj.wpdiscuz_options.commentListLoadType;var wordpressIsPaginate=wpdiscuzAjaxObj.wpdiscuz_options.wordpressIsPaginate;var wpdiscuzPostId=wpdiscuzAjaxObj.wpdiscuz_options.wc_post_id;var commentListUpdateType=wpdiscuzAjaxObj.wpdiscuz_options.commentListUpdateType;var commentListUpdateTimer=wpdiscuzAjaxObj.wpdiscuz_options.commentListUpdateTimer;var disableGuestsLiveUpdate=wpdiscuzAjaxObj.wpdiscuz_options.liveUpdateGuests;var loadLastCommentId=wpdiscuzAjaxObj.wpdiscuz_options.loadLastCommentId;var cookieCommentsSorting=wpdiscuzAjaxObj.wpdiscuz_options.cookieCommentsSorting;var wpdiscuzOrderData=Cookies.get(cookieCommentsSorting+"_"+wpdiscuzPostId);if(wpdiscuzOrderData){wpdiscuzOrderData=JSON.parse(wpdiscuzOrderData);var wpdiscuzCommentsOrder=wpdiscuzOrderData&&wpdiscuzOrderData.order?wpdiscuzOrderData.order:wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuzCommentsOrder;var wpdiscuzCommentsOrderBy=wpdiscuzOrderData&&wpdiscuzOrderData.orderBy?wpdiscuzOrderData.orderBy:wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuzCommentOrderBy;}else{var wpdiscuzCommentsOrder=wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuzCommentsOrder;var wpdiscuzCommentsOrderBy=wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuzCommentOrderBy;}
var commentsVoteOrder=wpdiscuzAjaxObj.wpdiscuz_options.commentsVoteOrder;var storeCommenterData=wpdiscuzAjaxObj.wpdiscuz_options.storeCommenterData;var wpdiscuzLoadCount=1;var wpdiscuzReplyArray=[];var wpdiscuzCommentArray=[];var wpdiscuzUploader=wpdiscuzAjaxObj.wpdiscuz_options.uploader;var commentTextMaxLength=wpdiscuzAjaxObj.wpdiscuz_options.commentTextMaxLength;var wpdGoogleRecaptchaValid=true;var wpdiscuzReplyButton='';var isCookiesEnabled=wpdiscuzAjaxObj.wpdiscuz_options.isCookiesEnabled;var wpdCookiesConsent=true;var wpdiscuzCookiehash=wpdiscuzAjaxObj.wpdiscuz_options.cookiehash;var isLoadOnlyParentComments=wpdiscuzAjaxObj.wpdiscuz_options.isLoadOnlyParentComments;var enableDropAnimation=wpdiscuzAjaxObj.wpdiscuz_options.enableDropAnimation?500:0;var isNativeAjaxEnabled=wpdiscuzAjaxObj.wpdiscuz_options.isNativeAjaxEnabled;var wpdiscuzAgreementFields=[];loginButtonsClone();if(!wpdiscuzAjaxObj.wpdiscuz_options.wordpressIsPaginate&&isCookiesEnabled){Cookies.remove('wordpress_last_visit',{path:''});var wpdiscuzLastVisitKey=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitKey;if(wpdiscuzAjaxObj.wpdiscuz_options.enableLastVisitCookie){var wpdiscuzLastVisit=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitCookie;var wpdiscuzLastVisitExpires=wpdiscuzAjaxObj.wpdiscuz_options.lastVisitExpires;Cookies.set(wpdiscuzLastVisitKey,wpdiscuzLastVisit,{expires:wpdiscuzLastVisitExpires,path:window.location});}else{Cookies.remove(wpdiscuzLastVisitKey,{path:''});}}
$('#wc_unsubscribe_message, #wc_delete_content_message, #wc_follow_message').delay(3000).fadeOut(1500,function(){$(this).remove();location.href=location.href.substring(0,location.href.indexOf('wpdiscuzUrlAnchor')-1);});$(document).delegate('.wc-reply-button','click',function(){wpdiscuzReplyButton=$(this);if($(this).hasClass('wpdiscuz-clonned')){$('#wc-secondary-form-wrapper-'+getUniqueID($(this),0)).slideToggle(enableDropAnimation);}else{cloneSecondaryForm($(this));}
$(this).toggleClass('wc-cta-active');});$(document).delegate('.wc-comment-img-link','click',function(){var el=$('<input/>');var val=$(this).data('comment-url');el.appendTo('body').css({'position':'absolute','top':'-10000000px'}).val(val);el.select();document.execCommand('copy');el.remove();alert(val+'\r\nCopied to clipboard!');});$(document).delegate('textarea.wc_comment','focus',function(){var parent=$(this).parents('.wc-form-wrapper');$('.commentTextMaxLength',parent).show();$('.wc-form-footer',parent).slideDown(enableDropAnimation);});$(document).delegate('#wpcomm textarea','focus',function(){if(!($(this).next('.autogrow-textarea-mirror').length)){$(this).autoGrow();}});$(document).delegate('textarea.wc_comment','blur',function(){var parent=$(this).parents('.wc-form-wrapper');$('.commentTextMaxLength',parent).hide();});$(document).delegate('textarea.wc_comment','keyup',function(){setTextareaCharCount($(this),commentTextMaxLength);});$.each($('textarea.wc_comment'),function(){setTextareaCharCount($(this),commentTextMaxLength);});$(document).delegate('.wpdiscuz-nofollow,.wc_captcha_refresh_img,.wc-toggle,.wc-load-more-link','click',function(e){e.preventDefault();});$(document).delegate('.wc-toggle','click',function(e){var uniqueID=getUniqueID($(this),0);var toggle=$(this);var icon=$('.fas',toggle);if(icon.hasClass('wpdiscuz-show-replies')&&isLoadOnlyParentComments){wpdiscuzShowReplies(uniqueID);}else{$('#wc-comm-'+uniqueID+'> .wc-reply').slideToggle(700,function(){if($(this).is(':hidden')){icon.removeClass('fa-chevron-up');icon.addClass('fa-chevron-down');icon.attr('title',wpdiscuzAjaxObj.wpdiscuz_options.wc_show_replies_text);$('.wpdiscuz-children-button-text',toggle).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_show_replies_text);}else{icon.removeClass('fa-chevron-down');icon.addClass('fa-chevron-up');icon.attr('title',wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);$('.wpdiscuz-children-button-text',toggle).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);}});if($('.wpdiscuz-children-count',toggle).length){var replies=$('#wc-comm-'+uniqueID+' .wc-reply');$('.wpdiscuz-children-count',toggle).html(replies.length);}}});$(document).delegate('.wc-new-loaded-comment','mouseenter',function(){if($(this).hasClass('wc-reply')){$('>.wc-comment-right',this).css('backgroundColor',wpdiscuzAjaxObj.wpdiscuz_options.wc_reply_bg_color);}else{$('>.wc-comment-right',this).css('backgroundColor',wpdiscuzAjaxObj.wpdiscuz_options.wc_comment_bg_color);}});$(document).delegate('.wpdiscuz-sbs-wrap','click',function(){$('.wpdiscuz-subscribe-bar').slideToggle(enableDropAnimation);});$(document).delegate('.wc_captcha_refresh_img','click',function(e){e.preventDefault();changeCaptchaImage($(this));});function changeCaptchaImage(reloadImage){if(!wpdiscuzRecaptcha&&!isGoodbyeCaptchaActive&&(isShowCaptchaForGuests||isShowCaptchaForMembers)){var form=reloadImage.parents('.wc-form-wrapper');var keyField=$('.wpdiscuz-cnonce',form);if(isCaptchaInSession){var uuId=getUUID();var captchaImg=$(reloadImage).prev().children('.wc_captcha_img');var src=captchaImg.attr('src');var fileUrl=src.substring(0,src.indexOf('=')+1);captchaImg.attr('src',fileUrl+uuId+'&r='+Math.random());keyField.attr('id',uuId);keyField.attr('value',uuId);}else{var data=new FormData();data.append('action','generateCaptcha');var isMain=form.hasClass('wc-secondary-form-wrapper')?0:1;var uniqueId=getUniqueID(reloadImage,isMain);data.append('wpdiscuz_unique_id',uniqueId);var ajaxObject=getAjaxObj(true,data);ajaxObject.done(function(response){try{var obj=$.parseJSON(response);if(obj.code==1){var captchaImg=$(reloadImage).prev().children('.wc_captcha_img');var src=captchaImg.attr('src');var lastSlashIndex=src.lastIndexOf('/')+1;var newSrc=src.substring(0,lastSlashIndex)+obj.message;captchaImg.attr('src',newSrc);keyField.attr('id',obj.key);keyField.attr('value',obj.key);}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}}}
function getUUID(){var chars='123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';var uuId='c';for(i=0;i<13;i++){uuId+=chars[Math.floor(Math.random()*(chars.length-1)+1)];}
return uuId;}
$(document).delegate('.wc_comm_submit.wc_not_clicked','click',function(){var currentSubmitBtn=$(this);var depth=1;var wcForm=$(this).parents('form');if(!wcForm.hasClass('wc_main_comm_form')){depth=getCommentDepth($(this).parents('.wc-comment'));}
wpdGoogleRecaptchaValid=true;wpdValidateFieldRequired(wcForm);wcForm.submit(function(event){event.preventDefault();});if(wcForm[0].checkValidity()&&wpdGoogleRecaptchaValid){addAgreementInCookie(wcForm);$(currentSubmitBtn).removeClass('wc_not_clicked');var data=new FormData();data.append('action','wpdAddComment');data.append('ahk',wpdiscuzAjaxObj.wpdiscuz_options.ahk);var inputs=$(":input",wcForm);inputs.each(function(){if(this.name!=''&&this.type!='checkbox'&&this.type!='radio'){data.append(this.name+'',$(this).val());}
if(this.type=='checkbox'||this.type=='radio'){if($(this).is(':checked')){data.append(this.name+'',$(this).val());}}});data.append('wc_comment_depth',depth);if(wpdiscuzUploader==1){var images=$(wcForm).find('input.wmu-image');var videos=$(wcForm).find('input.wmu-video');var files=$(wcForm).find('input.wmu-file');if(images.length>0){$.each($(images),function(i,imageFile){if(imageFile.files.length>0){$.each(imageFile.files,function(j,imageObj){data.append('wmu_images['+i+']',imageObj);});}});}
if(videos.length>0){$.each($(videos),function(i,videoFile){if(videoFile.files.length>0){$.each(videoFile.files,function(j,videoObj){data.append('wmu_videos['+i+']',videoObj);});}});}
if(files.length>0){$.each($(files),function(i,file){if(file.files.length>0){$.each(file.files,function(j,fileObj){data.append('wmu_files['+i+']',fileObj);});}});}}
if(!wpdiscuzRecaptcha&&!isGoodbyeCaptchaActive&&(isShowCaptchaForGuests||isShowCaptchaForMembers)&&!isCaptchaInSession){var image=$('.wc_captcha_img',wcForm);var src=image.attr('src');var lastIndex=src.lastIndexOf('/')+1;var fileName=src.substring(lastIndex);data.append('fileName',fileName);}
if(wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuz_zs){data.append('wpdiscuz_zs',wpdiscuzAjaxObj.wpdiscuz_options.wpdiscuz_zs);}
if($('.wpd-cookies-checkbox',wcForm).length&&!$('.wpd-cookies-checkbox',wcForm).prop("checked")){wpdCookiesConsent=false;}
var ajax=(!isNativeAjaxEnabled&&!wpdiscuzUploader)?getCustomAjaxObj(true,data):getAjaxObj(true,data);ajax.done(function(response){$(currentSubmitBtn).addClass('wc_not_clicked');var messageKey='';var message='';try{var r=$.parseJSON(response);messageKey=r.code;if(parseInt(messageKey)>=0){var isMain=r.is_main;message=r.message;$('.wpd-cc-value').html(r.wc_all_comments_count_new);if($('.wpd-stat-threads-count').length){$('.wpd-stat-threads-count').html(r.threadsCount);}
if($('.wpd-stat-replies-count').length){$('.wpd-stat-replies-count').html(r.repliesCount);}
if($('.wpd-stat-authors-count').length){$('.wpd-stat-authors-count').html(r.authorsCount);}
if(isMain){addCommentsAfterSticky(message);}else{$('#wc-secondary-form-wrapper-'+messageKey).slideToggle(700);if(r.is_in_same_container==1){$('#wc-secondary-form-wrapper-'+messageKey).after(message);}else{$('#wc-secondary-form-wrapper-'+messageKey).after(message.replace('wc-reply','wc-reply wc-no-left-margin'));}}
notifySubscribers(r);wpdiscuzRedirect(r);if(isCookiesEnabled&&wpdCookiesConsent){addCookie(wcForm,r);}else if(!wpdCookiesConsent){$('.wpd-cookies-checkbox').removeAttr('checked');}
wcForm.get(0).reset();setCookieInForm(r);var currTArea=$('.wc_comment',wcForm);currTArea.css('height','72px');setTextareaCharCount(currTArea,commentTextMaxLength);$('.wmu-preview-wrap',wcForm).remove();if(wpdiscuzReplyButton.length){wpdiscuzReplyButton.removeClass('wc-cta-active');}
deleteAgreementFields();}else{message=wpdiscuzAjaxObj.wpdiscuz_options[messageKey];if(r.typeError!='undefined'&&r.typeError!=null){message+=' '+r.typeError;}
wpdiscuzAjaxObj.setCommentMessage(wcForm,messageKey,message,true);}
runCallbacks(r,wcForm);}catch(e){if(response.indexOf('<')>=0&&response.indexOf('>')>=0){message=e;}else{message=response;}
wpdiscuzAjaxObj.setCommentMessage(wcForm,'wc_invalid_field',message,true);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}
changeCaptchaImage($('.wc_captcha_refresh_img',wcForm));wpdiscuzReset();});function notifySubscribers(r){if(!r.held_moderate){var data=new FormData();data.append('action','wpdCheckNotificationType');data.append('comment_id',r.new_comment_id);data.append('email',r.comment_author_email);data.append('isParent',r.is_main);var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{r=$.parseJSON(response);}catch(e){console.log(e);}});}}
function wpdiscuzRedirect(r){if(r.redirect>0&&r.new_comment_id){var data=new FormData();data.append('action','wpdRedirect');data.append('commentId',r.new_comment_id);var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){r=$.parseJSON(response);if(r.code==1){setTimeout(function(){window.location.href=r.redirect_to;},5000);}});}}
function setCookieInForm(obj){$('.wc_comm_form .wc_name').val(obj.comment_author);if(obj.comment_author_email.indexOf('@example.com')<0){$('.wc_comm_form .wc_email').val(obj.comment_author_email);}
if(obj.comment_author_url){$('.wc_comm_form .wc_website').val(obj.comment_author_url);}}
function addCookie(wcForm,obj){var email=obj.comment_author_email;var name=obj.comment_author;var weburl=obj.comment_author_url;if(storeCommenterData==null){Cookies.set('comment_author_email_'+wpdiscuzCookiehash,email);Cookies.set('comment_author_'+wpdiscuzCookiehash,name);if(weburl.length){Cookies.set('comment_author_url_'+wpdiscuzCookiehash,weburl);}}else{storeCommenterData=parseInt(storeCommenterData);Cookies.set('comment_author_email_'+wpdiscuzCookiehash,email,{expires:storeCommenterData,path:'/'});Cookies.set('comment_author_'+wpdiscuzCookiehash,name,{expires:storeCommenterData,path:'/'});if(weburl.length){Cookies.set('comment_author_url_'+wpdiscuzCookiehash,weburl,{expires:storeCommenterData,path:'/'});}}
if($('.wpd-cookies-checkbox').length){$('.wpd-cookies-checkbox').attr('checked','checked');}}
var wcCommentTextBeforeEditing;$(document).delegate('.wc_editable_comment','click',function(){if(wcCommentTextBeforeEditing&&$('.wpdiscuz-edit-form-wrap').length){wcCancelOrSave(getUniqueID($('.wpdiscuz-edit-form-wrap'),0),wcCommentTextBeforeEditing);}
var uniqueID=getUniqueID($(this),0);var commentID=getCommentID(uniqueID);var editButton=$(this);var data=new FormData();data.append('action','wpdEditComment');data.append('commentId',commentID);var wcCommentTextBeforeEditingTop=$('#wc-comm-'+uniqueID+' .wpd-top-custom-fields');var wcCommentTextBeforeEditingBottom=$('#wc-comm-'+uniqueID+' .wpd-bottom-custom-fields');wcCommentTextBeforeEditing=wcCommentTextBeforeEditingTop.length?'<div class="wpd-top-custom-fields">'+wcCommentTextBeforeEditingTop.html()+'</div>':'';wcCommentTextBeforeEditing+='<div class="wc-comment-text">'+$('#wc-comm-'+uniqueID+' .wc-comment-text').html()+'</div>';wcCommentTextBeforeEditing+=wcCommentTextBeforeEditingBottom.length?'<div class="wpd-bottom-custom-fields">'+$('#wc-comm-'+uniqueID+' .wpd-bottom-custom-fields').html()+'</div>':'';var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);var message='';var messageKey=r.code;if(parseInt(messageKey)>=0){$('#wc-comm-'+uniqueID+' .wpd-top-custom-fields').remove();$('#wc-comm-'+uniqueID+' .wpd-bottom-custom-fields').remove();$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-text').replaceWith(r.message);$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-footer .wc_editable_comment').hide();$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-footer .wc_cancel_edit').css('display','inline-block');var editForm=$('#wc-comm-'+uniqueID+' > .wc-comment-right #wpdiscuz-edit-form');}else{message=wpdiscuzAjaxObj.wpdiscuz_options[messageKey];wpdiscuzAjaxObj.setCommentMessage(editButton,messageKey,message,false);}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wc_save_edited_comment','click',function(){var uniqueID=getUniqueID($(this));var commentID=getCommentID(uniqueID);var editCommentForm=$('#wc-comm-'+uniqueID+' #wpdiscuz-edit-form');var saveButton=$(this);wpdValidateFieldRequired(editCommentForm);editCommentForm.submit(function(event){event.preventDefault();});if(editCommentForm[0].checkValidity()){var data=new FormData();data.append('action','wpdSaveEditedComment');data.append('wpdiscuz_unique_id',uniqueID);data.append('commentId',commentID);var inputs=$(":input",editCommentForm);inputs.each(function(){if($(this).is(':visible')&&this.name!=''&&this.type!='checkbox'&&this.type!='radio'){data.append(this.name+'',$(this).val());}
if(this.type=='checkbox'||this.type=='radio'){if($(this).is(':checked')){data.append(this.name+'',$(this).val());}}});var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);var messageKey=r.code;var message='';if(parseInt(messageKey)>=0){wcCancelOrSave(uniqueID,r.message);if(r.twitterShareLink){$('#wc-comm-'+uniqueID+' #comment-'+commentID+'.wc-comment-right .wc-comment-header .wc-share-link .wc_tw').attr('href',r.twitterShareLink);}}else{message=wpdiscuzAjaxObj.wpdiscuz_options[messageKey];wpdiscuzAjaxObj.setCommentMessage(saveButton,messageKey,message,false);}
runCallbacks(r,commentID);}catch(e){if(response.indexOf('<')>=0&&response.indexOf('>')>=0){message=e;}else{message=response;}
wpdiscuzAjaxObj.setCommentMessage(saveButton,'wc_invalid_field',message,false);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}});$(document).delegate('.wc_cancel_edit','click',function(){var uniqueID=getUniqueID($(this));wcCancelOrSave(uniqueID,wcCommentTextBeforeEditing);});function wcCancelOrSave(uniqueID,content){$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-footer .wc_editable_comment').show();$('#wc-comm-'+uniqueID+' > .wc-comment-right .wc-comment-footer .wc_cancel_edit').hide();$('#wc-comm-'+uniqueID+' .wpdiscuz-edit-form-wrap').replaceWith(content);}
function nl2br(str,is_xhtml){var breakTag=(is_xhtml||typeof is_xhtml==='undefined')?'<br/>':'<br>';var string=(str+'').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,'$1'+breakTag+'$2');return string.replace('<br><br>','<br/>');}
$(document).delegate('.wc-load-more-submit','click',function(){var loadButton=$(this);var loaded='wc-loaded';var loading='wc-loading';if(loadButton.hasClass(loaded)){wpdiscuzLoadComments(loadButton,loaded,loading);}});var isRun=false;if(commentListLoadType==2&&!wordpressIsPaginate){$('.wc-load-more-submit').parents('.wpdiscuz-comment-pagination').hide();wpdiscuzScrollEvents();$(window).scroll(function(){wpdiscuzScrollEvents();});}
function wpdiscuzScrollEvents(){var wpdiscuzHasMoreComments=$('#wpdiscuzHasMoreComments').val();var scrollHeight=$(document).height();var scrollPosition=$(window).height()+$(window).scrollTop();if(scrollHeight&&scrollPosition){var scrollPercent=scrollPosition*100/scrollHeight;if(scrollPercent>=80&&isRun===false&&wpdiscuzHasMoreComments==1){isRun=true;wpdiscuzLoadComments($('.wc-load-more-submit'));}}}
function wpdiscuzLoadComments(loadButton,loaded,loading){loadButton.toggleClass(loaded);loadButton.toggleClass(loading);var data=new FormData();data.append('action','wpdLoadMoreComments');data.append('offset',wpdiscuzLoadCount);data.append('orderBy',wpdiscuzCommentsOrderBy);data.append('order',wpdiscuzCommentsOrder);data.append('lastParentId',getLastParentID());if(wpdiscuzAjaxObj.wpdiscuz_options.enableLastVisitCookie){data.append(wpdiscuzLastVisitKey,Cookies.get(wpdiscuzLastVisitKey));}
wpdiscuzLoadCount++;var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);$('.wpdiscuz-comment-pagination').before(r.comment_list);setLoadMoreVisibility(r);$('.wpdiscuz_single').remove();isRun=false;loadLastCommentId=r.loadLastCommentId;}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);$('.wc-load-more-submit').blur();loadButton.toggleClass(loaded);loadButton.toggleClass(loading);});}
function setLoadMoreVisibility(r){if(r.is_show_load_more==false){$('#wpdiscuzHasMoreComments').val(0);$('.wc-load-more-submit').parents('.wpdiscuz-comment-pagination').hide();}else{setLastParentID(r.last_parent_id);$('#wpdiscuzHasMoreComments').val(1);}
runCallbacks(r);}
$(document).delegate('.wc_vote.wc_not_clicked','click',function(){var currentVoteBtn=$(this);$(currentVoteBtn).removeClass('wc_not_clicked');var messageKey='';var message='';var commentID=$(this).parents('.wc-comment-right').attr('id');commentID=commentID.substring(commentID.lastIndexOf('-')+1);var voteType;if($(this).hasClass('wc-up')){voteType=1;}else{voteType=-1;}
var data=new FormData();data.append('action','wpdVoteOnComment');data.append('commentId',commentID);data.append('voteType',voteType);var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){$(currentVoteBtn).addClass('wc_not_clicked');try{var r=$.parseJSON(response);messageKey=r.code;if(parseInt(messageKey)>=0){if(r.buttonsStyle=='total'){var voteCountDiv=$('.wc-comment-footer .wc-vote-result',$('#comment-'+commentID));voteCountDiv.text(parseInt(voteCountDiv.text())+voteType);}else{var likeCountDiv=$('.wc-comment-footer .wc-vote-result-like',$('#comment-'+commentID));var dislikeCountDiv=$('.wc-comment-footer .wc-vote-result-dislike',$('#comment-'+commentID));likeCountDiv.text(r.likeCount);dislikeCountDiv.text(r.dislikeCount);parseInt(r.likeCount)>0?likeCountDiv.addClass('wc-positive'):likeCountDiv.removeClass('wc-positive');parseInt(r.dislikeCount)<0?dislikeCountDiv.addClass('wc-negative'):dislikeCountDiv.removeClass('wc-negative');}}else{message=wpdiscuzAjaxObj.wpdiscuz_options[messageKey];wpdiscuzAjaxObj.setCommentMessage(currentVoteBtn,messageKey,message,false);}
runCallbacks(r,commentID,voteType);}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wpdiscuz-sort-button','click',function(){if(!($(this).hasClass('wpdiscuz-sort-button-active'))){var clickedBtn=$(this);if($(this).hasClass('wpdiscuz-vote-sort-up')){wpdiscuzCommentsOrderBy='by_vote';wpdiscuzCommentsOrder='desc';}else{wpdiscuzCommentsOrderBy='comment_date_gmt';wpdiscuzCommentsOrder=$(this).hasClass('wpdiscuz-date-sort-desc')?'desc':'asc';}
var cookieCommentsSorting=wpdiscuzAjaxObj.wpdiscuz_options.cookieCommentsSorting;var postId=wpdiscuzAjaxObj.wpdiscuz_options.wc_post_id;var orderData={orderBy:wpdiscuzCommentsOrderBy,order:wpdiscuzCommentsOrder};Cookies.set(cookieCommentsSorting+"_"+postId,JSON.stringify(orderData),{expires:7,path:location.href});var data=new FormData();data.append('action','wpdSorting');data.append('orderBy',wpdiscuzCommentsOrderBy);data.append('order',wpdiscuzCommentsOrder);var messageKey='';var message='';var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);messageKey=r.code;message=r.message;if(parseInt(messageKey)>0){$('#wpcomm .wc-thread-wrapper .wc-comment').each(function(){$(this).remove();});$('#wpcomm .wc-thread-wrapper').prepend(message);wpdiscuzLoadCount=parseInt(r.loadCount);}
setActiveButton(clickedBtn);setLoadMoreVisibility(r);}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}});function setActiveButton(clickedBtn){$('.wpdiscuz-sort-buttons .wpdiscuz-sort-button').each(function(){$(this).removeClass('wpdiscuz-sort-button-active');});clickedBtn.addClass('wpdiscuz-sort-button-active');}
function getSingleComment(){var loc=location.href;var matches=loc.match(/#comment\-(\d+)/);if(matches!==null){var commentId=matches[1];if(!$('#comment-'+commentId).length){var data=new FormData();data.append('action','wpdGetSingleComment');data.append('commentId',commentId);var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);var scrollToSelector='.wc-thread-wrapper';if($('#comment-'+r.parentCommentID).length){var parentComment=$('#comment-'+r.parentCommentID);$('.wc-toggle',parentComment).trigger('click');scrollToSelector='#comment-'+r.parentCommentID;}else{$('.wc-thread-wrapper').prepend(r.message);}
runCallbacks(r);$('html, body').animate({scrollTop:$(scrollToSelector).offset().top-32},1000);}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}else{$('html, body').animate({scrollTop:$('#comment-'+commentId).parents('[id^=wc-comm-]').offset().top-32},1000);}}}
getSingleComment();if(commentListUpdateType&&loadLastCommentId&&(isUserLoggedIn||(!isUserLoggedIn&&!disableGuestsLiveUpdate))){setInterval(liveUpdate,parseInt(commentListUpdateTimer)*1000);}
function liveUpdate(){var visibleCommentIds=getVisibleCommentIds();var email=(Cookies.get('comment_author_email_'+wpdiscuzCookiehash)!=undefined&&Cookies.get('comment_author_email_'+wpdiscuzCookiehash)!='')?Cookies.get('comment_author_email_'+wpdiscuzCookiehash):'';var data=new FormData();data.append('action','wpdUpdateAutomatically');data.append('loadLastCommentId',loadLastCommentId);data.append('visibleCommentIds',visibleCommentIds);data.append('email',email);var ajax=isNativeAjaxEnabled?getAjaxObj(false,data):getCustomAjaxObj(false,data);ajax.done(function(response){try{var r=$.parseJSON(response);if(r.code==1){if(commentListUpdateType==1){liveUpdateImmediately(r);}else{wpdiscuzCommentArray=wpdiscuzCommentArray.concat(r.message.comments);wpdiscuzReplyArray=wpdiscuzReplyArray.concat(r.message.author_replies);var newCommentArrayLength=wpdiscuzCommentArray.length;var newRepliesArrayLength=wpdiscuzReplyArray.length;if(newCommentArrayLength>0){var newCommentText=newCommentArrayLength+' ';newCommentText+=newCommentArrayLength>1?wpdiscuzAjaxObj.wpdiscuz_options.wc_new_comments_button_text:wpdiscuzAjaxObj.wpdiscuz_options.wc_new_comment_button_text;$('.wc_new_comment').html(newCommentText).show();}else{$('.wc_new_comment').hide();}
if(newRepliesArrayLength>0){var newReplyText=newRepliesArrayLength+' ';newReplyText+=newRepliesArrayLength>1?wpdiscuzAjaxObj.wpdiscuz_options.wc_new_replies_button_text:wpdiscuzAjaxObj.wpdiscuz_options.wc_new_reply_button_text;$('.wc_new_reply').html(newReplyText).show();}else{$('.wc_new_reply').hide();}}
$('.wpd-cc-value').html(r.wc_all_comments_count_new);loadLastCommentId=r.loadLastCommentId;}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}
function liveUpdateImmediately(r){if(r.message!==undefined){var commentObject;var message=r.message;for(var i=0;i<message.length;i++){commentObject=message[i];addCommentToTree(commentObject.comment_parent,commentObject.comment_html);}}}
$(document).delegate('.wc-update-on-click','click',function(){var data=new FormData();data.append('action','wpdUpdateOnClick');var clickedButton=$(this);if(clickedButton.hasClass('wc_new_comment')){data.append('newCommentIds',wpdiscuzCommentArray.join());}else{data.append('newCommentIds',wpdiscuzReplyArray.join());}
var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);liveUpdateImmediately(r);if(clickedButton.hasClass('wc_new_comment')){wpdiscuzCommentArray=[];$('.wc_new_comment').hide();}else{wpdiscuzReplyArray=[];$('.wc_new_reply').hide();}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wpdiscuz-readmore','click',function(){var uniqueId=getUniqueID($(this));var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','wpdReadMore');data.append('commentId',commentId);var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);if(r.code){$('#comment-'+commentId+' .wc-comment-text').html(' '+r.message);$('#wpdiscuz-readmore-'+uniqueId).remove();}
runCallbacks(r);}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});wpdiscuzAjaxObj.setCommentMessage=function(field,messageKey,message,isFormError){var msgContainer;var parentContainer;if(isFormError){parentContainer=field.parents('.wc-form-wrapper');}else{parentContainer=field.closest('.wc-comment');}
msgContainer=parentContainer.children('.wpdiscuz-comment-message');msgContainer.removeClass();msgContainer.addClass('wpdiscuz-comment-message');msgContainer.addClass(messageKey);msgContainer.html(message);msgContainer.show().delay(4000).fadeOut(1000,function(){msgContainer.removeClass();msgContainer.addClass('wpdiscuz-comment-message');msgContainer.html('');});}
function cloneSecondaryForm(field){var uniqueId=getUniqueID(field,0);$('#wpdiscuz_form_anchor-'+uniqueId).before(replaceUniqueId(uniqueId));var secondaryFormWrapper=$('#wc-secondary-form-wrapper-'+uniqueId);secondaryFormWrapper.slideToggle(enableDropAnimation,function(){field.addClass('wpdiscuz-clonned');});changeCaptchaImage($('.wc_captcha_refresh_img',secondaryFormWrapper));}
function replaceUniqueId(uniqueId){var secondaryForm=$('#wpdiscuz_hidden_secondary_form').html();return secondaryForm.replace(/wpdiscuzuniqueid/g,uniqueId);}
function getUniqueID(field,isMain){var fieldID='';if(isMain){fieldID=field.parents('.wc-main-form-wrapper').attr('id');}else{fieldID=field.parents('.wc-comment').attr('id');}
var uniqueID=fieldID.substring(fieldID.lastIndexOf('-')+1);return uniqueID;}
function getCommentID(uniqueID){return uniqueID.substring(0,uniqueID.indexOf('_'));}
function getLastParentID(){return $('.wc-load-more-link').attr("data-lastparentid");}
function setLastParentID(lastParentID){$('.wc-load-more-link').attr("data-lastparentid",lastParentID);if(commentListLoadType!=2){$('.wpdiscuz-comment-pagination').show();}}
function getCommentDepth(field){var fieldClasses=field.attr('class');var classesArray=fieldClasses.split(' ');var depth='';$.each(classesArray,function(index,value){if('wc_comment_level'===getParentDepth(value,false)){depth=getParentDepth(value,true);}});return parseInt(depth)+1;}
function getParentDepth(depthValue,isNumberPart){var depth='';if(isNumberPart){depth=depthValue.substring(depthValue.indexOf('-')+1);}else{depth=depthValue.substring(0,depthValue.indexOf('-'));}
return depth;}
function addCommentToTree(parentId,comment){if(parentId==0){addCommentsAfterSticky(comment);}else{var parentUniqueId=getUniqueID($('#comment-'+parentId),0);$('#wpdiscuz_form_anchor-'+parentUniqueId).after(comment);}}
function getVisibleCommentIds(){var uniqueId;var commentId;var visibleCommentIds='';$('.wc-comment-right').each(function(){uniqueId=getUniqueID($(this),0);commentId=getCommentID(uniqueId);visibleCommentIds+=commentId+',';});return visibleCommentIds;}
function loginButtonsClone(){if($('.wc_social_plugin_wrapper .wp-social-login-provider-list').length){$('.wc_social_plugin_wrapper .wp-social-login-provider-list').clone().prependTo('#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content');}else if($('.wc_social_plugin_wrapper .the_champ_login_container').length){$('.wc_social_plugin_wrapper .the_champ_login_container').clone().prependTo('#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content');}else if($('.wc_social_plugin_wrapper .social_connect_form').length){$('.wc_social_plugin_wrapper .social_connect_form').clone().prependTo('#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content');}else if($('.wc_social_plugin_wrapper .oneall_social_login_providers').length){$('.wc_social_plugin_wrapper .oneall_social_login .oneall_social_login_providers').clone().prependTo('#wpdiscuz_hidden_secondary_form > .wc-form-wrapper >  .wc-secondary-forms-social-content');}}
function wpdiscuzReset(){$('.wpdiscuz_reset').val("");}
function setTextareaCharCount(elem,count){if(commentTextMaxLength!=null){var currLength=elem.val().length;var textareaWrap=elem.parents('.wc_comm_form');var charCountDiv=$('.commentTextMaxLength',textareaWrap);var left=commentTextMaxLength-currLength;if(left<=10){charCountDiv.addClass('left10');}else{charCountDiv.removeClass('left10');}
charCountDiv.html(left);}}
function wpdValidateFieldRequired(form){var fieldsGroup=form.find('.wpd-required-group');$.each(fieldsGroup,function(){$('input',this).removeAttr('required');var checkedFields=$('input:checked',this);if(checkedFields.length===0){$('input',$(this)).attr('required','required');}else{$('.wpd-field-invalid',this).remove();}});if(wpdiscuzRecaptcha&&$('input[name=wpdiscuz_recaptcha]',form).length&&!$('input[name=wpdiscuz_recaptcha]',form).val().length){wpdGoogleRecaptchaValid=false;$('.wpdiscuz-recaptcha',form).css('border','1px solid red');}else if(wpdiscuzRecaptcha){$('.wpdiscuz-recaptcha',form).css('border','none');}}
$(document).delegate('.wpd-required-group','change',function(){if($('input:checked',this).length!==0){$('input',$(this)).removeAttr('required');}else{$('input',$(this)).attr('required','required');}});$(document).delegate('.wpdiscuz-spoiler','click',function(){$(this).next().slideToggle();if($(this).hasClass('wpdiscuz-spoiler-closed')){$(this).parents('.wpdiscuz-spoiler-wrap').find('.fa-plus').removeClass('fa-plus').addClass('fa-minus');}else{$(this).parents('.wpdiscuz-spoiler-wrap').find('.fa-minus').removeClass('fa-minus').addClass('fa-plus');}
$(this).toggleClass('wpdiscuz-spoiler-closed');});function wpdiscuzShowReplies(uniqueId){var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','wpdShowReplies');data.append('commentId',commentId);var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);if(r.code==1){$('#wc-comm-'+uniqueId).replaceWith(r.data);$('#wc-comm-'+uniqueId+' .wc-toggle .fas').removeClass('fa-chevron-down').addClass('fa-chevron-up').removeClass('wpdiscuz-show-replies').attr('title',wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);var toggle=$('#wc-comm-'+uniqueId+' .wc-toggle');$('.wpdiscuz-children-button-text',toggle).text(wpdiscuzAjaxObj.wpdiscuz_options.wc_hide_replies_text);runCallbacks(r);}else{console.log('Unknown error occured');}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});}
$(document).delegate('.wc_stick_btn','click',function(){var btn=$(this);var uniqueId=getUniqueID(btn,0);var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','wpdStickComment');data.append('commentId',commentId);var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);if(r.code==1){$('.wc_stick_text',btn).text(r.data);setTimeout(function(){location.reload(true);},1000);}else{console.log('Comment not updated');}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wc_close_btn','click',function(){var btn=$(this);var uniqueId=getUniqueID(btn,0);var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','wpdCloseThread');data.append('commentId',commentId);var ajax=isNativeAjaxEnabled?getAjaxObj(true,data):getCustomAjaxObj(true,data);ajax.done(function(response){try{var r=$.parseJSON(response);if(r.code==1){$('.wc_close_btn',btn).text(r.data);setTimeout(function(){location.reload(true);},1000);}else{console.log('Comment not updated');}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wc_main_comm_form .wc_comment','focus',function(){$(this).parents('.wpdiscuz-textarea-wrap').find('.wc-field-avatararea').hide('fast');$(this).animate({'padding':'15px','font-size':'14px'},'fast');});$(document).delegate('.wc_main_comm_form .wc_comment','blur',function(){if(!$(this).val()){$(this).removeAttr("style");$(this).parents('.wpdiscuz-textarea-wrap').find('.wc-field-avatararea').show("fast");}});$(document).delegate('.wpd-stat-reacted','click',function(){var btn=$(this);$('.fas',btn).addClass('fa-pulse fa-spinner');var data=new FormData();data.append('action','wpdMostReactedComment');var ajax=isNativeAjaxEnabled?getAjaxObj(false,data):getCustomAjaxObj(false,data);ajax.done(function(response){try{$('.fas',btn).removeClass('fa-pulse fa-spinner');var r=$.parseJSON(response);if(r.code){var scrollToSelector='.wc-thread-wrapper';if($('#comment-'+r.commentId).length){scrollToSelector='#comment-'+r.commentId;}else if($('#comment-'+r.parentCommentID).length){var parentComment=$('#comment-'+r.parentCommentID);$('.wc-toggle',parentComment).trigger('click');}else{$('.wc-thread-wrapper').prepend(r.message);scrollToSelector='#comment-'+r.commentId;}
runCallbacks(r);$('html, body').animate({scrollTop:$(scrollToSelector).offset().top-32},1000);}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});$(document).delegate('.wpd-stat-hot','click',function(){var btn=$(this);$('.fab',btn).addClass('fas fa-pulse fa-spinner');var data=new FormData();data.append('action','wpdHottestThread');var ajax=isNativeAjaxEnabled?getAjaxObj(false,data):getCustomAjaxObj(false,data);ajax.done(function(response){try{$('.fab',btn).removeClass('fas fa-pulse fa-spinner');var r=$.parseJSON(response);if(r.code){var scrollToSelector='.wc-thread-wrapper';if($('#comment-'+r.commentId).length){scrollToSelector='#comment-'+r.commentId;}else{$('.wc-thread-wrapper').prepend(r.message);scrollToSelector='#comment-'+r.commentId;}
var comment=$('#comment-'+r.commentId);var toggle=$('.wc-toggle',comment);var icon=$('.fas',toggle);if(icon.hasClass('wpdiscuz-show-replies')&&isLoadOnlyParentComments){toggle.trigger('click');}
runCallbacks(r);$('html, body').animate({scrollTop:$(scrollToSelector).offset().top-32},1000);}}catch(e){console.log(e);}
$('.wpdiscuz-loading-bar').fadeOut(250);});});function addAgreementInCookie(wcForm){$('.wpd-agreement-checkbox',wcForm).each(function(){if($(this).hasClass('wpd_agreement_hide')&&isCookiesEnabled&&$(this).prop('checked')){Cookies.set($(this).attr('name')+'_'+wpdiscuzCookiehash,1,{expires:30,path:'/'});$('input[name='+$(this).attr('name')+']').each(function(){wpdiscuzAgreementFields.push($(this));});}});}
function deleteAgreementFields(){if(wpdiscuzAgreementFields.length){wpdiscuzAgreementFields.forEach(function(item){item.parents('.wpd-field-checkbox').remove();});wpdiscuzAgreementFields=[];}}
$(document).delegate('.wc-follow-link.wc_not_clicked','click',function(){var btn=$(this);btn.removeClass('wc_not_clicked');$('.fas',btn).addClass('fa-pulse fa-spinner');var uniqueId=getUniqueID(btn,0);var commentId=getCommentID(uniqueId);var data=new FormData();data.append('action','wpdFollowUser');data.append('commentId',commentId);var ajax=isNativeAjaxEnabled?getAjaxObj(false,data):getCustomAjaxObj(false,data);ajax.done(function(response){btn.addClass('wc_not_clicked');if(response.length){try{var r=$.parseJSON(response);if(r.code!==''){var message=wpdiscuzAjaxObj.wpdiscuz_options[r.code];wpdiscuzAjaxObj.setCommentMessage(btn,r.code,message,false);btn.removeClass('wc-follow-active');if(r.data.followTip){$('wpdtip',btn).html(r.data.followTip);}
if(r.data&&r.data.followClass){btn.addClass(r.data.followClass);}}}catch(e){console.log(e);}}
$('.fas',btn).removeClass('fa-pulse fa-spinner');});});function addCommentsAfterSticky(comment){if($('.wc-sticky-comment').last()[0]){$(comment).insertAfter($('.wc-sticky-comment').last()[0]);}else{$('.wc-thread-wrapper').prepend(comment);}}
function showHideNotificationType(current){if(current){if(!current.prop('required')){if(current.val()){current.parents('form').find('[name=wpdiscuz_notification_type]').parent().css('display','inline-block');}else{current.parents('form').find('[name=wpdiscuz_notification_type]').parent().css('display','none');}}}else{$.each($('.wc_email'),function(i,val){var obj=$(val);if(!obj.prop('required')){if(obj.val()){obj.parents('form').find('[name=wpdiscuz_notification_type]').parent().css('display','inline-block');}else{obj.parents('form').find('[name=wpdiscuz_notification_type]').parent().css('display','none');}}});}}
showHideNotificationType();$(document).delegate('.wc_email','keyup',function(){showHideNotificationType($(this));});$(document).delegate('#wpdiscuz-subscribe-form','submit',function(e){$('<input />').attr('type','hidden').attr('name',"ahk").attr('value',wpdiscuzAjaxObj.wpdiscuz_options.ahk).appendTo('#wpdiscuz-subscribe-form');return true;});function runCallbacks(r,commentID,voteType,wcForm){if(r.callbackFunctions){$.each(r.callbackFunctions,function(i){if(typeof wpdiscuzAjaxObj[r.callbackFunctions[i]]==="function"){wpdiscuzAjaxObj[r.callbackFunctions[i]](r.code,commentID,voteType,wcForm);}else{console.log(r.callbackFunctions[i]+" is not a function");}});}}
function getAjaxObj(isShowTopLoading,data){if(isShowTopLoading){$('.wpdiscuz-loading-bar').show();}
data.append('postId',wpdiscuzPostId);return $.ajax({type:'POST',url:wpdiscuzAjaxObj.url,data:data,contentType:false,processData:false,});}
function getCustomAjaxObj(isShowTopLoading,data){if(isShowTopLoading){$('.wpdiscuz-loading-bar').show();}
data.append('postId',wpdiscuzPostId);return $.ajax({type:'POST',url:wpdiscuzAjaxObj.customAjaxUrl,data:data,contentType:false,processData:false,});}});
;;jQuery(document).ready(function($){var refreshAfterDeleting=0;var isNativeAjaxEnabled=wpdiscuzAjaxObj.wpdiscuz_options.isNativeAjaxEnabled;$(document).delegate('.wpd-info,.wpd-page-link,.wpd-delete-content,.wpd-user-email-delete-links','click',function(e){e.preventDefault();});$(document).delegate('.wpd-info.wpd-not-clicked','click',function(e){var btn=$(this);btn.removeClass('wpd-not-clicked');var data=new FormData();data.append('action','wpdGetInfo');wpdFullInfo(btn,data);return false;});function wpdFullInfo(btn,data){var icon=$('.fas',btn);var oldClass=icon.attr('class');icon.removeClass();icon.addClass('fas fa-pulse fa-spinner');var ajax=isNativeAjaxEnabled?getUCAjaxObj(false,data):getUCACustomAjaxObj(false,data);ajax.done(function(response){btn.addClass('wpd-not-clicked');icon.removeClass();icon.addClass(oldClass);if(response){$('#wpdUserContentInfo').html(response);$('#wpdUserContentInfo ul.wpd-list .wpd-list-item:first-child').addClass('wpd-active');$('#wpdUserContentInfo div.wpd-content .wpd-content-item:first-child').addClass('wpd-active');if(!($('#wpdUserContentInfo').is(':visible'))){$('#wpdUserContentInfoAnchor').trigger('click');}}});}
$(document).delegate('.wpd-list-item','click',function(){var relValue=$('input.wpd-rel',this).val();$('#wpdUserContentInfo .wpd-list-item').removeClass('wpd-active');$('#wpdUserContentInfo .wpd-content-item').removeClass('wpd-active');$(this).addClass('wpd-active');$('#wpdUserContentInfo #'+relValue).addClass('wpd-active');});$(document).delegate('.wpd-page-link.wpd-not-clicked','click',function(e){var btn=$(this);btn.removeClass('wpd-not-clicked');var goToPage=btn.data('wpd-page');var action=$('.wpd-active .wpd-pagination .wpd-action').val();var data=new FormData();data.append('action',action);data.append('page',goToPage);var ajax=isNativeAjaxEnabled?getUCAjaxObj(true,data):getUCACustomAjaxObj(true,data);ajax.done(function(response){btn.addClass('wpd-not-clicked');if(response){$('.wpd-content-item.wpd-active').html(response);}
$('.wpdiscuz-loading-bar').hide();});});$(document).delegate('.wpd-delete-content.wpd-not-clicked','click',function(){var btn=$(this);var id=parseInt(btn.data('wpd-content-id'));if(!isNaN(id)){var action=btn.data('wpd-delete-action');if(action=='wpdDeleteComment'&&!confirm(wpdiscuzUCObj.msgConfirmDeleteComment)){return false;}else if(action=='wpdCancelSubscription'&&!confirm(wpdiscuzUCObj.msgConfirmCancelSubscription)){return false;}else if(action=='wpdCancelFollow'&&!confirm(wpdiscuzUCObj.msgConfirmCancelFollow)){return false;}
var icon=$('i',btn);var oldClass=icon.attr('class');var goToPage=$('.wpd-wrapper .wpd-page-number').val();var childCount=$('.wpd-content-item.wpd-active').children('.wpd-item').length;btn.removeClass('wpd-not-clicked');icon.removeClass().addClass('fas fa-pulse fa-spinner');if(childCount==1&&goToPage>0){goToPage=goToPage-1;}
var data=new FormData();data.append('id',id);data.append('page',goToPage);data.append('action',action);var ajax=isNativeAjaxEnabled?getUCAjaxObj(false,data):getUCACustomAjaxObj(false,data);ajax.done(function(response){btn.addClass('wpd-not-clicked');icon.removeClass().addClass(oldClass);$('.wpd-content-item.wpd-active').html(response);if(action=='wpdDeleteComment'||action=='wpdCancelFollow'){refreshAfterDeleting=1;}});}});$(document).delegate('[data-lity-close]','click',function(e){if($(e.target).is('[data-lity-close]')){if(refreshAfterDeleting){window.location.reload(true);}}});$(document).delegate('.wpd-user-email-delete-links.wpd-not-clicked','click',function(){var btn=$(this);btn.removeClass('wpd-not-clicked');$('.wpd-loading',btn).addClass('wpd-show');var data=new FormData();data.append('action','wpdEmailDeleteLinks');var ajax=isNativeAjaxEnabled?getUCAjaxObj(false,data):getUCACustomAjaxObj(false,data);ajax.done(function(response){btn.addClass('wpd-not-clicked');$('[data-lity-close]',window.parent.document).trigger('click');});});$(document).delegate('.wpd-user-settings-button.wpd-not-clicked','click',function(){var btn=$(this);btn.removeClass('wpd-not-clicked');var guestAction=btn.data('wpd-delete-action');console.log(guestAction);if(guestAction!=='deleteCookies'){btn.find('.wpd-loading').addClass('wpd-show');var data=new FormData();data.append('action','wpdGuestAction');data.append('guestAction',guestAction);var ajax=isNativeAjaxEnabled?getUCAjaxObj(false,data):getUCACustomAjaxObj(false,data);ajax.done(function(response){btn.addClass('wpd-not-clicked');btn.find('.wpd-loading').removeClass('wpd-show');try{var r=$.parseJSON(response);btn.after(r.message);var messageWrap=btn.next('.wpd-guest-action-message');messageWrap.fadeIn(100).fadeOut(7000,function(){messageWrap.remove();if(parseInt(r.code)===1){btn.parent().remove();guestActionDeleteCookieClass();}});}catch(e){console.log(e);}});}else{wpdDeleteAllCookies();}});function guestActionDeleteCookieClass(){if(!$('.wpd-delete-all-comments').length&&!$('.wpd-delete-all-subscriptions').length){$('.wpd-delete-all-cookies').parent().addClass('wpd-show');}}
function wpdDeleteAllCookies(){var wpdCookies=document.cookie.split(";");for(var i=0;i<wpdCookies.length;i++){var wpdCookie=wpdCookies[i];var eqPos=wpdCookie.indexOf("=");var name=eqPos>-1?wpdCookie.substr(0,eqPos):wpdCookie;Cookies.remove(name.trim());}
Cookies.remove(wpdiscuzAjaxObj.wpdiscuz_options.lastVisitKey,{path:window.location});location.reload(true);}
function getUCAjaxObj(isShowTopLoading,data){if(isShowTopLoading){$('.wpdiscuz-loading-bar').show();}
data.append('postId',wpdiscuzAjaxObj.wpdiscuz_options.wc_post_id);return $.ajax({type:'POST',url:wpdiscuzAjaxObj.url,data:data,contentType:false,processData:false,});}
function getUCACustomAjaxObj(isShowTopLoading,data){if(isShowTopLoading){$('.wpdiscuz-loading-bar').show();}
data.append('postId',wpdiscuzAjaxObj.wpdiscuz_options.wc_post_id);return $.ajax({type:'POST',url:wpdiscuzAjaxObj.customAjaxUrl,data:data,contentType:false,processData:false,});}});
;
(function(window,factory){if(typeof define==='function'&&define.amd){define(['jquery'],function($){return factory(window,$);});}else if(typeof module==='object'&&typeof module.exports==='object'){module.exports=factory(window,require('jquery'));}else{window.lity=factory(window,window.jQuery||window.Zepto);}}(typeof window!=="undefined"?window:this,function(window,$){'use strict';var document=window.document;var _win=$(window);var _deferred=$.Deferred;var _html=$('html');var _instances=[];var _attrAriaHidden='aria-hidden';var _dataAriaHidden='lity-'+_attrAriaHidden;var _focusableElementsSelector='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])';var _defaultOptions={esc:true,handler:null,handlers:{image:imageHandler,inline:inlineHandler,youtube:youtubeHandler,vimeo:vimeoHandler,googlemaps:googlemapsHandler,facebookvideo:facebookvideoHandler,iframe:iframeHandler},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'};var _imageRegexp=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i;var _youtubeRegex=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i;var _vimeoRegex=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/;var _googlemapsRegex=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i;var _facebookvideoRegex=/(facebook\.com)\/([a-z0-9_-]*)\/videos\/([0-9]*)(.*)?$/i;var _transitionEndEvent=(function(){var el=document.createElement('div');var transEndEventNames={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'};for(var name in transEndEventNames){if(el.style[name]!==undefined){return transEndEventNames[name];}}
return false;})();function transitionEnd(element){var deferred=_deferred();if(!_transitionEndEvent||!element.length){deferred.resolve();}else{element.one(_transitionEndEvent,deferred.resolve);setTimeout(deferred.resolve,500);}
return deferred.promise();}
function settings(currSettings,key,value){if(arguments.length===1){return $.extend({},currSettings);}
if(typeof key==='string'){if(typeof value==='undefined'){return typeof currSettings[key]==='undefined'?null:currSettings[key];}
currSettings[key]=value;}else{$.extend(currSettings,key);}
return this;}
function parseQueryParams(params){var pairs=decodeURI(params.split('#')[0]).split('&');var obj={},p;for(var i=0,n=pairs.length;i<n;i++){if(!pairs[i]){continue;}
p=pairs[i].split('=');obj[p[0]]=p[1];}
return obj;}
function appendQueryParams(url,params){return url+(url.indexOf('?')>-1?'&':'?')+$.param(params);}
function transferHash(originalUrl,newUrl){var pos=originalUrl.indexOf('#');if(-1===pos){return newUrl;}
if(pos>0){originalUrl=originalUrl.substr(pos);}
return newUrl+originalUrl;}
function error(msg){return $('<span class="lity-error"/>').append(msg);}
function imageHandler(target,instance){var desc=(instance.opener()&&instance.opener().data('lity-desc'))||'Image with no description';var img=$('<img src="'+target+'" alt="'+desc+'"/>');var deferred=_deferred();var failed=function(){deferred.reject(error('Failed loading image'));};img.on('load',function(){if(this.naturalWidth===0){return failed();}
deferred.resolve(img);}).on('error',failed);return deferred.promise();}
imageHandler.test=function(target){return _imageRegexp.test(target);};function inlineHandler(target,instance){var el,placeholder,hasHideClass;try{el=$(target);}catch(e){return false;}
if(!el.length){return false;}
placeholder=$('<i style="display:none !important"/>');hasHideClass=el.hasClass('lity-hide');instance.element().one('lity:remove',function(){placeholder.before(el).remove();if(hasHideClass&&!el.closest('.lity-content').length){el.addClass('lity-hide');}});return el.removeClass('lity-hide').after(placeholder);}
function youtubeHandler(target){var matches=_youtubeRegex.exec(target);if(!matches){return false;}
return iframeHandler(transferHash(target,appendQueryParams('https://www.youtube'+(matches[2]||'')+'.com/embed/'+matches[4],$.extend({autoplay:1},parseQueryParams(matches[5]||'')))));}
function vimeoHandler(target){var matches=_vimeoRegex.exec(target);if(!matches){return false;}
return iframeHandler(transferHash(target,appendQueryParams('https://player.vimeo.com/video/'+matches[3],$.extend({autoplay:1},parseQueryParams(matches[4]||'')))));}
function facebookvideoHandler(target){var matches=_facebookvideoRegex.exec(target);if(!matches){return false;}
if(0!==target.indexOf('http')){target='https:'+target;}
return iframeHandler(transferHash(target,appendQueryParams('https://www.facebook.com/plugins/video.php?href='+target,$.extend({autoplay:1},parseQueryParams(matches[4]||'')))));}
function googlemapsHandler(target){var matches=_googlemapsRegex.exec(target);if(!matches){return false;}
return iframeHandler(transferHash(target,appendQueryParams('https://www.google.'+matches[3]+'/maps?'+matches[6],{output:matches[6].indexOf('layer=c')>0?'svembed':'embed'})));}
function iframeHandler(target){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+target+'"/></div>';}
function winHeight(){return document.documentElement.clientHeight?document.documentElement.clientHeight*0.9:Math.round(_win.height()*0.9);}
function keydown(e){var current=currentInstance();if(!current){return;}
if(e.keyCode===27&&!!current.options('esc')){current.close();}
if(e.keyCode===9){handleTabKey(e,current);}}
function handleTabKey(e,instance){var focusableElements=instance.element().find(_focusableElementsSelector);var focusedIndex=focusableElements.index(document.activeElement);if(e.shiftKey&&focusedIndex<=0){focusableElements.get(focusableElements.length-1).focus();e.preventDefault();}else if(!e.shiftKey&&focusedIndex===focusableElements.length-1){focusableElements.get(0).focus();e.preventDefault();}}
function resize(){$.each(_instances,function(i,instance){instance.resize();});}
function registerInstance(instanceToRegister){if(1===_instances.unshift(instanceToRegister)){_html.addClass('lity-active');_win.on({resize:resize,keydown:keydown});}
$('body > *').not(instanceToRegister.element()).addClass('lity-hidden').each(function(){var el=$(this);if(undefined!==el.data(_dataAriaHidden)){return;}
el.data(_dataAriaHidden,el.attr(_attrAriaHidden)||null);}).attr(_attrAriaHidden,'true');}
function removeInstance(instanceToRemove){var show;instanceToRemove.element().attr(_attrAriaHidden,'true');if(1===_instances.length){_html.removeClass('lity-active');_win.off({resize:resize,keydown:keydown});}
_instances=$.grep(_instances,function(instance){return instanceToRemove!==instance;});if(!!_instances.length){show=_instances[0].element();}else{show=$('.lity-hidden');}
show.removeClass('lity-hidden').each(function(){var el=$(this),oldAttr=el.data(_dataAriaHidden);if(!oldAttr){el.removeAttr(_attrAriaHidden);}else{el.attr(_attrAriaHidden,oldAttr);}
el.removeData(_dataAriaHidden);});}
function currentInstance(){if(0===_instances.length){return null;}
return _instances[0];}
function factory(target,instance,handlers,preferredHandler){var handler='inline',content;var currentHandlers=$.extend({},handlers);if(preferredHandler&&currentHandlers[preferredHandler]){content=currentHandlers[preferredHandler](target,instance);handler=preferredHandler;}else{$.each(['inline','iframe'],function(i,name){delete currentHandlers[name];currentHandlers[name]=handlers[name];});$.each(currentHandlers,function(name,currentHandler){if(!currentHandler){return true;}
if(currentHandler.test&&!currentHandler.test(target,instance)){return true;}
content=currentHandler(target,instance);if(false!==content){handler=name;return false;}});}
return{handler:handler,content:content||''};}
function Lity(target,options,opener,activeElement){var self=this;var result;var isReady=false;var isClosed=false;var element;var content;options=$.extend({},_defaultOptions,options);element=$(options.template);self.element=function(){return element;};self.opener=function(){return opener;};self.options=$.proxy(settings,self,options);self.handlers=$.proxy(settings,self,options.handlers);self.resize=function(){if(!isReady||isClosed){return;}
content.css('max-height',winHeight()+'px').trigger('lity:resize',[self]);};self.close=function(){if(!isReady||isClosed){return;}
isClosed=true;removeInstance(self);var deferred=_deferred();if(activeElement&&(document.activeElement===element[0]||$.contains(element[0],document.activeElement))){try{activeElement.focus();}catch(e){}}
content.trigger('lity:close',[self]);element.removeClass('lity-opened').addClass('lity-closed');transitionEnd(content.add(element)).always(function(){content.trigger('lity:remove',[self]);element.remove();element=undefined;deferred.resolve();});return deferred.promise();};result=factory(target,self,options.handlers,options.handler);element.attr(_attrAriaHidden,'false').addClass('lity-loading lity-opened lity-'+result.handler).appendTo('body').focus().on('click','[data-lity-close]',function(e){if($(e.target).is('[data-lity-close]')){self.close();}}).trigger('lity:open',[self]);registerInstance(self);$.when(result.content).always(ready);function ready(result){content=$(result).css('max-height',winHeight()+'px');element.find('.lity-loader').each(function(){var loader=$(this);transitionEnd(loader).always(function(){loader.remove();});});element.removeClass('lity-loading').find('.lity-content').empty().append(content);isReady=true;content.trigger('lity:ready',[self]);}}
function wpdLity(target,options,opener){if(!target.preventDefault){opener=$(opener);}else{target.preventDefault();opener=$(this);target=opener.data('lity-target')||opener.attr('rel')||opener.attr('src');}
var instance=new Lity(target,$.extend({},opener.data('lity-options')||opener.data('lity'),options),opener,document.activeElement);if(!target.preventDefault){return instance;}}
wpdLity.version='2.2.2';wpdLity.options=$.proxy(settings,wpdLity,_defaultOptions);wpdLity.handlers=$.proxy(settings,wpdLity,_defaultOptions.handlers);wpdLity.current=currentInstance;$(document).on('click.lity','[data-wpd-lity]',wpdLity);return wpdLity;}));
;!function(e){"use strict";e(document).on("click","a.um-toggle-terms",function(){var t=jQuery(this);e(".um-terms-conditions-content").toggle("fast",function(){e(".um-terms-conditions-content").is(":visible")&&t.text(t.data("toggle-hide")),e(".um-terms-conditions-content").is(":hidden")&&t.text(t.data("toggle-show"))})}),e(document).on("click","a.um-hide-terms",function(){var t=jQuery(this).parents(".um-field-area").find("a.um-toggle-terms");e(".um-terms-conditions-content").toggle("fast",function(){e(".um-terms-conditions-content").is(":visible")&&t.text(t.data("toggle-hide")),e(".um-terms-conditions-content").is(":hidden")&&t.text(t.data("toggle-show"))})})}(jQuery);
;!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{s=decodeURIComponent(s.replace(pluses," "))}catch(e){return}try{return config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value&&!$.isFunction(value)){if(options=$.extend({},config.defaults,options),"number"==typeof options.expires){var days=options.expires,t=options.expires=new Date;t.setDate(t.getDate()+days)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var result=key?void 0:{},cookies=document.cookie?document.cookie.split("; "):[],i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}key||void 0===(cookie=read(cookie))||(result[name]=cookie)}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)&&($.cookie(key,"",$.extend({},options,{expires:-1})),!0)}});
;jQuery(document).ready(function($){function affwp_get_cookie_item(item){var re=new RegExp(item+"=([^;]+)"),value=re.exec(document.cookie);return null!=value&&unescape(value[1])}function affwp_debug_inline_vars(){var vars={ajax_url:affwp_scripts.ajaxurl.length?JSON.stringify(affwp_scripts.ajaxurl):"unavailable",ref:JSON.stringify(AFFWP.referral_var?AFFWP.referral_var:affwp_get_cookie_item("affwp_ref")),visit_cookie:affwp_get_cookie_item("affwp_ref_visit_id")?JSON.stringify(affwp_get_cookie_item("affwp_ref_visit_id")):"unavailable",credit_last:AFFWP.referral_credit_last?JSON.stringify(AFFWP.referral_credit_last):"unavailable",campaign:JSON.stringify(affwp_get_query_vars().campaign?affwp_get_query_vars().campaign:affwp_get_cookie_item("affwp_campaign")),currency:affwp_debug_vars.currency.length?JSON.stringify(affwp_debug_vars.currency):"unavailable",version:affwp_debug_vars.version.length?JSON.stringify(affwp_debug_vars.version):"unavailable"};return vars}function affwp_debug_get_integrations(){return"undefined"!=typeof affwp_debug_vars&&affwp_debug_vars.integrations}function affwp_debug_output(){console.affwp("The following data is provided from AffiliateWP debug mode. To disable this information, please deactivate debug mode in AffiliateWP."),console.affwp("Available debug data: \n"+JSON.stringify(Object(affwp_debug_inline_vars()))),console.affwp("Integrations\n"+JSON.stringify(Object(affwp_debug_get_integrations())))}function affwp_track_visit(affiliate_id,url_campaign){affwp_set_cookie("affwp_ref",affiliate_id),$.ajax({type:"POST",data:{action:"affwp_track_visit",affiliate:affiliate_id,campaign:url_campaign,url:document.URL,referrer:document.referrer},url:affwp_scripts.ajaxurl,success:function(response){affwp_set_cookie("affwp_ref_visit_id",response),affwp_set_cookie("affwp_campaign",url_campaign)}}).fail(function(response){window.console&&window.console.log&&console.log(response)})}function affwp_set_cookie(name,value){"cookie_domain"in AFFWP?$.cookie(name,value,{expires:AFFWP.expiration,path:"/",domain:AFFWP.cookie_domain}):$.cookie(name,value,{expires:AFFWP.expiration,path:"/"})}function affwp_get_query_vars(){for(var hash,vars=[],hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<hashes.length;i++){hash=hashes[i].split("="),vars.push(hash[0]);var key="undefined"==typeof hash[1]?0:1,n=hash[key].indexOf("#");hash[key]=hash[key].substring(0,n!=-1?n:hash[key].length),vars[hash[0]]=hash[key]}return vars}var ref_cookie=$.cookie("affwp_ref"),credit_last=($.cookie("affwp_ref_visit_id"),$.cookie("affwp_campaign"),AFFWP.referral_credit_last);if(1===AFFWP.debug){var affwpConsoleStyles=["background: transparent","border-bottom: 2px solid #E34F43","color: black","display: block","line-height: 18px","text-align: left","margin: 4px","font-weight: bold"].join(";");console.affwp=function(){Array.prototype.unshift.call(arguments,"%c * AffiliateWP: ",affwpConsoleStyles+" *"),console.log.apply(console,arguments)},affwp_debug_output()}if("1"==credit_last||!ref_cookie){var ref=affwp_get_query_vars()[AFFWP.referral_var],campaign=affwp_get_query_vars().campaign;if("undefined"==typeof ref||$.isFunction(ref)){var path=window.location.pathname.split("/");$.each(path,function(key,value){AFFWP.referral_var==value&&(ref=path[key+1])})}$.isFunction(ref)||("undefined"==typeof ref||$.isNumeric(ref)?ref&&!ref_cookie?affwp_track_visit(ref,campaign):"1"==credit_last&&ref&&ref_cookie&&ref!==ref_cookie&&($.removeCookie("affwp_ref"),affwp_track_visit(ref,campaign)):$.ajax({type:"POST",data:{action:"affwp_get_affiliate_id",affiliate:ref},url:affwp_scripts.ajaxurl,success:function(response){"1"==response.data.success&&("1"==credit_last&&ref_cookie&&ref_cookie!=response.data.affiliate_id&&$.removeCookie("affwp_ref"),("1"==credit_last&&ref_cookie&&ref_cookie!=response.data.affiliate_id||!ref_cookie)&&affwp_track_visit(response.data.affiliate_id,campaign))}}).fail(function(response){window.console&&window.console.log&&console.log(response)}))}});
;jQuery.ajax({type:"GET",url:tieViewsCacheL10n.admin_ajax_url,data:"postviews_id="+tieViewsCacheL10n.post_id+"&action=my_postviews",cache:!1,success:function(data){if(data){jQuery('span.post-views').html(data+' Views');}}});
;jQuery(document).ready(function(){jQuery("#smpush_notification_temp label").click(function(){jQuery("#smpush_notification_temp label").each(function(index){jQuery(this).removeClass("smpush_checked");jQuery(this).find("input").prop("checked",false);});jQuery(this).addClass("smpush_checked");jQuery(this).find("input").prop("checked",true);jQuery("#smpush_temp_screen").html("("+jQuery(this).find("input").val()+"&#176;)");});jQuery("#smpush_woo_waiting_button").click(function(){if(!smpush_browser||typeof smpush_browser==="undefined"){return;}
if(smpush_getCookie("smpush_device_token")==""){smpushIntializePopupBox();return;}
var btn=jQuery(this);var oldtext=btn.html();jQuery(this).html(smpush_jslang.saving_text);jQuery.get(smpush_jslang.siteurl+"/?smpushcontrol=woo_waiting_list",{"noheader":1,"productid":btn.val(),"device_type":smpush_browser()},function(data){btn.html(oldtext);if(data["respond"]==0){alert(data["message"]);}});});if(!document.getElementsByTagName("html")[0].hasAttribute("amp")){jQuery("amp-web-push").remove();jQuery("amp-web-push-widget").remove();}});
;;(function($){var plugin={};var defaults={mode:'horizontal',slideSelector:'',infiniteLoop:true,hideControlOnEnd:false,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:false,captions:false,ticker:false,tickerHover:false,adaptiveHeight:false,adaptiveHeightSpeed:500,video:false,useCSS:true,preloadImages:'visible',responsive:true,slideZIndex:50,wrapperClass:'bx-wrapper',touchEnabled:true,swipeThreshold:50,oneToOneTouch:true,preventDefaultSwipeX:true,preventDefaultSwipeY:false,pager:true,pagerType:'full',pagerShortSeparator:' / ',pagerSelector:null,buildPager:null,pagerCustom:null,controls:true,nextText:'Next',prevText:'Prev',nextSelector:null,prevSelector:null,autoControls:false,startText:'Start',stopText:'Stop',autoControlsCombine:false,autoControlsSelector:null,auto:false,pause:4000,autoStart:true,autoDirection:'next',autoHover:false,autoDelay:0,autoSlideForOnePage:false,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}}
$.fn.bxSlider=function(options){if(this.length==0)return this;if(this.length>1){this.each(function(){$(this).bxSlider(options)});return this;}
var slider={};var el=this;plugin.el=this;var windowWidth=$(window).width();var windowHeight=$(window).height();var init=function(){slider.settings=$.extend({},defaults,options);slider.settings.slideWidth=parseInt(slider.settings.slideWidth);slider.children=el.children(slider.settings.slideSelector);if(slider.children.length<slider.settings.minSlides)slider.settings.minSlides=slider.children.length;if(slider.children.length<slider.settings.maxSlides)slider.settings.maxSlides=slider.children.length;if(slider.settings.randomStart)slider.settings.startSlide=Math.floor(Math.random()*slider.children.length);slider.active={index:slider.settings.startSlide}
slider.carousel=slider.settings.minSlides>1||slider.settings.maxSlides>1;if(slider.carousel)slider.settings.preloadImages='all';slider.minThreshold=(slider.settings.minSlides*slider.settings.slideWidth)+((slider.settings.minSlides-1)*slider.settings.slideMargin);slider.maxThreshold=(slider.settings.maxSlides*slider.settings.slideWidth)+((slider.settings.maxSlides-1)*slider.settings.slideMargin);slider.working=false;slider.controls={};slider.interval=null;slider.animProp=slider.settings.mode=='vertical'?'top':'left';slider.usingCSS=slider.settings.useCSS&&slider.settings.mode!='fade'&&(function(){var div=document.createElement('div');var props=['WebkitPerspective','MozPerspective','OPerspective','msPerspective'];for(var i in props){if(div.style[props[i]]!==undefined){slider.cssPrefix=props[i].replace('Perspective','').toLowerCase();slider.animProp='-'+slider.cssPrefix+'-transform';return true;}}
return false;}());if(slider.settings.mode=='vertical')slider.settings.maxSlides=slider.settings.minSlides;el.data("origStyle",el.attr("style"));el.children(slider.settings.slideSelector).each(function(){$(this).data("origStyle",$(this).attr("style"));});setup();}
var setup=function(){el.wrap('<div class="'+slider.settings.wrapperClass+'"><div class="bx-viewport"></div></div>');slider.viewport=el.parent();slider.loader=$('<div class="bx-loading" />');slider.viewport.prepend(slider.loader);el.css({width:slider.settings.mode=='horizontal'?(slider.children.length*100+215)+'%':'auto',position:'relative'});if(slider.usingCSS&&slider.settings.easing){el.css('-'+slider.cssPrefix+'-transition-timing-function',slider.settings.easing);}else if(!slider.settings.easing){slider.settings.easing='swing';}
var slidesShowing=getNumberSlidesShowing();slider.viewport.css({width:'100%',overflow:'hidden',position:'relative'});slider.viewport.parent().css({maxWidth:getViewportMaxWidth()});if(!slider.settings.pager){slider.viewport.parent().css({margin:'0 auto 0px'});}
slider.children.css({'float':slider.settings.mode=='horizontal'?'left':'none',listStyle:'none',position:'relative'});slider.children.css('width',getSlideWidth());if(slider.settings.mode=='horizontal'&&slider.settings.slideMargin>0)slider.children.css('marginRight',slider.settings.slideMargin);if(slider.settings.mode=='vertical'&&slider.settings.slideMargin>0)slider.children.css('marginBottom',slider.settings.slideMargin);if(slider.settings.mode=='fade'){slider.children.css({position:'absolute',zIndex:0,display:'none'});slider.children.eq(slider.settings.startSlide).css({zIndex:slider.settings.slideZIndex,display:'block'});}
slider.controls.el=$('<div class="bx-controls" />');if(slider.settings.captions)appendCaptions();slider.active.last=slider.settings.startSlide==getPagerQty()-1;if(slider.settings.video)el.fitVids();var preloadSelector=slider.children.eq(slider.settings.startSlide);if(slider.settings.preloadImages=="all")preloadSelector=slider.children;if(!slider.settings.ticker){if(slider.settings.pager)appendPager();if(slider.settings.controls)appendControls();if(slider.settings.auto&&slider.settings.autoControls)appendControlsAuto();if(slider.settings.controls||slider.settings.autoControls||slider.settings.pager)slider.viewport.after(slider.controls.el);}else{slider.settings.pager=false;}
loadElements(preloadSelector,start);}
var loadElements=function(selector,callback){var total=selector.find('img, iframe').length;if(total==0){callback();return;}
var count=0;selector.find('img, iframe').each(function(){$(this).one('load',function(){if(++count==total)callback();}).each(function(){if(this.complete)$(this).load();});});}
var start=function(){if(slider.settings.infiniteLoop&&slider.settings.mode!='fade'&&!slider.settings.ticker){var slice=slider.settings.mode=='vertical'?slider.settings.minSlides:slider.settings.maxSlides;var sliceAppend=slider.children.slice(0,slice).clone().addClass('bx-clone');var slicePrepend=slider.children.slice(-slice).clone().addClass('bx-clone');el.append(sliceAppend).prepend(slicePrepend);}
slider.loader.remove();setSlidePosition();if(slider.settings.mode=='vertical')slider.settings.adaptiveHeight=true;slider.viewport.height(getViewportHeight());el.redrawSlider();slider.settings.onSliderLoad(slider.active.index);slider.initialized=true;if(slider.settings.responsive)$(window).bind('resize',resizeWindow);if(slider.settings.auto&&slider.settings.autoStart&&(getPagerQty()>1||slider.settings.autoSlideForOnePage))initAuto();if(slider.settings.ticker)initTicker();if(slider.settings.pager)updatePagerActive(slider.settings.startSlide);if(slider.settings.controls)updateDirectionControls();if(slider.settings.touchEnabled&&!slider.settings.ticker)initTouch();}
var getViewportHeight=function(){var height=0;var children=$();if(slider.settings.mode!='vertical'&&!slider.settings.adaptiveHeight){children=slider.children;}else{if(!slider.carousel){children=slider.children.eq(slider.active.index);}else{var currentIndex=slider.settings.moveSlides==1?slider.active.index:slider.active.index*getMoveBy();children=slider.children.eq(currentIndex);for(i=1;i<=slider.settings.maxSlides-1;i++){if(currentIndex+i>=slider.children.length){children=children.add(slider.children.eq(i-1));}else{children=children.add(slider.children.eq(currentIndex+i));}}}}
if(slider.settings.mode=='vertical'){children.each(function(index){height+=$(this).outerHeight();});if(slider.settings.slideMargin>0){height+=slider.settings.slideMargin*(slider.settings.minSlides-1);}}else{height=Math.max.apply(Math,children.map(function(){return $(this).outerHeight(false);}).get());}
if(slider.viewport.css('box-sizing')=='border-box'){height+=parseFloat(slider.viewport.css('padding-top'))+parseFloat(slider.viewport.css('padding-bottom'))+
parseFloat(slider.viewport.css('border-top-width'))+parseFloat(slider.viewport.css('border-bottom-width'));}else if(slider.viewport.css('box-sizing')=='padding-box'){height+=parseFloat(slider.viewport.css('padding-top'))+parseFloat(slider.viewport.css('padding-bottom'));}
return height;}
var getViewportMaxWidth=function(){var width='100%';if(slider.settings.slideWidth>0){if(slider.settings.mode=='horizontal'){width=(slider.settings.maxSlides*slider.settings.slideWidth)+((slider.settings.maxSlides-1)*slider.settings.slideMargin);}else{width=slider.settings.slideWidth;}}
return width;}
var getSlideWidth=function(){var newElWidth=slider.settings.slideWidth;var wrapWidth=slider.viewport.width();if(slider.settings.slideWidth==0||(slider.settings.slideWidth>wrapWidth&&!slider.carousel)||slider.settings.mode=='vertical'){newElWidth=wrapWidth;}else if(slider.settings.maxSlides>1&&slider.settings.mode=='horizontal'){if(wrapWidth>slider.maxThreshold){}else if(wrapWidth<slider.minThreshold){newElWidth=(wrapWidth-(slider.settings.slideMargin*(slider.settings.minSlides-1)))/slider.settings.minSlides;}}
return newElWidth;}
var getNumberSlidesShowing=function(){var slidesShowing=1;if(slider.settings.mode=='horizontal'&&slider.settings.slideWidth>0){if(slider.viewport.width()<slider.minThreshold){slidesShowing=slider.settings.minSlides;}else if(slider.viewport.width()>slider.maxThreshold){slidesShowing=slider.settings.maxSlides;}else{var childWidth=slider.children.first().width()+slider.settings.slideMargin;slidesShowing=Math.floor((slider.viewport.width()+
slider.settings.slideMargin)/childWidth);}}else if(slider.settings.mode=='vertical'){slidesShowing=slider.settings.minSlides;}
return slidesShowing;}
var getPagerQty=function(){var pagerQty=0;if(slider.settings.moveSlides>0){if(slider.settings.infiniteLoop){pagerQty=Math.ceil(slider.children.length/getMoveBy());}else{var breakPoint=0;var counter=0
while(breakPoint<slider.children.length){++pagerQty;breakPoint=counter+getNumberSlidesShowing();counter+=slider.settings.moveSlides<=getNumberSlidesShowing()?slider.settings.moveSlides:getNumberSlidesShowing();}}}else{pagerQty=Math.ceil(slider.children.length/getNumberSlidesShowing());}
return pagerQty;}
var getMoveBy=function(){if(slider.settings.moveSlides>0&&slider.settings.moveSlides<=getNumberSlidesShowing()){return slider.settings.moveSlides;}
return getNumberSlidesShowing();}
var setSlidePosition=function(){if(slider.children.length>slider.settings.maxSlides&&slider.active.last&&!slider.settings.infiniteLoop){if(slider.settings.mode=='horizontal'){var lastChild=slider.children.last();var position=lastChild.position();setPositionProperty(-(position.left-(slider.viewport.width()-lastChild.outerWidth())),'reset',0);}else if(slider.settings.mode=='vertical'){var lastShowingIndex=slider.children.length-slider.settings.minSlides;var position=slider.children.eq(lastShowingIndex).position();setPositionProperty(-position.top,'reset',0);}}else{var position=slider.children.eq(slider.active.index*getMoveBy()).position();if(slider.active.index==getPagerQty()-1)slider.active.last=true;if(position!=undefined){if(slider.settings.mode=='horizontal')setPositionProperty(-position.left,'reset',0);else if(slider.settings.mode=='vertical')setPositionProperty(-position.top,'reset',0);}}}
var setPositionProperty=function(value,type,duration,params){if(slider.usingCSS){var propValue=slider.settings.mode=='vertical'?'translate3d(0, '+value+'px, 0)':'translate3d('+value+'px, 0, 0)';el.css('-'+slider.cssPrefix+'-transition-duration',duration/1000+'s');if(type=='slide'){el.css(slider.animProp,propValue);el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');updateAfterSlideTransition();});}else if(type=='reset'){el.css(slider.animProp,propValue);}else if(type=='ticker'){el.css('-'+slider.cssPrefix+'-transition-timing-function','linear');el.css(slider.animProp,propValue);el.bind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd',function(){el.unbind('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd');setPositionProperty(params['resetValue'],'reset',0);tickerLoop();});}}else{var animateObj={};animateObj[slider.animProp]=value;if(type=='slide'){el.animate(animateObj,duration,slider.settings.easing,function(){updateAfterSlideTransition();});}else if(type=='reset'){el.css(slider.animProp,value)}else if(type=='ticker'){el.animate(animateObj,speed,'linear',function(){setPositionProperty(params['resetValue'],'reset',0);tickerLoop();});}}}
var populatePager=function(){var pagerHtml='';var pagerQty=getPagerQty();for(var i=0;i<pagerQty;i++){var linkContent='';if(slider.settings.buildPager&&$.isFunction(slider.settings.buildPager)){linkContent=slider.settings.buildPager(i);slider.pagerEl.addClass('bx-custom-pager');}else{linkContent=i+1;slider.pagerEl.addClass('bx-default-pager');}
pagerHtml+='<div class="bx-pager-item"><a href="" data-slide-index="'+i+'" class="bx-pager-link">'+linkContent+'</a></div>';};slider.pagerEl.html(pagerHtml);}
var appendPager=function(){if(!slider.settings.pagerCustom){slider.pagerEl=$('<div class="bx-pager" />');if(slider.settings.pagerSelector){$(slider.settings.pagerSelector).html(slider.pagerEl);}else{slider.controls.el.addClass('bx-has-pager').append(slider.pagerEl);}
populatePager();}else{slider.pagerEl=$(slider.settings.pagerCustom);}
slider.pagerEl.on('click','a',clickPagerBind);}
var appendControls=function(){slider.controls.next=$('<a class="bx-next" href="">'+slider.settings.nextText+'</a>');slider.controls.prev=$('<a class="bx-prev" href="">'+slider.settings.prevText+'</a>');slider.controls.next.bind('click',clickNextBind);slider.controls.prev.bind('click',clickPrevBind);if(slider.settings.nextSelector){$(slider.settings.nextSelector).append(slider.controls.next);}
if(slider.settings.prevSelector){$(slider.settings.prevSelector).append(slider.controls.prev);}
if(!slider.settings.nextSelector&&!slider.settings.prevSelector){slider.controls.directionEl=$('<div class="bx-controls-direction" />');slider.controls.directionEl.append(slider.controls.prev).append(slider.controls.next);slider.controls.el.addClass('bx-has-controls-direction').append(slider.controls.directionEl);}}
var appendControlsAuto=function(){slider.controls.start=$('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+slider.settings.startText+'</a></div>');slider.controls.stop=$('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+slider.settings.stopText+'</a></div>');slider.controls.autoEl=$('<div class="bx-controls-auto" />');slider.controls.autoEl.on('click','.bx-start',clickStartBind);slider.controls.autoEl.on('click','.bx-stop',clickStopBind);if(slider.settings.autoControlsCombine){slider.controls.autoEl.append(slider.controls.start);}else{slider.controls.autoEl.append(slider.controls.start).append(slider.controls.stop);}
if(slider.settings.autoControlsSelector){$(slider.settings.autoControlsSelector).html(slider.controls.autoEl);}else{slider.controls.el.addClass('bx-has-controls-auto').append(slider.controls.autoEl);}
updateAutoControls(slider.settings.autoStart?'stop':'start');}
var appendCaptions=function(){slider.children.each(function(index){var title=$(this).find('img:first').attr('title');if(title!=undefined&&(''+title).length){$(this).append('<div class="bx-caption"><span>'+title+'</span></div>');}});}
var clickNextBind=function(e){if(slider.settings.auto)el.stopAuto();el.goToNextSlide();e.preventDefault();}
var clickPrevBind=function(e){if(slider.settings.auto)el.stopAuto();el.goToPrevSlide();e.preventDefault();}
var clickStartBind=function(e){el.startAuto();e.preventDefault();}
var clickStopBind=function(e){el.stopAuto();e.preventDefault();}
var clickPagerBind=function(e){if(slider.settings.auto)el.stopAuto();var pagerLink=$(e.currentTarget);if(pagerLink.attr('data-slide-index')!==undefined){var pagerIndex=parseInt(pagerLink.attr('data-slide-index'));if(pagerIndex!=slider.active.index)el.goToSlide(pagerIndex);e.preventDefault();}}
var updatePagerActive=function(slideIndex){var len=slider.children.length;if(slider.settings.pagerType=='short'){if(slider.settings.maxSlides>1){len=Math.ceil(slider.children.length/slider.settings.maxSlides);}
slider.pagerEl.html((slideIndex+1)+slider.settings.pagerShortSeparator+len);return;}
slider.pagerEl.find('a').removeClass('active');slider.pagerEl.each(function(i,el){$(el).find('a').eq(slideIndex).addClass('active');});}
var updateAfterSlideTransition=function(){if(slider.settings.infiniteLoop){var position='';if(slider.active.index==0){position=slider.children.eq(0).position();}else if(slider.active.index==getPagerQty()-1&&slider.carousel){position=slider.children.eq((getPagerQty()-1)*getMoveBy()).position();}else if(slider.active.index==slider.children.length-1){position=slider.children.eq(slider.children.length-1).position();}
if(position){if(slider.settings.mode=='horizontal'){setPositionProperty(-position.left,'reset',0);}
else if(slider.settings.mode=='vertical'){setPositionProperty(-position.top,'reset',0);}}}
slider.working=false;slider.settings.onSlideAfter(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}
var updateAutoControls=function(state){if(slider.settings.autoControlsCombine){slider.controls.autoEl.html(slider.controls[state]);}else{slider.controls.autoEl.find('a').removeClass('active');slider.controls.autoEl.find('a:not(.bx-'+state+')').addClass('active');}}
var updateDirectionControls=function(){if(getPagerQty()==1){slider.controls.prev.addClass('disabled');slider.controls.next.addClass('disabled');}else if(!slider.settings.infiniteLoop&&slider.settings.hideControlOnEnd){if(slider.active.index==0){slider.controls.prev.addClass('disabled');slider.controls.next.removeClass('disabled');}else if(slider.active.index==getPagerQty()-1){slider.controls.next.addClass('disabled');slider.controls.prev.removeClass('disabled');}else{slider.controls.prev.removeClass('disabled');slider.controls.next.removeClass('disabled');}}}
var initAuto=function(){if(slider.settings.autoDelay>0){var timeout=setTimeout(el.startAuto,slider.settings.autoDelay);}else{el.startAuto();}
if(slider.settings.autoHover){el.hover(function(){if(slider.interval){el.stopAuto(true);slider.autoPaused=true;}},function(){if(slider.autoPaused){el.startAuto(true);slider.autoPaused=null;}});}}
var initTicker=function(){var startPosition=0;if(slider.settings.autoDirection=='next'){el.append(slider.children.clone().addClass('bx-clone'));}else{el.prepend(slider.children.clone().addClass('bx-clone'));var position=slider.children.first().position();startPosition=slider.settings.mode=='horizontal'?-position.left:-position.top;}
setPositionProperty(startPosition,'reset',0);slider.settings.pager=false;slider.settings.controls=false;slider.settings.autoControls=false;if(slider.settings.tickerHover&&!slider.usingCSS){slider.viewport.hover(function(){el.stop();},function(){var totalDimens=0;slider.children.each(function(index){totalDimens+=slider.settings.mode=='horizontal'?$(this).outerWidth(true):$(this).outerHeight(true);});var ratio=slider.settings.speed/totalDimens;var property=slider.settings.mode=='horizontal'?'left':'top';var newSpeed=ratio*(totalDimens-(Math.abs(parseInt(el.css(property)))));tickerLoop(newSpeed);});}
tickerLoop();}
var tickerLoop=function(resumeSpeed){speed=resumeSpeed?resumeSpeed:slider.settings.speed;var position={left:0,top:0};var reset={left:0,top:0};if(slider.settings.autoDirection=='next'){position=el.find('.bx-clone').first().position();}else{reset=slider.children.first().position();}
var animateProperty=slider.settings.mode=='horizontal'?-position.left:-position.top;var resetValue=slider.settings.mode=='horizontal'?-reset.left:-reset.top;var params={resetValue:resetValue};setPositionProperty(animateProperty,'ticker',speed,params);}
var initTouch=function(){slider.touch={start:{x:0,y:0},end:{x:0,y:0}}
slider.viewport.bind('touchstart',onTouchStart);}
var onTouchStart=function(e){if(slider.working){e.preventDefault();}else{slider.touch.originalPos=el.position();var orig=e.originalEvent;slider.touch.start.x=orig.changedTouches[0].pageX;slider.touch.start.y=orig.changedTouches[0].pageY;slider.viewport.bind('touchmove',onTouchMove);slider.viewport.bind('touchend',onTouchEnd);}}
var onTouchMove=function(e){var orig=e.originalEvent;var xMovement=Math.abs(orig.changedTouches[0].pageX-slider.touch.start.x);var yMovement=Math.abs(orig.changedTouches[0].pageY-slider.touch.start.y);if((xMovement*3)>yMovement&&slider.settings.preventDefaultSwipeX){e.preventDefault();}else if((yMovement*3)>xMovement&&slider.settings.preventDefaultSwipeY){e.preventDefault();}
if(slider.settings.mode!='fade'&&slider.settings.oneToOneTouch){var value=0;if(slider.settings.mode=='horizontal'){var change=orig.changedTouches[0].pageX-slider.touch.start.x;value=slider.touch.originalPos.left+change;}else{var change=orig.changedTouches[0].pageY-slider.touch.start.y;value=slider.touch.originalPos.top+change;}
setPositionProperty(value,'reset',0);}}
var onTouchEnd=function(e){slider.viewport.unbind('touchmove',onTouchMove);var orig=e.originalEvent;var value=0;slider.touch.end.x=orig.changedTouches[0].pageX;slider.touch.end.y=orig.changedTouches[0].pageY;if(slider.settings.mode=='fade'){var distance=Math.abs(slider.touch.start.x-slider.touch.end.x);if(distance>=slider.settings.swipeThreshold){slider.touch.start.x>slider.touch.end.x?el.goToNextSlide():el.goToPrevSlide();el.stopAuto();}}else{var distance=0;if(slider.settings.mode=='horizontal'){distance=slider.touch.end.x-slider.touch.start.x;value=slider.touch.originalPos.left;}else{distance=slider.touch.end.y-slider.touch.start.y;value=slider.touch.originalPos.top;}
if(!slider.settings.infiniteLoop&&((slider.active.index==0&&distance>0)||(slider.active.last&&distance<0))){setPositionProperty(value,'reset',200);}else{if(Math.abs(distance)>=slider.settings.swipeThreshold){distance<0?el.goToNextSlide():el.goToPrevSlide();el.stopAuto();}else{setPositionProperty(value,'reset',200);}}}
slider.viewport.unbind('touchend',onTouchEnd);}
var resizeWindow=function(e){if(!slider.initialized)return;var windowWidthNew=$(window).width();var windowHeightNew=$(window).height();if(windowWidth!=windowWidthNew||windowHeight!=windowHeightNew){windowWidth=windowWidthNew;windowHeight=windowHeightNew;el.redrawSlider();slider.settings.onSliderResize.call(el,slider.active.index);}}
el.goToSlide=function(slideIndex,direction){if(slider.working||slider.active.index==slideIndex)return;slider.working=true;slider.oldIndex=slider.active.index;if(slideIndex<0){slider.active.index=getPagerQty()-1;}else if(slideIndex>=getPagerQty()){slider.active.index=0;}else{slider.active.index=slideIndex;}
slider.settings.onSlideBefore(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);if(direction=='next'){slider.settings.onSlideNext(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}else if(direction=='prev'){slider.settings.onSlidePrev(slider.children.eq(slider.active.index),slider.oldIndex,slider.active.index);}
slider.active.last=slider.active.index>=getPagerQty()-1;if(slider.settings.pager)updatePagerActive(slider.active.index);if(slider.settings.controls)updateDirectionControls();if(slider.settings.mode=='fade'){if(slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()){slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);}
slider.children.filter(':visible').fadeOut(slider.settings.speed).css({zIndex:0});slider.children.eq(slider.active.index).css('zIndex',slider.settings.slideZIndex+1).fadeIn(slider.settings.speed,function(){$(this).css('zIndex',slider.settings.slideZIndex);updateAfterSlideTransition();});}else{if(slider.settings.adaptiveHeight&&slider.viewport.height()!=getViewportHeight()){slider.viewport.animate({height:getViewportHeight()},slider.settings.adaptiveHeightSpeed);}
var moveBy=0;var position={left:0,top:0};if(!slider.settings.infiniteLoop&&slider.carousel&&slider.active.last){if(slider.settings.mode=='horizontal'){var lastChild=slider.children.eq(slider.children.length-1);position=lastChild.position();moveBy=slider.viewport.width()-lastChild.outerWidth();}else{var lastShowingIndex=slider.children.length-slider.settings.minSlides;position=slider.children.eq(lastShowingIndex).position();}}else if(slider.carousel&&slider.active.last&&direction=='prev'){var eq=slider.settings.moveSlides==1?slider.settings.maxSlides-getMoveBy():((getPagerQty()-1)*getMoveBy())-(slider.children.length-slider.settings.maxSlides);var lastChild=el.children('.bx-clone').eq(eq);position=lastChild.position();}else if(direction=='next'&&slider.active.index==0){position=el.find('> .bx-clone').eq(slider.settings.maxSlides).position();slider.active.last=false;}else if(slideIndex>=0){var requestEl=slideIndex*getMoveBy();position=slider.children.eq(requestEl).position();}
if("undefined"!==typeof(position)){var value=slider.settings.mode=='horizontal'?-(position.left-moveBy):-position.top;setPositionProperty(value,'slide',slider.settings.speed);}}}
el.goToNextSlide=function(){if(!slider.settings.infiniteLoop&&slider.active.last)return;var pagerIndex=parseInt(slider.active.index)+1;el.goToSlide(pagerIndex,'next');}
el.goToPrevSlide=function(){if(!slider.settings.infiniteLoop&&slider.active.index==0)return;var pagerIndex=parseInt(slider.active.index)-1;el.goToSlide(pagerIndex,'prev');}
el.startAuto=function(preventControlUpdate){if(slider.interval)return;slider.interval=setInterval(function(){slider.settings.autoDirection=='next'?el.goToNextSlide():el.goToPrevSlide();},slider.settings.pause);if(slider.settings.autoControls&&preventControlUpdate!=true)updateAutoControls('stop');}
el.stopAuto=function(preventControlUpdate){if(!slider.interval)return;clearInterval(slider.interval);slider.interval=null;if(slider.settings.autoControls&&preventControlUpdate!=true)updateAutoControls('start');}
el.getCurrentSlide=function(){return slider.active.index;}
el.getCurrentSlideElement=function(){return slider.children.eq(slider.active.index);}
el.getSlideCount=function(){return slider.children.length;}
el.redrawSlider=function(){slider.children.add(el.find('.bx-clone')).width(getSlideWidth());slider.viewport.css('height',getViewportHeight());if(!slider.settings.ticker)setSlidePosition();if(slider.active.last)slider.active.index=getPagerQty()-1;if(slider.active.index>=getPagerQty())slider.active.last=true;if(slider.settings.pager&&!slider.settings.pagerCustom){populatePager();updatePagerActive(slider.active.index);}}
el.destroySlider=function(){if(!slider.initialized)return;slider.initialized=false;$('.bx-clone',this).remove();slider.children.each(function(){$(this).data("origStyle")!=undefined?$(this).attr("style",$(this).data("origStyle")):$(this).removeAttr('style');});$(this).data("origStyle")!=undefined?this.attr("style",$(this).data("origStyle")):$(this).removeAttr('style');$(this).unwrap().unwrap();if(slider.controls.el)slider.controls.el.remove();if(slider.controls.next)slider.controls.next.remove();if(slider.controls.prev)slider.controls.prev.remove();if(slider.pagerEl&&slider.settings.controls)slider.pagerEl.remove();$('.bx-caption',this).remove();if(slider.controls.autoEl)slider.controls.autoEl.remove();clearInterval(slider.interval);if(slider.settings.responsive)$(window).unbind('resize',resizeWindow);}
el.reloadSlider=function(settings){if(settings!=undefined)options=settings;el.destroySlider();init();}
init();return this;}})(jQuery);
;
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&Q(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",G(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",G(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&Q(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){o.data(a);N.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),N.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),$(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+n.langDir+"' /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=oe(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' "+r+" />","<a href='#' class='"+d[14]+"' "+r+" />","<a href='#' class='"+d[15]+"' "+r+" />","<a href='#' class='"+d[16]+"' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(Q(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),G(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),G(t,"_resetX")}},T=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0}},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),$(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),$(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),$(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e,t,a,n){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===f[1])var i="x",s=(o[0].offsetLeft-t+n)*l.scrollRatio.x;else var i="y",s=(o[0].offsetTop-e+a)*l.scrollRatio.y;G(r,s.toString(),{dir:i,drag:!0})}var o,n,i,r=e(this),l=r.data(a),d=l.opt,u=a+"_"+l.idx,f=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],h=e("#mCSB_"+l.idx+"_container"),m=e("#"+f[0]+",#"+f[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind("contextmenu."+u,function(e){e.preventDefault()}).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),L.call(h,!1),Q(r),o=e(this);var a=o.offset(),l=O(t)[0]-a.top,u=O(t)[1]-a.left,f=o.height()+a.top,m=o.width()+a.left;f>l&&l>0&&m>u&&u>0&&(n=l,i=u),C(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+u,function(e){e.stopImmediatePropagation(),e.preventDefault();var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;t(n,i,r,l)}),e(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,function(e){if(o){var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;if(n===r&&i===l)return;t(n,i,r,l)}}).add(p).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,function(){o&&(C(o,"active",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),L.call(h,!0)})},D=function(){function o(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}function n(e){if(te(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),W.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-(i*B.scrollRatio.y)&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-(l*B.scrollRatio.x)&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],R,n,"y","all",!0),B.overflowed[1]&&s(w[1],R,n,"x",L,!0)}}function i(e){if(!te(e)||c||O(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),Q(y),p=K();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],W=[]}function r(e){if(te(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-p);var n="mcsEaseOut",i=2.5>_,r=i?[E[E.length-2],W[W.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&G(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],W=[],R=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;I.bind(H[0],function(e){o(e)}).bind(H[1],function(e){n(e)}),M.bind(H[0],function(e){i(e)}).bind(H[2],function(e){r(e)}),P.length&&P.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],function(e){o(e),i(e)}).bind(H[1],function(e){n(e)}).bind(H[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,j(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u+" dragend."+u,function(){t||(i&&(i=0,n("off",null)),c=!1)})},W=function(){function t(t,a){if(Q(o),!z(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===i.mouseWheel.axis?t.deltaY||a:t.deltaX;else var u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),G(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)})}},R=new Object,A=function(t){var o=!1,a=!1,n=null;if(void 0===t?a="#empty":void 0!==e(t).attr("id")&&(a=e(t).attr("id")),a!==!1&&void 0!==R[a])return R[a];if(t){try{var i=t.contentDocument||t.contentWindow.document;n=i.body.innerHTML}catch(r){}o=null!==n}else{try{var i=top.document;n=i.body.innerHTML}catch(r){}o=null!==n}return a!==!1&&(R[a]=o),o},L=function(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},z=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},P=function(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent(),s=e(".mCSB_"+n.idx+"_scrollbar ."+d[12]);s.bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,function(){c=!1}).bind("click."+i,function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){Q(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!n.overflowed[0])return;var c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}G(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var o=e(document.activeElement),a=r.find(".mCustomScrollBox").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ae(o)[0],ae(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i}),"y"===n.axis||s[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i})},t[0]._focusTimer))})},U=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},F=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,j(t,e,o)}if(a.preventDefault(),ee(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},q=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||j(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Q(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else var h="y",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).bind("load",function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},j=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*(d[1]*n):s[0]+f.dir[1]*(d[0]*n),v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",w=!!e;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),G(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),$(f,"step"),Q(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],Q(t),oe(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},X=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?ae(m)[1]:ae(m)[0];case"string":case"number":if(oe(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&oe(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?ae(m)[1]:ae(m)[0]}return e(t).length?"x"===o?ae(e(t))[1]:ae(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},N=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each(function(){n(this)}))},c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){
return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))return void r();var n=new Image;n.onload=o(n,a),n.src=t.src}function i(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void $(f[0],"autoUpdate")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},Q=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){Z.call(this)})},G=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":var x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),J(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),!s.tweenRunning&&(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0])||J(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")},e)}}})}},J=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=K()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},$=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ae=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind("load",function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+ae(n)[0]>=0&&a[0]+ae(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ae(n)[1]>=0&&a[1]+ae(n)[1]<o.width()-n.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,o,a){var n,i,r,l,s=e(t),c=s.parents(".mCSB_container"),d="exact"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ae(s)[0],c[0].offsetLeft+ae(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[n[0]<i[0]?d[0]:d[1],n[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+n[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+n[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});
;(function($){var useWindow=window;if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object');}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}
return result;};}());}
var limited_mode=false;var tick_duration=200;var debug=(location.hash==="#debug");function debug_log(msg){if(debug){console.log(msg);}}
var allUnits=["Days","Hours","Minutes","Seconds"];var nextUnits={Seconds:"Minutes",Minutes:"Hours",Hours:"Days",Days:"Years"};var secondsIn={Seconds:1,Minutes:60,Hours:3600,Days:86400,Months:2678400,Years:31536000};function hexToRgb(hex){var shorthandRegex=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;hex=hex.replace(shorthandRegex,function(m,r,g,b){return r+r+g+g+b+b;});var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null;}
function isCanvasSupported(){var elem=document.createElement('canvas');return!!(elem.getContext&&elem.getContext('2d'));}
function s4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}
function guid(){return s4()+s4()+'-'+s4()+'-'+s4()+'-'+
s4()+'-'+s4()+s4()+s4();}
if(!Array.prototype.indexOf)
{Array.prototype.indexOf=function(elt)
{var len=this.length>>>0;var from=Number(arguments[1])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0)
from+=len;for(;from<len;from++)
{if(from in this&&this[from]===elt)
return from;}
return-1;};}
function parse_date(str){var match=str.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s[0-9]{1,2}:[0-9]{2}:[0-9]{2}$/);if(match!==null&&match.length>0){var parts=str.split(" ");var date=parts[0].split("-");var time=parts[1].split(":");return new Date(date[0],date[1]-1,date[2],time[0],time[1],time[2]);}
var d=Date.parse(str);if(!isNaN(d))
return d;d=Date.parse(str.replace(/-/g,'/').replace('T',' '));if(!isNaN(d))
return d;return new Date();}
function parse_times(diff,old_diff,total_duration,units,floor){var raw_time={};var raw_old_time={};var time={};var pct={};var old_pct={};var old_time={};var greater_unit=null;for(var i=0;i<units.length;i++){var unit=units[i];var maxUnits;if(greater_unit===null){maxUnits=total_duration/secondsIn[unit];}
else{maxUnits=secondsIn[greater_unit]/secondsIn[unit];}
var curUnits=(diff/secondsIn[unit]);var oldUnits=(old_diff/secondsIn[unit]);if(floor){if(curUnits>0)curUnits=Math.floor(curUnits);else curUnits=Math.ceil(curUnits);if(oldUnits>0)oldUnits=Math.floor(oldUnits);else oldUnits=Math.ceil(oldUnits);}
if(unit!=="Days"){curUnits=curUnits%maxUnits;oldUnits=oldUnits%maxUnits;}
raw_time[unit]=curUnits;time[unit]=Math.abs(curUnits);raw_old_time[unit]=oldUnits;old_time[unit]=Math.abs(oldUnits);pct[unit]=Math.abs(curUnits)/maxUnits;old_pct[unit]=Math.abs(oldUnits)/maxUnits;greater_unit=unit;}
return{raw_time:raw_time,raw_old_time:raw_old_time,time:time,old_time:old_time,pct:pct,old_pct:old_pct};}
var TC_Instance_List={};function updateInstanceList(){if(typeof useWindow.TC_Instance_List!=="undefined"){TC_Instance_List=useWindow.TC_Instance_List;}
else{useWindow.TC_Instance_List=TC_Instance_List;}};(function(){var vendors=['webkit','moz'];for(var x=0;x<vendors.length&&!window.top.requestAnimationFrame;++x){window.top.requestAnimationFrame=window.top[vendors[x]+'RequestAnimationFrame'];window.top.cancelAnimationFrame=window.top[vendors[x]+'CancelAnimationFrame'];}
if(!window.top.requestAnimationFrame||!window.top.cancelAnimationFrame){window.top.requestAnimationFrame=function(callback,element,instance){if(typeof instance==="undefined")
instance={data:{last_frame:0}};var currTime=new Date().getTime();var timeToCall=Math.max(0,16-(currTime-instance.data.last_frame));var id=window.top.setTimeout(function(){callback(currTime+timeToCall);},timeToCall);instance.data.last_frame=currTime+timeToCall;return id;};window.top.cancelAnimationFrame=function(id){clearTimeout(id);};}})();var TC_Instance=function(element,options){this.element=element;this.container;this.listeners=null;this.data={paused:false,last_frame:0,animation_frame:null,interval_fallback:null,timer:false,total_duration:null,prev_time:null,drawn_units:[],text_elements:{Days:null,Hours:null,Minutes:null,Seconds:null},attributes:{canvas:null,context:null,item_size:null,line_width:null,radius:null,outer_radius:null},state:{fading:{Days:false,Hours:false,Minutes:false,Seconds:false}}};this.config=null;this.setOptions(options);this.initialize();};TC_Instance.prototype.clearListeners=function(){this.listeners={all:[],visible:[]};};TC_Instance.prototype.addTime=function(seconds_to_add){if(this.data.attributes.ref_date instanceof Date){var d=this.data.attributes.ref_date;d.setSeconds(d.getSeconds()+seconds_to_add);}
else if(!isNaN(this.data.attributes.ref_date)){this.data.attributes.ref_date+=(seconds_to_add*1000);}};TC_Instance.prototype.initialize=function(clear_listeners){this.data.drawn_units=[];for(var i=0;i<Object.keys(this.config.time).length;i++){var unit=Object.keys(this.config.time)[i];if(this.config.time[unit].show){this.data.drawn_units.push(unit);}}
$(this.element).children('div.time_circles').remove();if(typeof clear_listeners==="undefined")
clear_listeners=true;if(clear_listeners||this.listeners===null){this.clearListeners();}
this.container=$("<div>");this.container.addClass('time_circles');this.container.appendTo(this.element);var height=this.element.offsetHeight;var width=this.element.offsetWidth;if(height===0)
height=$(this.element).height();if(width===0)
width=$(this.element).width();if(height===0&&width>0)
height=width/this.data.drawn_units.length;else if(width===0&&height>0)
width=height*this.data.drawn_units.length;var canvasElement=document.createElement('canvas');canvasElement.width=width;canvasElement.height=height;this.data.attributes.canvas=$(canvasElement);this.data.attributes.canvas.appendTo(this.container);var canvasSupported=isCanvasSupported();if(!canvasSupported&&typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(canvasElement);limited_mode=true;canvasSupported=true;}
if(canvasSupported){this.data.attributes.context=canvasElement.getContext('2d');}
this.data.attributes.item_size=Math.min(width/this.data.drawn_units.length,height);this.data.attributes.line_width=this.data.attributes.item_size*this.config.fg_width;this.data.attributes.radius=((this.data.attributes.item_size*0.8)-this.data.attributes.line_width)/2;this.data.attributes.outer_radius=this.data.attributes.radius+0.5*Math.max(this.data.attributes.line_width,this.data.attributes.line_width*this.config.bg_width);var i=0;for(var key in this.data.text_elements){if(!this.config.time[key].show)
continue;var textElement=$("<div>");textElement.addClass('textDiv_'+key);textElement.css("top",Math.round(0.35*this.data.attributes.item_size));textElement.css("left",Math.round(i++*this.data.attributes.item_size));textElement.css("width",this.data.attributes.item_size);textElement.appendTo(this.container);var headerElement=$("<h4>");headerElement.text(this.config.time[key].text);headerElement.css("font-size",Math.round(this.config.text_size*this.data.attributes.item_size));headerElement.css("line-height",Math.round(this.config.text_size*this.data.attributes.item_size)+"px");headerElement.appendTo(textElement);var numberElement=$("<span>");numberElement.css("font-size",Math.round(3*this.config.text_size*this.data.attributes.item_size));numberElement.css("line-height",Math.round(this.config.text_size*this.data.attributes.item_size)+"px");numberElement.appendTo(textElement);this.data.text_elements[key]=numberElement;}
this.start();if(!this.config.start){this.data.paused=true;}
var _this=this
this.data.interval_fallback=useWindow.setInterval(function(){_this.update.call(_this,true);},1000);};TC_Instance.prototype.update=function(nodraw){if(typeof nodraw==="undefined"){nodraw=false;}
else if(nodraw&&this.data.paused){return;}
if(limited_mode){this.data.attributes.context.clearRect(0,0,this.data.attributes.canvas[0].width,this.data.attributes.canvas[0].hright);}
var diff,old_diff;var prevDate=this.data.prev_time;var curDate=new Date();this.data.prev_time=curDate;if(prevDate===null)
prevDate=curDate;if(!this.config.count_past_zero){if(curDate>this.data.attributes.ref_date){for(var i=0;i<this.data.drawn_units.length;i++){var key=this.data.drawn_units[i];this.data.text_elements[key].text("0");var x=(i*this.data.attributes.item_size)+(this.data.attributes.item_size/2);var y=this.data.attributes.item_size/2;var color=this.config.time[key].color;this.drawArc(x,y,color,0);}
this.stop();return;}}
diff=(this.data.attributes.ref_date-curDate)/1000;old_diff=(this.data.attributes.ref_date-prevDate)/1000;var floor=this.config.animation!=="smooth";var visible_times=parse_times(diff,old_diff,this.data.total_duration,this.data.drawn_units,floor);var all_times=parse_times(diff,old_diff,secondsIn["Years"],allUnits,floor);var i=0;var j=0;var lastKey=null;var cur_shown=this.data.drawn_units.slice();for(var i in allUnits){var key=allUnits[i];if(Math.floor(all_times.raw_time[key])!==Math.floor(all_times.raw_old_time[key])){this.notifyListeners(key,Math.floor(all_times.time[key]),Math.floor(diff),"all");}
if(cur_shown.indexOf(key)<0)
continue;if(Math.floor(visible_times.raw_time[key])!==Math.floor(visible_times.raw_old_time[key])){this.notifyListeners(key,Math.floor(visible_times.time[key]),Math.floor(diff),"visible");}
if(!nodraw){this.data.text_elements[key].text(Math.floor(Math.abs(visible_times.time[key])));var x=(j*this.data.attributes.item_size)+(this.data.attributes.item_size/2);var y=this.data.attributes.item_size/2;var color=this.config.time[key].color;if(this.config.animation==="smooth"){if(lastKey!==null&&!limited_mode){if(Math.floor(visible_times.time[lastKey])>Math.floor(visible_times.old_time[lastKey])){this.radialFade(x,y,color,1,key);this.data.state.fading[key]=true;}
else if(Math.floor(visible_times.time[lastKey])<Math.floor(visible_times.old_time[lastKey])){this.radialFade(x,y,color,0,key);this.data.state.fading[key]=true;}}
if(!this.data.state.fading[key]){this.drawArc(x,y,color,visible_times.pct[key]);}}
else{this.animateArc(x,y,color,visible_times.pct[key],visible_times.old_pct[key],(new Date()).getTime()+tick_duration);}}
lastKey=key;j++;}
if(this.data.paused||nodraw){return;}
var _this=this;var update=function(){_this.update.call(_this);};if(this.config.animation==="smooth"){this.data.animation_frame=useWindow.requestAnimationFrame(update,_this.element,_this);}
else{var delay=(diff%1)*1000;if(delay<0)
delay=1000+delay;delay+=50;_this.data.animation_frame=useWindow.setTimeout(function(){_this.data.animation_frame=useWindow.requestAnimationFrame(update,_this.element,_this);},delay);}};TC_Instance.prototype.animateArc=function(x,y,color,target_pct,cur_pct,animation_end){if(this.data.attributes.context===null)
return;var diff=cur_pct-target_pct;if(Math.abs(diff)>0.5){if(target_pct===0){this.radialFade(x,y,color,1);}
else{this.radialFade(x,y,color,0);}}
else{var progress=(tick_duration-(animation_end-(new Date()).getTime()))/tick_duration;if(progress>1)
progress=1;var pct=(cur_pct*(1-progress))+(target_pct*progress);this.drawArc(x,y,color,pct);if(progress>=1)
return;var _this=this;useWindow.requestAnimationFrame(function(){_this.animateArc(x,y,color,target_pct,cur_pct,animation_end);},this.element);}};TC_Instance.prototype.drawArc=function(x,y,color,pct){if(this.data.attributes.context===null)
return;var clear_radius=Math.max(this.data.attributes.outer_radius,this.data.attributes.item_size/2);if(!limited_mode){this.data.attributes.context.clearRect(x-clear_radius,y-clear_radius,clear_radius*2,clear_radius*2);}
if(this.config.use_background){this.data.attributes.context.beginPath();this.data.attributes.context.arc(x,y,this.data.attributes.radius,0,2*Math.PI,false);this.data.attributes.context.lineWidth=this.data.attributes.line_width*this.config.bg_width;this.data.attributes.context.strokeStyle=this.config.circle_bg_color;this.data.attributes.context.stroke();}
var startAngle,endAngle,counterClockwise;var defaultOffset=(-0.5*Math.PI);var fullCircle=2*Math.PI;startAngle=defaultOffset+(this.config.start_angle/360*fullCircle);var offset=(2*pct*Math.PI);if(this.config.direction==="Both"){counterClockwise=false;startAngle-=(offset/2);endAngle=startAngle+offset;}
else{if(this.config.direction==="Clockwise"){counterClockwise=false;endAngle=startAngle+offset;}
else{counterClockwise=true;endAngle=startAngle-offset;}}
this.data.attributes.context.beginPath();this.data.attributes.context.arc(x,y,this.data.attributes.radius,startAngle,endAngle,counterClockwise);this.data.attributes.context.lineWidth=this.data.attributes.line_width;this.data.attributes.context.strokeStyle=color;this.data.attributes.context.stroke();};TC_Instance.prototype.radialFade=function(x,y,color,from,key){var rgb=hexToRgb(color);var _this=this;var step=0.2*((from===1)?-1:1);var i;for(i=0;from<=1&&from>=0;i++){(function(){var delay=50*i;var rgba="rgba("+rgb.r+", "+rgb.g+", "+rgb.b+", "+(Math.round(from*10)/10)+")";useWindow.setTimeout(function(){_this.drawArc(x,y,rgba,1);},delay);}());from+=step;}
if(typeof key!==undefined){useWindow.setTimeout(function(){_this.data.state.fading[key]=false;},50*i);}};TC_Instance.prototype.timeLeft=function(){var now=new Date();return((this.data.attributes.ref_date-now)/1000);};TC_Instance.prototype.start=function(){useWindow.cancelAnimationFrame(this.data.animation_frame);useWindow.clearTimeout(this.data.animation_frame)
var attr_data_date=$(this.element).data('date');if(typeof attr_data_date==="undefined"){attr_data_date=$(this.element).attr('data-date');}
if(typeof attr_data_date==="string"){this.data.attributes.ref_date=parse_date(attr_data_date);}
else if(typeof this.data.timer==="number"){if(this.data.paused){this.data.attributes.ref_date=(new Date()).getTime()+(this.data.timer*1000);}}
else{var attr_data_timer=$(this.element).data('timer');if(typeof attr_data_timer==="undefined"){attr_data_timer=$(this.element).attr('data-timer');}
if(typeof attr_data_timer==="string"){attr_data_timer=parseFloat(attr_data_timer);}
if(typeof attr_data_timer==="number"){this.data.timer=attr_data_timer;this.data.attributes.ref_date=(new Date()).getTime()+(attr_data_timer*1000);}
else{this.data.attributes.ref_date=this.config.ref_date;}}
this.data.paused=false;this.update.call(this);};TC_Instance.prototype.restart=function(){this.data.timer=false;this.start();};TC_Instance.prototype.stop=function(){if(typeof this.data.timer==="number"){this.data.timer=this.timeLeft(this);}
this.data.paused=true;useWindow.cancelAnimationFrame(this.data.animation_frame);};TC_Instance.prototype.destroy=function(){this.clearListeners();this.stop();useWindow.clearInterval(this.data.interval_fallback);this.data.interval_fallback=null;this.container.remove();$(this.element).removeAttr('data-tc-id');$(this.element).removeData('tc-id');};TC_Instance.prototype.setOptions=function(options){if(this.config===null){this.default_options.ref_date=new Date();this.config=$.extend(true,{},this.default_options);}
$.extend(true,this.config,options);if(this.config.use_top_frame){useWindow=window.top;updateInstanceList();}
this.data.total_duration=this.config.total_duration;if(typeof this.data.total_duration==="string"){if(typeof secondsIn[this.data.total_duration]!=="undefined"){this.data.total_duration=secondsIn[this.data.total_duration];}
else if(this.data.total_duration==="Auto"){for(var i=0;i<Object.keys(this.config.time).length;i++){var unit=Object.keys(this.config.time)[i];if(this.config.time[unit].show){this.data.total_duration=secondsIn[nextUnits[unit]];break;}}}
else{this.data.total_duration=secondsIn["Years"];console.error("Valid values for TimeCircles config.total_duration are either numeric, or (string) Years, Months, Days, Hours, Minutes, Auto");}}};TC_Instance.prototype.addListener=function(f,context,type){if(typeof f!=="function")
return;if(typeof type==="undefined")
type="visible";this.listeners[type].push({func:f,scope:context});};TC_Instance.prototype.notifyListeners=function(unit,value,total,type){for(var i=0;i<this.listeners[type].length;i++){var listener=this.listeners[type][i];listener.func.apply(listener.scope,[unit,value,total]);}};TC_Instance.prototype.default_options={ref_date:new Date(),start:true,animation:"smooth",count_past_zero:true,circle_bg_color:"#60686F",use_background:true,fg_width:0.1,bg_width:1.2,text_size:0.07,total_duration:"Auto",direction:"Clockwise",use_top_frame:false,start_angle:0,time:{Days:{show:true,text:"Days",color:"#FC6"},Hours:{show:true,text:"Hours",color:"#9CF"},Minutes:{show:true,text:"Minutes",color:"#BFB"},Seconds:{show:true,text:"Seconds",color:"#F99"}}};var TC_Class=function(elements,options){this.elements=elements;this.options=options;this.foreach();};TC_Class.prototype.getInstance=function(element){var instance;var cur_id=$(element).data("tc-id");if(typeof cur_id==="undefined"){cur_id=guid();$(element).attr("data-tc-id",cur_id);}
if(typeof TC_Instance_List[cur_id]==="undefined"){var options=this.options;var element_options=$(element).data('options');if(typeof element_options==="string"){element_options=JSON.parse(element_options);}
if(typeof element_options==="object"){options=$.extend(true,{},this.options,element_options);}
instance=new TC_Instance(element,options);TC_Instance_List[cur_id]=instance;}
else{instance=TC_Instance_List[cur_id];if(typeof this.options!=="undefined"){instance.setOptions(this.options);}}
return instance;};TC_Class.prototype.addTime=function(seconds_to_add){this.foreach(function(instance){instance.addTime(seconds_to_add);});};TC_Class.prototype.foreach=function(callback){var _this=this;this.elements.each(function(){var instance=_this.getInstance(this);if(typeof callback==="function"){callback(instance);}});return this;};TC_Class.prototype.start=function(){this.foreach(function(instance){instance.start();});return this;};TC_Class.prototype.stop=function(){this.foreach(function(instance){instance.stop();});return this;};TC_Class.prototype.restart=function(){this.foreach(function(instance){instance.restart();});return this;};TC_Class.prototype.rebuild=function(){this.foreach(function(instance){instance.initialize(false);});return this;};TC_Class.prototype.getTime=function(){return this.getInstance(this.elements[0]).timeLeft();};TC_Class.prototype.addListener=function(f,type){if(typeof type==="undefined")
type="visible";var _this=this;this.foreach(function(instance){instance.addListener(f,_this.elements,type);});return this;};TC_Class.prototype.destroy=function(){this.foreach(function(instance){instance.destroy();});return this;};TC_Class.prototype.end=function(){return this.elements;};$.fn.TimeCircles=function(options){return new TC_Class(this,options);};}(jQuery));
;(function($){$.fn.downCount=function(options,callback){var settings=$.extend({date:null,offset:null},options);if(!settings.date){$.error('Date is not defined.');}
if(!Date.parse(settings.date)){$.error('Incorrect date format, it should look like this, 12/24/2012 12:00:00.');}
var container=this;var currentDate=function(){var date=new Date();var utc=date.getTime()+(date.getTimezoneOffset()*60000);var new_date=new Date(utc+(3600000*settings.offset))
return new_date;};function countdown(){var target_date=new Date(settings.date),current_date=currentDate();var difference=target_date-current_date;if(difference<0){clearInterval(interval);if(callback&&typeof callback==='function')callback();return;}
var _second=1000,_minute=_second*60,_hour=_minute*60,_day=_hour*24;var days=Math.floor(difference/_day),hours=Math.floor((difference%_day)/_hour),minutes=Math.floor((difference%_hour)/_minute),seconds=Math.floor((difference%_minute)/_second);days=(String(days).length>=2)?days:'0'+days;hours=(String(hours).length>=2)?hours:'0'+hours;minutes=(String(minutes).length>=2)?minutes:'0'+minutes;seconds=(String(seconds).length>=2)?seconds:'0'+seconds;container.find('.days').text(days);container.find('.hours').text(hours);container.find('.minutes').text(minutes);container.find('.seconds').text(seconds);};var interval=setInterval(countdown,1000);};})(jQuery);
;(function($){$.prettyPhoto={version:'3.1.6'};$.fn.prettyPhoto=function(pp_settings){pp_settings=jQuery.extend({hook:'rel',animation_speed:'fast',ajaxcallback:function(){},slideshow:5000,autoplay_slideshow:false,opacity:0.80,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:244,counter_separator_label:'/',theme:'pp_default',horizontal_padding:20,hideflash:false,wmode:'opaque',autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder"> \
      <div class="ppt">&nbsp;</div> \
      <div class="pp_top"> \
       <div class="pp_left"></div> \
       <div class="pp_middle"></div> \
       <div class="pp_right"></div> \
      </div> \
      <div class="pp_content_container"> \
       <div class="pp_left"> \
       <div class="pp_right"> \
        <div class="pp_content"> \
         <div class="pp_loaderIcon"></div> \
         <div class="pp_fade"> \
          <a href="#" class="pp_expand" title="Expand the image">Expand</a> \
          <div class="pp_hoverContainer"> \
           <a class="pp_next" href="#">next</a> \
           <a class="pp_previous" href="#">previous</a> \
          </div> \
          <div id="pp_full_res"></div> \
          <div class="pp_details"> \
           <div class="pp_nav"> \
            <a href="#" class="pp_arrow_previous">Previous</a> \
            <p class="currentTextHolder">0/0</p> \
            <a href="#" class="pp_arrow_next">Next</a> \
           </div> \
           <p class="pp_description"></p> \
           <div class="pp_social">{pp_social}</div> \
           <a class="pp_close" href="#">Close</a> \
          </div> \
         </div> \
        </div> \
       </div> \
       </div> \
      </div> \
      <div class="pp_bottom"> \
       <div class="pp_left"></div> \
       <div class="pp_middle"></div> \
       <div class="pp_right"></div> \
      </div> \
     </div> \
     <div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> \
        <a href="#" class="pp_arrow_previous">Previous</a> \
        <div> \
         <ul> \
          {gallery} \
         </ul> \
        </div> \
        <a href="#" class="pp_arrow_next">Next</a> \
       </div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:'',social_tools:'<div class="twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},pp_settings);var matchedObjects=this,percentBased=false,pp_dimensions,pp_open,pp_contentHeight,pp_contentWidth,pp_containerHeight,pp_containerWidth,windowHeight=$(window).height(),windowWidth=$(window).width(),pp_slideshow;doresize=true,scroll_pos=_get_scroll();$(window).unbind('resize.prettyphoto').bind('resize.prettyphoto',function(){_center_overlay();_resize_overlay();});if(pp_settings.keyboard_shortcuts){$(document).unbind('keydown.prettyphoto').bind('keydown.prettyphoto',function(e){if(typeof $pp_pic_holder!='undefined'){if($pp_pic_holder.is(':visible')){switch(e.keyCode){case 37:$.prettyPhoto.changePage('previous');e.preventDefault();break;case 39:$.prettyPhoto.changePage('next');e.preventDefault();break;case 27:if(!settings.modal)
$.prettyPhoto.close();e.preventDefault();break;};};};});};$.prettyPhoto.initialize=function(){settings=pp_settings;if(settings.theme=='pp_default')settings.horizontal_padding=16;theRel=$(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;isSet=(galleryRegExp.exec(theRel))?true:false;pp_images=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr(settings.hook).indexOf(theRel)!=-1)return $(n).attr('href');}):$.makeArray($(this).attr('href'));pp_titles=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr(settings.hook).indexOf(theRel)!=-1)return($(n).find('img').attr('alt'))?$(n).find('img').attr('alt'):"";}):$.makeArray($(this).find('img').attr('alt'));pp_descriptions=(isSet)?jQuery.map(matchedObjects,function(n,i){if($(n).attr(settings.hook).indexOf(theRel)!=-1)return($(n).attr('title'))?$(n).attr('title'):"";}):$.makeArray($(this).attr('title'));if(pp_images.length>settings.overlay_gallery_max)settings.overlay_gallery=false;set_position=jQuery.inArray($(this).attr('href'),pp_images);rel_index=(isSet)?set_position:$("a["+settings.hook+"^='"+theRel+"']").index($(this));_build_overlay(this);if(settings.allow_resize)
$(window).bind('scroll.prettyphoto',function(){_center_overlay();});$.prettyPhoto.open();return false;}
$.prettyPhoto.open=function(event){if(typeof settings=="undefined"){settings=pp_settings;pp_images=$.makeArray(arguments[0]);pp_titles=(arguments[1])?$.makeArray(arguments[1]):$.makeArray("");pp_descriptions=(arguments[2])?$.makeArray(arguments[2]):$.makeArray("");isSet=(pp_images.length>1)?true:false;set_position=(arguments[3])?arguments[3]:0;_build_overlay(event.target);}
if(settings.hideflash)$('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','hidden');_checkPosition($(pp_images).size());$('.pp_loaderIcon').show();if(settings.deeplinking)
setHashtag();if(settings.social_tools){facebook_like_link=settings.social_tools.replace('{location_href}',encodeURIComponent(location.href));$pp_pic_holder.find('.pp_social').html(facebook_like_link);}
if($ppt.is(':hidden'))$ppt.css('opacity',0).show();$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find('.currentTextHolder').text((set_position+1)+settings.counter_separator_label+$(pp_images).size());if(typeof pp_descriptions[set_position]!='undefined'&&pp_descriptions[set_position]!=""){$pp_pic_holder.find('.pp_description').show().html(unescape(pp_descriptions[set_position]));}else{$pp_pic_holder.find('.pp_description').hide();}
movie_width=(parseFloat(getParam('width',pp_images[set_position])))?getParam('width',pp_images[set_position]):settings.default_width.toString();movie_height=(parseFloat(getParam('height',pp_images[set_position])))?getParam('height',pp_images[set_position]):settings.default_height.toString();percentBased=false;if(movie_height.indexOf('%')!=-1){movie_height=parseFloat(($(window).height()*parseFloat(movie_height)/100)-150);percentBased=true;}
if(movie_width.indexOf('%')!=-1){movie_width=parseFloat(($(window).width()*parseFloat(movie_width)/100)-150);percentBased=true;}
$pp_pic_holder.fadeIn(function(){(settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined")?$ppt.html(unescape(pp_titles[set_position])):$ppt.html('&nbsp;');imgPreloader="";skipInjection=false;switch(_getFileType(pp_images[set_position])){case'image':imgPreloader=new Image();nextImage=new Image();if(isSet&&set_position<$(pp_images).size()-1)nextImage.src=pp_images[set_position+1];prevImage=new Image();if(isSet&&pp_images[set_position-1])prevImage.src=pp_images[set_position-1];$pp_pic_holder.find('#pp_full_res')[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){pp_dimensions=_fitToViewport(imgPreloader.width,imgPreloader.height);_showContent();};imgPreloader.onerror=function(){alert('Image cannot be loaded. Make sure the path is correct and image exist.');$.prettyPhoto.close();};imgPreloader.src=pp_images[set_position];break;case'youtube':pp_dimensions=_fitToViewport(movie_width,movie_height);movie_id=getParam('v',pp_images[set_position]);if(movie_id==""){movie_id=pp_images[set_position].split('youtu.be/');movie_id=movie_id[1];if(movie_id.indexOf('?')>0)
movie_id=movie_id.substr(0,movie_id.indexOf('?'));if(movie_id.indexOf('&')>0)
movie_id=movie_id.substr(0,movie_id.indexOf('&'));}
movie='http://www.youtube.com/embed/'+movie_id;(getParam('rel',pp_images[set_position]))?movie+="?rel="+getParam('rel',pp_images[set_position]):movie+="?rel=1";if(settings.autoplay)movie+="&autoplay=1";toInject=settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case'vimeo':pp_dimensions=_fitToViewport(movie_width,movie_height);movie_id=pp_images[set_position];var regExp=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/;var match=movie_id.match(regExp);movie='http://player.vimeo.com/video/'+match[3]+'?title=0&amp;byline=0&amp;portrait=0';if(settings.autoplay)movie+="&autoplay=1;";vimeo_width=pp_dimensions['width']+'/embed/?moog_width='+pp_dimensions['width'];toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,movie);break;case'quicktime':pp_dimensions=_fitToViewport(movie_width,movie_height);pp_dimensions['height']+=15;pp_dimensions['contentHeight']+=15;pp_dimensions['containerHeight']+=15;toInject=settings.quicktime_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case'flash':pp_dimensions=_fitToViewport(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf('flashvars')+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf('?'));toInject=settings.flash_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+'?'+flash_vars);break;case'iframe':pp_dimensions=_fitToViewport(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf('iframe')-1);toInject=settings.iframe_markup.replace(/{width}/g,pp_dimensions['width']).replace(/{height}/g,pp_dimensions['height']).replace(/{path}/g,frame_url);break;case'ajax':doresize=false;pp_dimensions=_fitToViewport(movie_width,movie_height);doresize=true;skipInjection=true;$.get(pp_images[set_position],function(responseHTML){toInject=settings.inline_markup.replace(/{content}/g,responseHTML);$pp_pic_holder.find('#pp_full_res')[0].innerHTML=toInject;_showContent();});break;case'custom':pp_dimensions=_fitToViewport(movie_width,movie_height);toInject=settings.custom_markup;break;case'inline':myClone=$(pp_images[set_position]).clone().append('<br clear="all" />').css({'width':settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo($('body')).show();doresize=false;pp_dimensions=_fitToViewport($(myClone).width(),$(myClone).height());doresize=true;$(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,$(pp_images[set_position]).html());break;};if(!imgPreloader&&!skipInjection){$pp_pic_holder.find('#pp_full_res')[0].innerHTML=toInject;_showContent();};});return false;};$.prettyPhoto.changePage=function(direction){currentGalleryPage=0;if(direction=='previous'){set_position--;if(set_position<0)set_position=$(pp_images).size()-1;}else if(direction=='next'){set_position++;if(set_position>$(pp_images).size()-1)set_position=0;}else{set_position=direction;};rel_index=set_position;if(!doresize)doresize=true;if(settings.allow_expand){$('.pp_contract').removeClass('pp_contract').addClass('pp_expand');}
_hideContent(function(){$.prettyPhoto.open();});};$.prettyPhoto.changeGalleryPage=function(direction){if(direction=='next'){currentGalleryPage++;if(currentGalleryPage>totalPage)currentGalleryPage=0;}else if(direction=='previous'){currentGalleryPage--;if(currentGalleryPage<0)currentGalleryPage=totalPage;}else{currentGalleryPage=direction;};slide_speed=(direction=='next'||direction=='previous')?settings.animation_speed:0;slide_to=currentGalleryPage*(itemsPerPage*itemWidth);$pp_gallery.find('ul').animate({left:-slide_to},slide_speed);};$.prettyPhoto.startSlideshow=function(){if(typeof pp_slideshow=='undefined'){$pp_pic_holder.find('.pp_play').unbind('click').removeClass('pp_play').addClass('pp_pause').click(function(){$.prettyPhoto.stopSlideshow();return false;});pp_slideshow=setInterval($.prettyPhoto.startSlideshow,settings.slideshow);}else{$.prettyPhoto.changePage('next');};}
$.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find('.pp_pause').unbind('click').removeClass('pp_pause').addClass('pp_play').click(function(){$.prettyPhoto.startSlideshow();return false;});clearInterval(pp_slideshow);pp_slideshow=undefined;}
$.prettyPhoto.close=function(){if($pp_overlay.is(":animated"))return;$.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find('object,embed').css('visibility','hidden');$('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animation_speed,function(){$(this).remove();});$pp_overlay.fadeOut(settings.animation_speed,function(){if(settings.hideflash)$('object,embed,iframe[src*=youtube],iframe[src*=vimeo]').css('visibility','visible');$(this).remove();$(window).unbind('scroll.prettyphoto');clearHashtag();settings.callback();doresize=true;pp_open=false;delete settings;});};function _showContent(){$('.pp_loaderIcon').hide();projectedTop=scroll_pos['scrollTop']+((windowHeight/2)-(pp_dimensions['containerHeight']/2));if(projectedTop<0)projectedTop=0;$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find('.pp_content').animate({height:pp_dimensions['contentHeight'],width:pp_dimensions['contentWidth']},settings.animation_speed);$pp_pic_holder.animate({'top':projectedTop,'left':((windowWidth/2)-(pp_dimensions['containerWidth']/2)<0)?0:(windowWidth/2)-(pp_dimensions['containerWidth']/2),width:pp_dimensions['containerWidth']},settings.animation_speed,function(){$pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(pp_dimensions['height']).width(pp_dimensions['width']);$pp_pic_holder.find('.pp_fade').fadeIn(settings.animation_speed);if(isSet&&_getFileType(pp_images[set_position])=="image"){$pp_pic_holder.find('.pp_hoverContainer').show();}else{$pp_pic_holder.find('.pp_hoverContainer').hide();}
if(settings.allow_expand){if(pp_dimensions['resized']){$('a.pp_expand,a.pp_contract').show();}else{$('a.pp_expand').hide();}}
if(settings.autoplay_slideshow&&!pp_slideshow&&!pp_open)$.prettyPhoto.startSlideshow();settings.changepicturecallback();pp_open=true;});_insert_gallery();pp_settings.ajaxcallback();};function _hideContent(callback){$pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility','hidden');$pp_pic_holder.find('.pp_fade').fadeOut(settings.animation_speed,function(){$('.pp_loaderIcon').show();callback();});};function _checkPosition(setCount){(setCount>1)?$('.pp_nav').show():$('.pp_nav').hide();};function _fitToViewport(width,height){resized=false;_getDimensions(width,height);imageWidth=width,imageHeight=height;if(((pp_containerWidth>windowWidth)||(pp_containerHeight>windowHeight))&&doresize&&settings.allow_resize&&!percentBased){resized=true,fitting=false;while(!fitting){if((pp_containerWidth>windowWidth)){imageWidth=(windowWidth-200);imageHeight=(height/width)*imageWidth;}else if((pp_containerHeight>windowHeight)){imageHeight=(windowHeight-200);imageWidth=(width/height)*imageHeight;}else{fitting=true;};pp_containerHeight=imageHeight,pp_containerWidth=imageWidth;};if((pp_containerWidth>windowWidth)||(pp_containerHeight>windowHeight)){_fitToViewport(pp_containerWidth,pp_containerHeight)};_getDimensions(imageWidth,imageHeight);};return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(pp_containerHeight),containerWidth:Math.floor(pp_containerWidth)+(settings.horizontal_padding*2),contentHeight:Math.floor(pp_contentHeight),contentWidth:Math.floor(pp_contentWidth),resized:resized};};function _getDimensions(width,height){width=parseFloat(width);height=parseFloat(height);$pp_details=$pp_pic_holder.find('.pp_details');$pp_details.width(width);detailsHeight=parseFloat($pp_details.css('marginTop'))+parseFloat($pp_details.css('marginBottom'));$pp_details=$pp_details.clone().addClass(settings.theme).width(width).appendTo($('body')).css({'position':'absolute','top':-10000});detailsHeight+=$pp_details.height();detailsHeight=(detailsHeight<=34)?36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find('.ppt');$pp_title.width(width);titleHeight=parseFloat($pp_title.css('marginTop'))+parseFloat($pp_title.css('marginBottom'));$pp_title=$pp_title.clone().appendTo($('body')).css({'position':'absolute','top':-10000});titleHeight+=$pp_title.height();$pp_title.remove();pp_contentHeight=height+detailsHeight;pp_contentWidth=width;pp_containerHeight=pp_contentHeight+titleHeight+$pp_pic_holder.find('.pp_top').height()+$pp_pic_holder.find('.pp_bottom').height();pp_containerWidth=width;}
function _getFileType(itemSrc){if(itemSrc.match(/youtube\.com\/watch/i)||itemSrc.match(/youtu\.be/i)){return'youtube';}else if(itemSrc.match(/vimeo\.com/i)){return'vimeo';}else if(itemSrc.match(/\b.mov\b/i)){return'quicktime';}else if(itemSrc.match(/\b.swf\b/i)){return'flash';}else if(itemSrc.match(/\biframe=true\b/i)){return'iframe';}else if(itemSrc.match(/\bajax=true\b/i)){return'ajax';}else if(itemSrc.match(/\bcustom=true\b/i)){return'custom';}else if(itemSrc.substr(0,1)=='#'){return'inline';}else{return'image';};};function _center_overlay(){if(doresize&&typeof $pp_pic_holder!='undefined'){scroll_pos=_get_scroll();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=(windowHeight/2)+scroll_pos['scrollTop']-(contentHeight/2);if(projectedTop<0)projectedTop=0;if(contentHeight>windowHeight)
return;$pp_pic_holder.css({'top':projectedTop,'left':(windowWidth/2)+scroll_pos['scrollLeft']-(contentwidth/2)});};};function _get_scroll(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};}else if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};}else if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft};};};function _resize_overlay(){windowHeight=$(window).height(),windowWidth=$(window).width();if(typeof $pp_overlay!="undefined")$pp_overlay.height($(document).height()).width(windowWidth);};function _insert_gallery(){if(isSet&&settings.overlay_gallery&&_getFileType(pp_images[set_position])=="image"){itemWidth=52+5;navWidth=(settings.theme=="facebook"||settings.theme=="pp_default")?50:30;itemsPerPage=Math.floor((pp_dimensions['containerWidth']-100-navWidth)/itemWidth);itemsPerPage=(itemsPerPage<pp_images.length)?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').hide();}else{$pp_gallery.find('.pp_arrow_next,.pp_arrow_previous').show();};galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css('margin-left',-((galleryWidth/2)+(navWidth/2))).find('div:first').width(galleryWidth+5).find('ul').width(fullGalleryWidth).find('li.selected').removeClass('selected');goToPage=(Math.floor(set_position/itemsPerPage)<totalPage)?Math.floor(set_position/itemsPerPage):totalPage;$.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(':eq('+set_position+')').addClass('selected');}else{$pp_pic_holder.find('.pp_content').unbind('mouseenter mouseleave');}}
function _build_overlay(caller){if(settings.social_tools)
facebook_like_link=settings.social_tools.replace('{location_href}',encodeURIComponent(location.href));settings.markup=settings.markup.replace('{pp_social}','');$('body').append(settings.markup);$pp_pic_holder=$('.pp_pic_holder'),$ppt=$('.ppt'),$pp_overlay=$('div.pp_overlay');if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var i=0;i<pp_images.length;i++){if(!pp_images[i].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname='default';img_src='';}else{classname='';img_src=pp_images[i];}
toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>";};toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find('#pp_full_res').after(toInject);$pp_gallery=$('.pp_pic_holder .pp_gallery'),$pp_gallery_li=$pp_gallery.find('li');$pp_gallery.find('.pp_arrow_next').click(function(){$.prettyPhoto.changeGalleryPage('next');$.prettyPhoto.stopSlideshow();return false;});$pp_gallery.find('.pp_arrow_previous').click(function(){$.prettyPhoto.changeGalleryPage('previous');$.prettyPhoto.stopSlideshow();return false;});$pp_pic_holder.find('.pp_content').hover(function(){$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeIn();},function(){$pp_pic_holder.find('.pp_gallery:not(.disabled)').fadeOut();});itemWidth=52+5;$pp_gallery_li.each(function(i){$(this).find('a').click(function(){$.prettyPhoto.changePage(i);$.prettyPhoto.stopSlideshow();return false;});});};if(settings.slideshow){$pp_pic_holder.find('.pp_nav').prepend('<a href="#" class="pp_play">Play</a>')
$pp_pic_holder.find('.pp_nav .pp_play').click(function(){$.prettyPhoto.startSlideshow();return false;});}
$pp_pic_holder.attr('class','pp_pic_holder '+settings.theme);$pp_overlay.css({'opacity':0,'height':$(document).height(),'width':$(window).width()}).bind('click',function(){if(!settings.modal)$.prettyPhoto.close();});$('a.pp_close').bind('click',function(){$.prettyPhoto.close();return false;});if(settings.allow_expand){$('a.pp_expand').bind('click',function(e){if($(this).hasClass('pp_expand')){$(this).removeClass('pp_expand').addClass('pp_contract');doresize=false;}else{$(this).removeClass('pp_contract').addClass('pp_expand');doresize=true;};_hideContent(function(){$.prettyPhoto.open();});return false;});}
$pp_pic_holder.find('.pp_previous, .pp_nav .pp_arrow_previous').bind('click',function(){$.prettyPhoto.changePage('previous');$.prettyPhoto.stopSlideshow();return false;});$pp_pic_holder.find('.pp_next, .pp_nav .pp_arrow_next').bind('click',function(){$.prettyPhoto.changePage('next');$.prettyPhoto.stopSlideshow();return false;});_center_overlay();};if(!pp_alreadyInitialized&&getHashtag()){pp_alreadyInitialized=true;hashIndex=getHashtag();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf('/')+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf('/'));setTimeout(function(){$("a["+pp_settings.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger('click');},50);}
return this.unbind('click.prettyphoto').bind('click.prettyphoto',$.prettyPhoto.initialize);};function getHashtag(){var url=location.href;hashtag=(url.indexOf('#prettyPhoto')!==-1)?decodeURI(url.substring(url.indexOf('#prettyPhoto')+1,url.length)):false;if(hashtag){hashtag=hashtag.replace(/<|>/g,'');}
return hashtag;};function setHashtag(){if(typeof theRel=='undefined')return;location.hash=theRel+'/'+rel_index+'/';};function clearHashtag(){if(location.href.indexOf('#prettyPhoto')!==-1)location.hash="prettyPhoto";}
function getParam(name,url){name=name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");var regexS="[\\?&]"+name+"=([^&#]*)";var regex=new RegExp(regexS);var results=regex.exec(url);return(results==null)?"":results[1];}})(jQuery);var pp_alreadyInitialized=false;
;(function($){$.fn.ticker=function(options){var opts=$.extend({},$.fn.ticker.defaults,options);if($(this).length==0){if(window.console&&window.console.log){window.console.log('Element does not exist in DOM!');}
else{alert('Element does not exist in DOM!');}
return false;}
var newsID='#'+$(this).attr('id');var tagType=$(this).get(0).tagName;return this.each(function(){var uniqID=getUniqID();var settings={position:0,time:0,distance:0,newsArr:{},play:true,paused:false,contentLoaded:false,dom:{contentID:'#ticker-content-'+uniqID,titleID:'#ticker-title-'+uniqID,titleElem:'#ticker-title-'+uniqID+' SPAN',tickerID:'#ticker-'+uniqID,wrapperID:'#ticker-wrapper-'+uniqID,revealID:'#ticker-swipe-'+uniqID,revealElem:'#ticker-swipe-'+uniqID+' SPAN',controlsID:'#ticker-controls-'+uniqID,prevID:'#prev-'+uniqID,nextID:'#next-'+uniqID,playPauseID:'#play-pause-'+uniqID}};if(tagType!='UL'&&tagType!='OL'&&opts.htmlFeed===true){debugError('Cannot use <'+tagType.toLowerCase()+'> type of element for this plugin - must of type <ul> or <ol>');return false;}
opts.direction=='rtl'?opts.direction='right':opts.direction='left';initialisePage();function countSize(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key))size++;}
return size;};function getUniqID(){var newDate=new Date;return newDate.getTime();}
function debugError(obj){if(opts.debugMode){if(window.console&&window.console.log){window.console.log(obj);}
else{alert(obj);}}}
function initialisePage(){processContent();$(newsID).wrap('<div id="'+settings.dom.wrapperID.replace('#','')+'"></div>');$(settings.dom.wrapperID).children().remove();$(settings.dom.wrapperID).append('<div id="'+settings.dom.tickerID.replace('#','')+'" class="ticker"><div id="'+settings.dom.titleID.replace('#','')+'" class="ticker-title"><span><!-- --></span></div><p id="'+settings.dom.contentID.replace('#','')+'" class="ticker-content"></p><div id="'+settings.dom.revealID.replace('#','')+'" class="ticker-swipe"><span><!-- --></span></div></div>');$(settings.dom.wrapperID).removeClass('no-js').addClass('ticker-wrapper has-js '+opts.direction);$(settings.dom.tickerElem+','+settings.dom.contentID).hide();if(opts.controls){$(settings.dom.controlsID).live('click mouseover mousedown mouseout mouseup',function(e){var button=e.target.id;if(e.type=='click'){switch(button){case settings.dom.prevID.replace('#',''):settings.paused=true;$(settings.dom.playPauseID).addClass('paused');manualChangeContent('prev');break;case settings.dom.nextID.replace('#',''):settings.paused=true;$(settings.dom.playPauseID).addClass('paused');manualChangeContent('next');break;case settings.dom.playPauseID.replace('#',''):if(settings.play==true){settings.paused=true;$(settings.dom.playPauseID).addClass('paused');pauseTicker();}
else{settings.paused=false;$(settings.dom.playPauseID).removeClass('paused');restartTicker();}
break;}}
else if(e.type=='mouseover'&&$('#'+button).hasClass('controls')){$('#'+button).addClass('over');}
else if(e.type=='mousedown'&&$('#'+button).hasClass('controls')){$('#'+button).addClass('down');}
else if(e.type=='mouseup'&&$('#'+button).hasClass('controls')){$('#'+button).removeClass('down');}
else if(e.type=='mouseout'&&$('#'+button).hasClass('controls')){$('#'+button).removeClass('over');}});$(settings.dom.wrapperID).append('<ul id="'+settings.dom.controlsID.replace('#','')+'" class="ticker-controls"><li id="'+settings.dom.playPauseID.replace('#','')+'" class="jnt-play-pause controls"><a href=""><!-- --></a></li><li id="'+settings.dom.prevID.replace('#','')+'" class="jnt-prev controls"><a href=""><!-- --></a></li><li id="'+settings.dom.nextID.replace('#','')+'" class="jnt-next controls"><a href=""><!-- --></a></li></ul>');}
if(opts.displayType!='fade'){$(settings.dom.contentID).mouseover(function(){if(settings.paused==false){pauseTicker();}}).mouseout(function(){if(settings.paused==false){restartTicker();}});}
if(!opts.ajaxFeed){setupContentAndTriggerDisplay();}}
function processContent(){if(settings.contentLoaded==false){if(opts.ajaxFeed){if(opts.feedType=='xml'){$.ajax({url:opts.feedUrl,cache:false,dataType:opts.feedType,async:true,success:function(data){count=0;for(var a=0;a<data.childNodes.length;a++){if(data.childNodes[a].nodeName=='rss'){xmlContent=data.childNodes[a];}}
for(var i=0;i<xmlContent.childNodes.length;i++){if(xmlContent.childNodes[i].nodeName=='channel'){xmlChannel=xmlContent.childNodes[i];}}
for(var x=0;x<xmlChannel.childNodes.length;x++){if(xmlChannel.childNodes[x].nodeName=='item'){xmlItems=xmlChannel.childNodes[x];var title,link=false;for(var y=0;y<xmlItems.childNodes.length;y++){if(xmlItems.childNodes[y].nodeName=='title'){title=xmlItems.childNodes[y].lastChild.nodeValue;}
else if(xmlItems.childNodes[y].nodeName=='link'){link=xmlItems.childNodes[y].lastChild.nodeValue;}
if((title!==false&&title!='')&&link!==false){settings.newsArr['item-'+count]={type:opts.titleText,content:'<a href="'+link+'">'+title+'</a>'};count++;title=false;link=false;}}}}
if(countSize(settings.newsArr<1)){debugError('Couldn\'t find any content from the XML feed for the ticker to use!');return false;}
settings.contentLoaded=true;setupContentAndTriggerDisplay();}});}
else{debugError('Code Me!');}}
else if(opts.htmlFeed){if($(newsID+' LI').length>0){$(newsID+' LI').each(function(i){settings.newsArr['item-'+i]={type:opts.titleText,content:$(this).html()};});}
else{debugError('Couldn\'t find HTML any content for the ticker to use!');return false;}}
else{debugError('The ticker is set to not use any types of content! Check the settings for the ticker.');return false;}}}
function setupContentAndTriggerDisplay(){settings.contentLoaded=true;$(settings.dom.titleElem).html(settings.newsArr['item-'+settings.position].type);$(settings.dom.contentID).html(settings.newsArr['item-'+settings.position].content);if(settings.position==(countSize(settings.newsArr)-1)){settings.position=0;}
else{settings.position++;}
distance=$(settings.dom.contentID).width();time=distance/opts.speed;revealContent();}
function revealContent(){$(settings.dom.contentID).css('opacity','1');if(settings.play){var offset=$(settings.dom.titleID).width()+40;$(settings.dom.revealID).css(opts.direction,offset+'px');if(opts.displayType=='fade'){$(settings.dom.revealID).hide(0,function(){$(settings.dom.contentID).css(opts.direction,offset+'px').fadeIn(opts.fadeInSpeed,postReveal);});}
else if(opts.displayType=='scroll'){}
else{$(settings.dom.revealElem).show(0,function(){$(settings.dom.contentID).css(opts.direction,offset+'px').show();animationAction=opts.direction=='right'?{marginRight:distance+'px'}:{marginLeft:distance+'px'};$(settings.dom.revealID).css('margin-'+opts.direction,'0px').delay(20).animate(animationAction,time,'linear',postReveal);});}}
else{return false;}};function postReveal(){if(settings.play){$(settings.dom.contentID).delay(opts.pauseOnItems).fadeOut(opts.fadeOutSpeed);if(opts.displayType=='fade'){$(settings.dom.contentID).fadeOut(opts.fadeOutSpeed,function(){$(settings.dom.wrapperID).find(settings.dom.revealElem+','+settings.dom.contentID).hide().end().find(settings.dom.tickerID+','+settings.dom.revealID).show().end().find(settings.dom.tickerID+','+settings.dom.revealID).removeAttr('style');setupContentAndTriggerDisplay();});}
else{$(settings.dom.revealID).hide(0,function(){$(settings.dom.contentID).fadeOut(opts.fadeOutSpeed,function(){$(settings.dom.wrapperID).find(settings.dom.revealElem+','+settings.dom.contentID).hide().end().find(settings.dom.tickerID+','+settings.dom.revealID).show().end().find(settings.dom.tickerID+','+settings.dom.revealID).removeAttr('style');setupContentAndTriggerDisplay();});});}}
else{$(settings.dom.revealElem).hide();}}
function pauseTicker(){settings.play=false;$(settings.dom.tickerID+','+settings.dom.revealID+','+settings.dom.titleID+','+settings.dom.titleElem+','+settings.dom.revealElem+','+settings.dom.contentID).stop(true,true);$(settings.dom.revealID+','+settings.dom.revealElem).hide();$(settings.dom.wrapperID).find(settings.dom.titleID+','+settings.dom.titleElem).show().end().find(settings.dom.contentID).show();}
function restartTicker(){settings.play=true;settings.paused=false;postReveal();}
function manualChangeContent(direction){pauseTicker();switch(direction){case'prev':if(settings.position==0){settings.position=countSize(settings.newsArr)-2;}
else if(settings.position==1){settings.position=countSize(settings.newsArr)-1;}
else{settings.position=settings.position-2;}
$(settings.dom.titleElem).html(settings.newsArr['item-'+settings.position].type);$(settings.dom.contentID).html(settings.newsArr['item-'+settings.position].content);break;case'next':$(settings.dom.titleElem).html(settings.newsArr['item-'+settings.position].type);$(settings.dom.contentID).html(settings.newsArr['item-'+settings.position].content);break;}
if(settings.position==(countSize(settings.newsArr)-1)){settings.position=0;}
else{settings.position++;}}});};$.fn.ticker.defaults={speed:0.10,ajaxFeed:false,feedUrl:'',feedType:'xml',displayType:'reveal',htmlFeed:true,debugMode:true,controls:true,titleText:'Latest',direction:'ltr',pauseOnItems:3000,fadeInSpeed:600,fadeOutSpeed:300};})(jQuery);
;;
(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else{factory(jQuery);}}(function($){$.fn.addBack=$.fn.addBack||$.fn.andSelf;$.fn.extend({actual:function(method,options){if(!this[method]){throw'$.actual => The jQuery method "'+method+'" you called does not exist';}
var defaults={absolute:false,clone:false,includeMargin:false,display:'block'};var configs=$.extend(defaults,options);var $target=this.eq(0);var fix,restore;if(configs.clone===true){fix=function(){var style='position: absolute !important; top: -1000 !important; ';$target=$target.clone().attr('style',style).appendTo('body');};restore=function(){$target.remove();};}else{var tmp=[];var style='';var $hidden;fix=function(){$hidden=$target.parents().addBack().filter(':hidden');style+='visibility: hidden !important; display: '+configs.display+' !important; ';if(configs.absolute===true)style+='position: absolute !important; ';$hidden.each(function(){var $this=$(this);var thisStyle=$this.attr('style');tmp.push(thisStyle);$this.attr('style',thisStyle?thisStyle+';'+style:style);});};restore=function(){$hidden.each(function(i){var $this=$(this);var _tmp=tmp[i];if(_tmp===undefined){$this.removeAttr('style');}else{$this.attr('style',_tmp);}});};}
fix();var actual=/(outer)/.test(method)?$target[method](configs.includeMargin):$target[method]();restore();return actual;}});}));
;(function($){$(function(){var wooenabled=edn_pro_script_variable.iswooenabled;var apexnb_ajax_url=edn_pro_script_variable.ajax_url;var apexnb_ajax_nonce=edn_pro_script_variable.ajax_nonce;$(".apexnb-video-btn").each(function(){var speed=$(this).data('speed');var autoplay=$(this).data('autoplay');var popuptheme=$(this).data('popuptheme');var width=$(this).data('width');var height=$(this).data('height');$(this).prettyPhoto({animation_speed:speed,social_tools:false,autoplay:autoplay,opacity:0.9,deeplinking:false,theme:popuptheme,default_width:width,default_height:height});});if(wooenabled==='true'){$('.ednpro-open-panel').each(function(){$(this).addClass('woocommerce');});}
$('.edn_subs_email_r').keyup(function(){if($(this).val()!=''){$(this).css('border-color','');}});$('.edn_subs_submit_ajax').click(function(){var selector=$(this);var but_email_error_msg=selector.closest('.edn-subscribe-form').find('input.edn-subs-email-error-msg').val();if(but_email_error_msg==''){but_email_error_msg=edn_pro_script_variable.but_email_error_msg;}
var success_note=selector.closest('.edn-subscribe-form').find('input.edn-success-note').val();if(success_note==''){success_note=edn_pro_script_variable.success_note;}
var already_subs=selector.closest('.edn-subscribe-form').find('input.edn-subs-already-subscribed').val();if(already_subs==''){already_subs=edn_pro_script_variable.already_subs;}
var check_to_conform=selector.closest('.edn-subscribe-form').find('input.edn-subs-checktoconfirmmsg').val();if(check_to_conform==''){check_to_conform=edn_pro_script_variable.check_to_conform;}
var sending_fail=selector.closest('.edn-subscribe-form').find('input.edn-subs-sending-fail').val();if(sending_fail==''){sending_fail=edn_pro_script_variable.sending_fail;}
var barid=selector.closest('.edn-subscribe-form').find('.apexnb-bar-id').val();var email=selector.closest('.edn-subscribe-form').find('input[name="edn_email"].edn_subs_email_r').val();var error_flag=0;if(email==''){error_flag=1;selector.closest('.edn-subscribe-form').find('.edn-error').html(but_email_error_msg);}else if(!validateEmail(email)){error_flag=1;selector.closest('.edn-subscribe-form').find('.edn-error').html(but_email_error_msg);}
if(error_flag==0)
{selector.closest('.edn-subscribe-form').find('.edn_subs_email_r').css('border-color','');var confirm=selector.closest('.edn-subscribe-form').find('.edn-subs-email-confirm').val();var page_id=selector.closest('.edn-subscribe-form').find('.edn-page-id').val();$.ajax({url:apexnb_ajax_url,type:'post',dataType:'html',data:{action:'subscribe_ajax',email:email,confirm:confirm,page_id:page_id,bar_id:barid,nonce:apexnb_ajax_nonce,},beforeSend:function(){selector.closest('.edn-subscribe-form').find('.edn-ajax-loader').show('slow');},complete:function(){selector.closest('.edn-subscribe-form').find('.edn-ajax-loader').hide('slow');},success:function(resp){if(resp=='success'){selector.closest('.edn-subscribe-form').find('.edn-error').html('');selector.closest('.edn-subscribe-form').find('.edn-subs-success').html(success_note);}else if(resp=='aready'){selector.closest('.edn-subscribe-form').find('.edn-error').html(already_subs);}else if(resp=='confirm'){selector.closest('.edn-subscribe-form').find('.edn-subs-success').html(check_to_conform);}else if(resp=='fail'){selector.closest('.edn-subscribe-form').find('.edn-error').html(sending_fail);}}});}});$('input[name="edn_email"]').keyup(function(){var val1=$(this).val();var but_email_error_msg=$(this).closest('.edn-subscribe-form').find('input.edn-subs-email-error-msg').val();if(but_email_error_msg==''){but_email_error_msg=edn_pro_script_variable.but_email_error_msg;}
if(val1==''){$(this).closest('.edn-subscribe-form').find('.edn-error').html('');}else{if(!validateEmail(val1)){$(this).closest('.edn-subscribe-form').find('.edn-error').html(but_email_error_msg);}else{$(this).closest('.edn-subscribe-form').find('.edn-error').html('');}}});$('.edn_mailchimp_submit_ajax').click(function(){var selector=$(this);var email=selector.closest('.edn-mailchimp-wrap').find('input[name="edn_mailchimp_email"].edn-mailchimp-email').val();var barid=selector.closest('.edn-mailchimp-wrap').find('.apexnbbarid').val();var mc_but_email_error_msg=selector.closest('.edn-mailchimp-wrap').find('input.edn-mc-email-err').val();if(mc_but_email_error_msg==''){mc_but_email_error_msg=edn_pro_script_variable.mailchimp_email_error_msg;}
var success_note=selector.closest('.edn-mailchimp-wrap').find('input.edn-mc-success-note').val();if(success_note==''){success_note=edn_pro_script_variable.mailchimp_thank_text;}
var check_to_conform=selector.closest('.edn-mailchimp-wrap').find('input.edn-mc-check-to-conform').val();if(check_to_conform==''){check_to_conform=edn_pro_script_variable.mailchimp_check_to_conform;}
var mailchimp_sending_fail=selector.closest('.edn-mailchimp-wrap').find('input.edn-mc-sending-fail').val();if(mailchimp_sending_fail==''){mailchimp_sending_fail=edn_pro_script_variable.mailchimp_sending_fail;}
var error_flag=0;if(email==''){error_flag=1;selector.closest('.edn-mailchimp-wrap').find('.edn-error').html(mc_but_email_error_msg);}else if(!validateEmail(email)){error_flag=1;selector.closest('.edn-mailchimp-wrap').find('.edn-error').html(mc_but_email_error_msg);selector.closest('.edn-mailchimp-wrap').find('input[name="edn_mailchimp_email"].edn-mailchimp-email').focus();}
if(error_flag==0)
{var confirm=selector.closest('.edn-mailchimp-wrap').find('.edn-mailchimp-email-confirm').val();var api_key=selector.closest('.edn-mailchimp-wrap').find('.edn-api-key').val();var mailchimp_list=selector.closest('.edn-mailchimp-wrap').find('.edn-mailchimp-list').val();var page_id=selector.closest('.edn-mailchimp-wrap').find('.edn-page-id').val();$.ajax({url:apexnb_ajax_url,type:'post',dataType:'html',data:{action:'mailchimp_ajax',email:email,confirm:confirm,api_key:api_key,page_id:page_id,bar_id:barid,mailchimp_list:mailchimp_list,nonce:apexnb_ajax_nonce,},beforeSend:function(){selector.closest('.edn-mailchimp-wrap').find('.edn-ajax-loader').show('slow');},complete:function(){selector.closest('.edn-mailchimp-wrap').find('.edn-ajax-loader').hide('slow');},success:function(resp){if(resp=='subscribed'){selector.closest('.edn-mailchimp-wrap').find('input[name="edn_mailchimp_email"].edn-mailchimp-email').val('');selector.closest('.edn-mailchimp-wrap').find('.edn-error').html('');selector.closest('.edn-mailchimp-wrap').find('.edn-subs-success').html(success_note);}else if(resp=='confirm'){selector.closest('.edn-mailchimp-wrap').find('input[name="edn_mailchimp_email"].edn-mailchimp-email').val('');selector.closest('.edn-mailchimp-wrap').find('.edn-error').html(check_to_conform);}else if(resp=='fail'){selector.closest('.edn-mailchimp-wrap').find('input[name="edn_mailchimp_email"].edn-mailchimp-email').val('');selector.closest('.edn-mailchimp-wrap').find('.edn-error').html(edn_pro_script_variable.mailchimp_sending_fail);}else{selector.closest('.edn-mailchimp-wrap').find('input[name="edn_mailchimp_email"].edn-mailchimp-email').val('');var removeData=resp.replace("0","");selector.closest('.edn-mailchimp-wrap').find('.edn-error').html(removeData);}}});}});$('input[name="edn_mailchimp_email"].edn-mailchimp-email').keyup(function(){$(this).closest('.edn-mailchimp-wrap').find('.edn-error').html('');$(this).closest('.edn-mailchimp-wrap').find('.edn-subs-success').html('');});$('.constant_subscribe').click(function(e){e.preventDefault();var selector=$(this);var barid=selector.closest('.edn-constant-contact-wrap').find('.apex_nb_cc_barid').val();var edn_grp=selector.closest('.edn-constant-contact-wrap').find('input[name="edn_grp"]').val();var countgrp=selector.closest('.edn-constant-contact-wrap').find(":input[name='edn_grp']").length;var arr_group=new Array();for(var i=1;i<=countgrp;i++){arr_group.push(selector.closest('.edn-constant-contact-wrap').find('#edn_grp_'+i+'_'+barid).val());}
var edn_fnm=selector.closest('.edn-constant-contact-wrap').find('input[name="edn_fnm"]').val();var edn_eml=selector.closest('.edn-constant-contact-wrap').find('input[name="edn_eml"]').val();var confirmcheck=selector.closest('.edn-constant-contact-wrap').find('.edn-constantcontact-email-confirm').val();var successtext=selector.closest('.edn-constant-contact-wrap').find('.edn-success-message').val();var sending_fail_msg=selector.closest('.edn-constant-contact-wrap').find('.edn_constant_message').attr('data-send-fail');var name_error=selector.closest('.edn-constant-contact-wrap').find('.edn_constant_message').attr('data-name-error');var email_error=selector.closest('.edn-constant-contact-wrap').find('.edn_constant_message').attr('data-email-error');var error_flag=0;if(edn_fnm==''){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('');selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html(name_error);error_flag=1;}else if(edn_eml==''){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('');selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html(email_error);error_flag=1;}else if(!validateEmail(edn_eml)){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('');selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html(email_error);error_flag=1;}else{error_flag=0;}
if(error_flag==0){var page_id=selector.closest('.edn-constant-contact-wrap').find('.edn-constant-page-id').val();$.ajax({url:apexnb_ajax_url,type:'post',dataType:'html',data:{action:'constant_contact_ajax',email:edn_eml,confirm:confirmcheck,bar_id:barid,page_id:page_id,group_listid:arr_group,edn_fnm:edn_fnm,nonce:apexnb_ajax_nonce,},beforeSend:function(){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-ajax-loader').show('slow');},complete:function(){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-ajax-loader').hide('slow');},success:function(resp){if(resp=="confirm"){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-success').html(successtext);selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('');selector.closest('.edn-constant-contact-wrap').find('input[type=text]').val('');selector.closest('.edn-constant-contact-wrap').find('input[type=email]').val('');}else if(resp=="fail"){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html(sending_fail_msg);}else if(resp=="pluginincomplete"){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('Constant Contact Settings Incomplete');}else if(resp=="nocontact"){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('No contact list specified.');}else if(resp=="noemail"){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('No email provided.');}else if(resp=="connection_problem"){selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('Could not connect to Constant Contact.');}else{selector.closest('.edn-constant-contact-wrap').find('.edn-constant-error').html(resp);}}});}});$('input[name="edn_fnm"]').keyup(function(){$(this).closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('');});$('input[name="edn_eml"]').keyup(function(){var val=$(this).val();if(!validateEmail(val)){var email_error=$(this).closest('.edn-constant-contact-wrap').find('.edn_constant_message').attr('data-email-error');$(this).closest('.edn-constant-contact-wrap').find('.edn-constant-error').html(email_error);}else{$(this).closest('.edn-constant-contact-wrap').find('.edn-constant-error').html('');}});$(window).on("load",function(){$(".ednpro-opanel-main-wrap").mCustomScrollbar({axis:"x"});});var mySlider;var barHeight;var barHeight2;$('.edn-notify-bar').on('click','.edn-contact-form-button',function(){var id=$(this).data('id');if($(this).hasClass('edn-multiple-cf-btn')){var id_array=id.split('_');$(this).closest('.edn-notify-bar').find('.edn-multiple-'+id_array[1]).show(400);}else{$(this).closest('.edn-notify-bar').find('#'+id+'-lightbox').show(400);}});$('body').on('click','.edn-contact-close',function(){$(this).closest('.edn-contact-lightbox').hide(400);$('.edn_error').html('');$('.edn-success').html('');$('.edn-error').html('');});$(document).keyup(function(e){if(e.keyCode==27){$('.edn-contact-lightbox').hide(400);$('.edn_error').html('');$('.edn-success').html('');$('.edn-error').html('');}});$('.ednpro_overlay').click(function(){$(this).closest('.edn-notify-bar').find('.edn-contact-lightbox').hide(400);$(this).closest('.edn-notify-bar').find('.edn_error').html('');$(this).closest('.edn-notify-bar').find('.edn-success').html('');$(this).closest('.edn-notify-bar').find('.edn-error').html('');});$('.edn-contact-submit').click(function(){var selector=$(this);var baridd=selector.closest('.edn-notify-bar').attr('data-barid');var bariddd=baridd.split('-');var barid=bariddd[1];var formtype=selector.closest('.edn-notify-bar').attr('data-formtype');var id=selector.attr('id');var error_flag=0;var empty_name=selector.closest('.edn-notify-bar').find('input[name="edn_contact_us_name"]').data('name-error-msg');var empty_email=selector.closest('.edn-notify-bar').find('input[name="edn_contact_us_email"]').data('email-error-msg');var valid_email=selector.closest('.edn-notify-bar').find('input[name="edn_contact_us_email"]').data('email-valid-msg');var id_array=['',''];var error_id='';if(selector.hasClass('edn-multiple')){id_array=id.split('_');var email=selector.closest('.edn-notify-bar').find('input[name="edn_contact_us_email"]#edn-multi-email-'+id_array[1]).val();var name=selector.closest('.edn-notify-bar').find('input[name="edn_contact_us_name"]#edn-multi-name-'+id_array[1]).val();var check_message_required=selector.closest('.edn-notify-bar').find('#edn_required_message-'+barid+'-'+id_array[1]).val();var error_id='-'+id_array[1];var formtype="multiple";var message=selector.closest('.edn-notify-bar').find('textarea[name="edn_contact_us_message"]#edn_contact_us_'+barid+'_message'+id_array[1]).val();var error_message=selector.closest('.edn-notify-bar').find('#edn_contact_us_'+barid+'_message'+id_array[1]).data('message-error');}else{var name=selector.closest('.edn-notify-bar').find('input[name="edn_contact_us_name"]').val();var email=selector.closest('.edn-notify-bar').find('input[name="edn_contact_us_email"]').val();var message=selector.closest('.edn-notify-bar').find('textarea[name="edn_contact_us_message"]').val();var formtype="static";var check_message_required=selector.closest('.edn-notify-bar').find('#edn_required_message-'+barid).val();var error_message=selector.closest('.edn-notify-bar').find('#edn_contact_us_'+barid+'_message').data('message-error');error_id='';id_array=['',''];}
if(id=='edn-both-required-submit-'+barid||id=='edn-both-required-submit_'+id_array[1]+'_'+barid){if(name==''){error_flag=1;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_name"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html(empty_name);}else{error_flag=0;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_name"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html('');}
if(check_message_required==1){if(message==''){error_flag=1;selector.closest('.apexnb-ccform').find('#edn_contact_us_'+barid+'_message'+id_array[1]).closest('.edn-field-wrapper').find('.edn_error'+error_id).html(error_message);}else{error_flag=0;selector.closest('.apexnb-ccform').find('#edn_contact_us_'+barid+'_message'+id_array[1]).closest('.edn-field-wrapper').find('.edn_error'+error_id).html('');}}else{error_flag=0;selector.closest('.apexnb-ccform').find('#edn_contact_us_'+barid+'_message'+id_array[1]).closest('.edn-field-wrapper').find('.edn_error'+error_id).html('');}
if(email==''){error_flag=1;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html(empty_email);}else if(!validateEmail(email)){error_flag=1;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html(valid_email);selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').focus();}else{error_flag=0;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html('');}}else if(id=='edn-name-required-submit-'+barid||id=='edn-name-required-submit_'+id_array[1]+'_'+barid){if(name==''){error_flag=1;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_name"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html(empty_name);}else{error_flag=0;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_name"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html('');}}else if(id=='edn-email-required-submit-'+barid||id=='edn-email-required-submit_'+id_array[1]+'_'+barid){if(email==''){error_flag=1;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html(empty_email);}else if(!validateEmail(email)){error_flag=1;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html(valid_email);selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').focus();}else{error_flag=0;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html('');}}else{if(email==''){error_flag=1;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html(empty_email);}else if(!validateEmail(email)){error_flag=1;selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').closest('.edn-field-wrapper').find('.edn_error'+error_id).html(valid_email);selector.closest('.apexnb-ccform').find('input[name="edn_contact_us_email"]').focus();}else{error_flag=0;selector.closest('.edn-contact-lightbox-inner-content').find('.edn_error'+error_id).html('');}}
if(error_flag==0)
{$.ajax({url:apexnb_ajax_url,type:'post',dataType:'html',data:{action:'contact_us_ajax',name:name,email:email,message:message,barid:barid,formtype:formtype,id_array:id_array[1],nonce:apexnb_ajax_nonce,},beforeSend:function(){selector.closest('.edn-notify-bar[data-barid='+barid+']').find('.edn-ajax-loader').show('slow');},complete:function(){selector.closest('.edn-notify-bar[data-barid='+barid+']').find('.edn-ajax-loader').hide('slow');},success:function(resp){if(resp==1){selector.closest('.edn-field-wrapper').find('.edn-success').fadeIn();selector.closest('.edn-notify-bar[data-barid='+barid+']').find('input[type=text]').val('');selector.closest('.edn-notify-bar[data-barid='+barid+']').find('textarea[name="edn_contact_us_message"]').val('');selector.closest('.edn-notify-bar[data-barid='+barid+']').find('input[type=select]').val('');selector.closest('.edn-notify-bar[data-barid='+barid+']').find('input[type=radio]').val('');selector.closest('.edn-notify-bar[data-barid='+barid+']').find('input[type=checkbox]').val('');selector.closest('.edn-notify-bar[data-barid='+barid+']').find('.edn_error').fadeOut();}else{selector.closest('.edn-field-wrapper').find('.edn-error').fadeIn();}}});}});$('.edn-default-form-popup input[name="edn_contact_us_name"]').keyup(function(){$(this).closest('.edn-field-wrapper').find('.edn-error').html('');$(this).closest('.edn-field-wrapper').find('.edn_error').html('');});$('.edn-default-form-popup textarea[name="edn_contact_us_message"]').keyup(function(){$(this).closest('.edn-field-wrapper').find('.edn_error').html('');$(this).closest('.edn-field-wrapper').find('.edn-error').html('');});$('.edn-default-form-popup input[name="edn_contact_us_email"]').keyup(function(){var val=$(this).val();var valid_email=$('input[name="edn_contact_us_email"]').data('email-valid-msg');if(!validateEmail(val)){$(this).closest('.edn-field-wrapper').find('.edn-error').html(valid_email);$(this).closest('.edn-field').find('.edn_error').html(valid_email);}else{$(this).closest('.edn-field-wrapper').find('.edn-error').html('');$(this).closest('.edn-field-wrapper').find('.edn_error').html('');}});function validateEmail(email){var filter=/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;if(filter.test(email)){return true;}else{return false;}}
$('.edn-multiple-content,.edn-twitter-feed,.edn-post-title,.edn-rss-feed').each(function(){var id=$(this).attr('id');var barid=$(this).attr('data-barid');if(id=='edn-twitter-effect-ticker-'+barid||id=='edn-post-effect-ticker-'+barid||id=='edn-rss-effect-ticker-'+barid||id=='edn-effect-ticker-'+barid){var ticker_hover=$('#apexnb-ticker-'+barid).data('ticker-hover');var ticker_speed=$('#apexnb-ticker-'+barid).data('ticker-speed');var ticker_direction=$('#apexnb-ticker-'+barid).data('ticker-direction');var ticker_title=$('#apexnb-ticker-'+barid).data('ticker-title');if(ticker_title==''){ticker_title="Latest";}
if(ticker_speed==''){ticker_speed=0.10;}
$('#'+id).ticker({speed:ticker_speed,tickerHover:ticker_hover,ajaxFeed:false,feedUrl:false,feedType:'xml',htmlFeed:true,debugMode:true,controls:false,titleText:ticker_title,direction:ticker_direction,});}else if(id=='edn-twitter-effect-slider-'+barid||id=='edn-post-effect-slider-'+barid||id=='edn-rss-effect-slider-'+barid||id=='edn-effect-slider-'+barid){var controls=$('#apexnb-ticker-'+barid).data('slider-controls');if(controls==1){var control=true;}else{var control=false;}
var slider_duration=$('#apexnb-ticker-'+barid).data('slider-duration');var auto_slide=$('#apexnb-ticker-'+barid).data('slider-auto');if(auto_slide==''){auto_slide=true;}
if(slider_duration==''){slider_duration=8000;}
var slider_transition=$('#apexnb-ticker-'+barid).data('slider-transition');if(slider_transition==''){slider_transition=5000;}
var adaptive_height=$('#apexnb-ticker-'+barid).data('slider-adaptive-height');if(adaptive_height==''){adaptive_height=true;}
var ticker_animation=$('#apexnb-ticker-'+barid).data('slider-animation');mySlider=$('#'+id).bxSlider({auto:auto_slide,controls:control,pager:false,speed:slider_transition,pause:slider_duration,stopAuto:false,mode:ticker_animation,adaptiveHeight:adaptive_height,displaySlideQty:1,moveSlideQty:1,infiniteLoop:true,hideControlOnEnd:true});mySlider.reloadSlider();}else if(id=='edn-twitter-effect-scroller-'+barid||id=='edn-post-effect-scroller-'+barid||id=='edn-rss-effect-scroller-'+barid||id=='edn-effect-scroller-'+barid){var controls=$('#apexnb-ticker-'+barid).data('scroll-controls');if(controls==1){var control=true;}else{var control=false;}
var scroll_direction=$('#apexnb-ticker-'+barid).data('scroll-direction');var scroll_animation=$('#apexnb-ticker-'+barid).data('scroll-animation');var scroll_speed=$('#apexnb-ticker-'+barid).data('scroll-speed');if(scroll_speed==''){scroll_speed=0.10;}
var scroll_title=$('#apexnb-ticker-'+barid).data('scroll-title');if(scroll_title==''){scroll_title="Latest";}
$('#'+id).ticker({speed:scroll_speed,ajaxFeed:false,feedUrl:false,feedType:'xml',htmlFeed:true,debugMode:true,controls:control,titleText:scroll_title,displayType:scroll_animation,direction:scroll_direction,pauseOnItems:2000,fadeInSpeed:1000,fadeOutSpeed:2000});}});var reset,loggedinchecker;$('.edn-close-section').each(function(){if($(this).css('display')==='none'){$(body).removeClass('has-ednbar').css('padding-top',0);}});$('.edn-notify-bar').each(function(){var selector=$(this);var selectorid=$(this).attr('data-barid');var close_type=selector.find('.edn-visibility-bar-options').data('close-type');var close_once=selector.find('.edn-visibility-bar-options').data('close-once');var duration_closetime=selector.find('.edn-visibility-bar-options').data('duration-close');var show_once_hideshow=selector.find('.edn-visibility-bar-options').data('show_once_hideshow');var show_once_loggedusers=selector.find('.edn-visibility-bar-options').data('show_once_loggedusers');var check_loggedin=selector.find('.edn-visibility-bar-options').data('check_loggedin');var check_userid=selector.find('.edn-visibility-bar-options').data('check_userid');var nbid=selector.find('.edn-visibility-bar-options').data('notification_bar_id');var get_cookie=getCookie1('show_toggle_check_'+nbid);if(show_once_hideshow!=1){delete_cookie('show_toggle_check_'+nbid);}
if(close_type!="show-hide"){delete_cookie('show_toggle_check_'+nbid);}
if(typeof get_cookie!='undefined'){$('.edn-notify-bar[data-barid=apexbar-'+nbid+']').addClass('open');$('.edn-notify-bar[data-barid=apexbar-'+nbid+']').find('.edn-left-arrow,.edn-right-arrow,.edn-top-up-arrow,.edn-bottom-down-arrow').addClass('open');}
if(show_once_loggedusers==1){reset="1";}else{reset="0";}
if(check_loggedin==1){loggedinchecker="1";}else{loggedinchecker="0";}
$(this).find('.edn-left-arrow,.edn-right-arrow,.edn-top-up-arrow,.edn-bottom-down-arrow').toggle(function(){if($(this).closest('.edn-notify-bar').hasClass('open')){$(this).closest('.edn-notify-bar').removeClass('open');$(this).removeClass('open');barHeight=$(this).closest('.edn-notify-bar').find('.edn-container').outerHeight();if($(this).closest('.edn-notify-bar.edn-position-top,.edn-notify-bar.edn-position-top_absolute').length>0){if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){if($(this).closest('.edn-notify-bar').find('.apexnb-open-panel-wrapper').length>0){var bB=$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').outerHeight();}else{var bB=0;}
var barHeight=parseInt(bB)+parseInt(barHeight);}
$('body').css('padding-top',barHeight).addClass('has-ednbar').addClass('has-ednbar');$('.masthead').css('margin-top',barHeight);var bq=barHeight+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);}else if($(this).closest('.edn-notify-bar.edn-position-bottom').length>0){if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){if($(this).closest('.edn-notify-bar').hasClass('open')){$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',barHeight);$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',barHeight);}}}}else{$(this).closest('.edn-notify-bar').addClass('open');$(this).addClass('open');if($(this).closest('.edn-notify-bar.edn-position-top,.edn-notify-bar.edn-position-top_absolute').length>0){$('body').css('padding-top','0px');$('.masthead').css('margin-top',0);$('.rev_slider img:nth-of-type(1)').css('margin-top','0px');if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){if($(this).closest('.edn-notify-bar').hasClass('open')){$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top','0');$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top','0');}}}else if($(this).closest('.edn-notify-bar.edn-position-bottom').length>0){if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){if($(this).closest('.edn-notify-bar').hasClass('open')){$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom','0');$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom','0');}}}}
if($(this).closest('.edn-notify-bar.edn-position-top,.edn-notify-bar.edn-position-top_absolute').length>0){if($(this).closest('.edn-notify-bar').find('.apexnb-open-panel-wrapper').length>0){$('body').css('padding-top','36px');$('.rev_slider img:nth-of-type(1)').css('margin-top','72px');$('.masthead').css('margin-top','36px');}}
$('body').removeClass('has-ednbar');if(reset==1){if(loggedinchecker==1&&nbid!=''){$.ajax({url:apexnb_ajax_url,type:'post',dataType:'html',data:{action:'ajax_reset_showonce',check_reset:reset,nb_id:nbid,userid:check_userid,loggedin_checker:loggedinchecker,nonce:apexnb_ajax_nonce,},beforeSend:function(){$('.edn-ajax-loader').show('slow');},complete:function(){$('.edn-ajax-loader').hide('slow');},success:function(resp){if(resp=="success"){$('.ednpro_main_wrapper.ednpro_section').css('display','none');}else{$('.ednpro_main_wrapper.ednpro_section').css('display','block');}}});}}else{if(show_once_hideshow==1){setCookie('show_toggle_check_'+nbid,'already_open','86400');}}},function(){if($(this).closest('.edn-notify-bar').hasClass('open')){$(this).closest('.edn-notify-bar').removeClass('open');$(this).removeClass('open');if($(this).closest('.edn-notify-bar.edn-position-top,.edn-notify-bar.edn-position-top_absolute').length>0){barHeight=$(this).closest('.edn-notify-bar').find('.edn-container').outerHeight();if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){if($(this).closest('.edn-notify-bar').find('.apexnb-open-panel-wrapper').length>0){var bB=$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').outerHeight();}else{var bB=0;}
$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHeight);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHeight);var barHeight=parseInt(bB)+parseInt(barHeight);}
$('body').css('padding-top',barHeight).addClass('has-ednbar');$('.masthead').css('margin-top',barHeight);var bq=barHeight+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);}else if($(this).closest('.edn-notify-bar.edn-position-bottom').length>0){var bottomHeight=$(this).closest('.edn-notify-bar').find('.edn-container').outerHeight();if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',bottomHeight);$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',bottomHeight);}}}else{$(this).closest('.edn-notify-bar').addClass('open');$(this).addClass('open');if($(this).closest('.edn-notify-bar.edn-position-top,.edn-notify-bar.edn-position-top_absolute').length>0){$('body').css('padding-top',0);$('.masthead').css('margin-top',0);$('.rev_slider img:nth-of-type(1)').css('margin-top','0px');}else if($(this).closest('.edn-notify-bar.edn-position-bottom').length>0){if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom','0');$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom','0');}}}});if(duration_closetime==''){duration=10;}else{duration=duration_closetime;}
if(close_type=="user-can-close"){$('.edn-notify-bar[data-barid='+selectorid+']').find('.edn-controls-close').click(function(){if(loggedinchecker!=1){if(close_once==1){checkCookie(duration,close_type,nbid);}else{delete_cookie('cookie_set_time_'+nbid);}}else{if(reset!=1){if(close_once==1){checkCookie(duration,close_type,nbid);}else{delete_cookie('cookie_set_time_'+nbid);}}else{if(loggedinchecker==1&&nbid!=''){$.ajax({url:apexnb_ajax_url,type:'post',dataType:'html',data:{action:'ajax_reset_showonce',check_reset:reset,nb_id:nbid,userid:check_userid,loggedin_checker:loggedinchecker,nonce:apexnb_ajax_nonce,},beforeSend:function(){$('.edn-ajax-loader').show('slow');},complete:function(){$('.edn-ajax-loader').hide('slow');},success:function(resp){if(resp=="success"){$('.ednpro_main_wrapper.ednpro_section').css('display','none');}else{$('.ednpro_main_wrapper.ednpro_section').css('display','block');}}});}else{}}}
$(this).closest('.edn-notify-bar').hide('slow');$(this).closest('.edn-notify-bar').find('.edn-cntrol-wrap').hide('slow');$(this).closest('.edn-notify-bar').find('.edn-container').hide('slow');if($(this).closest('.edn-notify-bar').hasClass('edn-position-top')||$(this).closest('.edn-notify-bar').hasClass('edn-position-top_absolute')){$('body').css('padding-top','0px');$('.masthead').css('padding-top','0px');}
$('.masthead').css('margin-top',0);$('body').removeClass('has-ednbar');});}else{delete_cookie('cookie_set_time_'+nbid);}});function getCookie1(c_name){var i,x,y,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++){x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("="));y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1);x=x.replace(/^\s+|\s+$/g,"");if(x==c_name){return unescape(y);}}}
function checkCookie(time,close_type,nbid){var cookie=getCookie("cookie_set_time_"+nbid);if(cookie!=""){}else{cookie='cookie_set_time_'+nbid;if(cookie!=""&&cookie!=null){setCookie("cookie_set_time_"+nbid,cookie,time);}}}
function delete_cookie(name){document.cookie=name+'=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';}
function setCookie(cname,cvalue,time){var d=new Date();d.setTime(d.getTime()+(time*1000));var expires="expires="+d.toGMTString();document.cookie=cname+"="+cvalue+"; "+expires;}
function getCookie(cname){var name=cname+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')
c=c.substring(1);if(c.indexOf(name)==0){return c.substring(name.length,c.length);}}
return"";}
$('.edn-notify-bar').each(function(){var bar_id=$(this).attr('data-barid');var bid=bar_id.split("-");var showtime=$(this).find('.edn-visibility-option-'+bid[1]).data('show-time-duration');var hidetime=$(this).find('.edn-visibility-option-'+bid[1]).data('hide-time-duration');var vtype=$(this).find('.edn-visibility-option-'+bid[1]).data('visibility-type');var container_height=$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.edn-container').actual('height');var hide_on_mobile=$(this).find('.apexnb-hide-mobile').val();if($(this).hasClass('edn-visibility-show-time')){if(!$(this).hasClass('apexbar_hide_bar_bydate')){if(vtype=="show-time"){if(showtime!=''){setTimeout(function(){$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').fadeIn('slow');$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+'] .visibility_show-time').fadeIn('slow');if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('#effect_type'+bid[1]).val()=="slider"){mySlider.reloadSlider({displaySlideQty:1,moveSlideQty:1,infiniteLoop:true,hideControlOnEnd:true});}},showtime);}else{setTimeout(function(){$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').fadeIn('slow');$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+'] .visibility_show-time').fadeIn('slow');if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('#effect_type'+bid[1]).val()=="slider"){mySlider.reloadSlider({displaySlideQty:1,moveSlideQty:1,infiniteLoop:false,hideControlOnEnd:true});}},10000);}}}}
if(hide_on_mobile==1){if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-position-top')){if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.edn-container').actual('height')>0){barHeight=$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.edn-container').actual('height');var ActualHeight=barHeight;if($('body').find('#wpadminbar').length>0){var adminbarHeight=$('body').find('#wpadminbar').actual('height');barHeight=parseInt(adminbarHeight)+parseInt(barHeight);}else{barHeight=parseInt(barHeight);}
if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-pro-open-panel-active')){var bB=$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-top-panel-open').actual('height');var barHH=barHeight;barHeight=parseInt(bB)+parseInt(barHeight);ActualHeight=parseInt(bB)+parseInt(ActualHeight);$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-open-panel').css('top',barHH);$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-top-panel-open').css('top',barHH);}
if($('body').find('#wpadminbar').length>0){var bq=ActualHeight+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',ActualHeight).addClass('has-ednbar');}else{if($(this).is(':visible')){var bq=barHeight+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',container_height).addClass('has-ednbar');}}}}
if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-position-bottom')){if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.edn-container').actual('height')>0){barHeight=$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.edn-container').actual('height');if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-pro-open-panel-active')){var bB=$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-top-panel-open').actual('height');var barHH=barHeight;$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-open-panel').css('bottom',barHeight);$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-top-panel-open').css('bottom',barHH);}}}
if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-position-top_absolute')){if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.edn-container').actual('height')>0){barHeight2=$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.edn-container').actual('height');var ActualHeight2=barHeight2;if($('body').find('#wpadminbar').length>0){var adminbarHeight=$('body').find('#wpadminbar').actual('height');barHeight2=parseInt(adminbarHeight)+parseInt(barHeight2);}else{barHeight2=parseInt(barHeight2);}
if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-pro-open-panel-active')){var bB=$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-top-panel-open').actual('height');var barHH2=barHeight2;var barHeight2=parseInt(bB)+parseInt(barHeight2);ActualHeight2=parseInt(bB)+parseInt(ActualHeight2);$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-open-panel').css('top',barHH2);$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-top-panel-open').css('top',barHH2);}
if($('body').find('#wpadminbar').length>0){var bq=ActualHeight2+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',ActualHeight2).addClass('has-ednbar');$('.masthead').css('margin-top',ActualHeight2);}else{if($(this).is(':visible')){var bq=barHeight2+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',container_height).addClass('has-ednbar');$('.masthead').css('margin-top',container_height);}}}}
if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-position-top')||$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-position-top_absolute')){if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('open')){$('body').css('padding-top',0).removeClass('has-ednbar');$('.masthead').css('margin-top',0);}
if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('apexnb-single-open-panel')){if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('ednpro-open-panel-show')){if($('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').hasClass('edn-pro-open-panel-active')){barHeight=$('.edn-notify-bar[data-barid=apexbar-'+bid[1]+']').find('.ednpro-top-panel-open').actual('height');var ActualHeight3=barHeight;}
if($('body').find('#wpadminbar').length>0){var adminbarHeight=$('body').find('#wpadminbar').actual('height');var bq=ActualHeight3+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',ActualHeight3).addClass('has-ednbar');$('.masthead').css('margin-top',ActualHeight3);}else{var bq=barHeight+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',barHeight).addClass('has-ednbar');$('.masthead').css('margin-top',barHeight);}}}}
if(vtype=="hide-time"){if($(this).hasClass('edn-visibility-hide-time')){if(hidetime!=''){$(this).delay(hidetime).fadeOut("slow",function(){$('.rev_slider img:nth-of-type(1)').css('margin-top',0);$('body').css('padding-top',0);$('.masthead').css('padding-top',0);});}else{$(this).delay(10000).fadeOut("slow",function(){$('.rev_slider img:nth-of-type(1)').css('margin-top',0);$('body').css('padding-top',0);$('.masthead').css('padding-top',0);});}}}}});$(window).resize(function(){$('.edn-notify-bar').each(function(){checkbar_height_onpage_load($(this));});}).resize();function checkbar_height_onpage_load(selector){if($(selector).find('.edn-container').actual('height')>0){var bar_totalheight=$(selector).find('.edn-container').actual('height');var ActualTHeight=bar_totalheight;if($(selector).hasClass('edn-position-top_absolute')){if($('body').find('#wpadminbar').length>0){var adminbarHeight=$('body').find('#wpadminbar').actual('height');bar_totalheight=parseInt(adminbarHeight)+parseInt(bar_totalheight);}else{bar_totalheight=parseInt(ActualTHeight);}
if($(selector).hasClass('edn-pro-open-panel-active')){var bB=$(selector).find('.ednpro-top-panel-open').actual('height');var barHH2=bar_totalheight;var bar_totalheight=parseInt(bB)+parseInt(bar_totalheight);ActualTHeight=parseInt(bB)+parseInt(ActualTHeight);$(selector).find('.ednpro-open-panel').css('top',barHH2);$(selector).find('.ednpro-top-panel-open').css('top',barHH2);}
if($('body').find('#wpadminbar').length>0){var bq=ActualTHeight+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',ActualTHeight).addClass('has-ednbar');$('.masthead').css('margin-top',ActualTHeight);}else{if($(selector).is(':visible')){var bq=bar_totalheight+104;bar_totalheight=bar_totalheight;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',bar_totalheight).addClass('has-ednbar');$('.masthead').css('margin-top',bar_totalheight);}}}
if($(selector).hasClass('edn-position-top')){if($('body').find('#wpadminbar').length>0){var adminbarHeight=$('body').find('#wpadminbar').actual('height');bar_totalheight=parseInt(adminbarHeight)+parseInt(bar_totalheight);}else{bar_totalheight=parseInt(bar_totalheight);}
if($(selector).hasClass('edn-pro-open-panel-active')){var bB=$(selector).find('.ednpro-top-panel-open').actual('height');var barHH=bar_totalheight;bar_totalheight=parseInt(bB)+parseInt(bar_totalheight);ActualTHeight=parseInt(bB)+parseInt(ActualTHeight);$(selector).find('.ednpro-open-panel').css('top',barHH);$(selector).find('.ednpro-top-panel-open').css('top',barHH);}
if($('body').find('#wpadminbar').length>0){var bq=ActualTHeight+104;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',ActualTHeight).addClass('has-ednbar');}else{if($(selector).is(':visible')){var bq=bar_totalheight+104;bar_totalheight=bar_totalheight;$('.rev_slider img:nth-of-type(1)').css('margin-top',bq);$('body').css('padding-top',bar_totalheight).addClass('has-ednbar');}}}}}
$('.edn-notify-bar').each(function(){$(this).find('.ednpro-top-panel-open').click(function(){$(this).parent().toggleClass('edn-opanel-show');$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').toggleClass("open_panel");$(this).closest('.edn-notify-bar').toggleClass("ednpro-open-panel-show");var barHeightt=$(this).closest('.edn-notify-bar').find('.edn-container').actual('height');if($(this).closest('.edn-notify-bar').hasClass('edn-position-top')){if($('body').find('#wpadminbar').length>0){var adminbarHeight=$('body').find('#wpadminbar').actual('height');barHeightt=parseInt(adminbarHeight)+parseInt(barHeightt);}else{barHeightt=parseInt(barHeightt);}
if(barHeightt>0){if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){if($(this).closest('.edn-notify-bar').find('.ednpro-open-panel').hasClass('open_panel')){var heightt1='335';var barHH=parseInt(heightt1)+parseInt(barHeightt);}else{var barHH=barHeightt;}
if($(this).closest('.edn-notify-bar').hasClass('open')){var panel_height=$(this).closest('.edn-notify-bar').find('.apexnb-open-panel-wrapper').actual('height');if($(this).closest('.edn-notify-bar').find('.ednpro-open-panel').hasClass('open_panel')){var heightt1='335';var barHH=parseInt(heightt1);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHH);}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',panel_height);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',panel_height);}}else{if($(this).closest('.edn-notify-bar').hasClass('ednpro-open-panel-show')){if($(this).closest('.edn-notify-bar').is(':visible')){$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHeightt);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHH);}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',0);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',0);}}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHeightt);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHH);}}}}}
if($(this).closest('.edn-notify-bar').hasClass('edn-position-top_absolute')){if(barHeightt>0){if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){if($(this).closest('.edn-notify-bar').find('.ednpro-open-panel').hasClass('open_panel')){var heightt1='335';var barHH=parseInt(heightt1)+parseInt(barHeightt);}else{var barHH=barHeightt;}
if($(this).closest('.edn-notify-bar').hasClass('open')){var panel_height=$(this).closest('.edn-notify-bar').find('.apexnb-open-panel-wrapper').actual('height');if($(this).closest('.edn-notify-bar').find('.ednpro-open-panel').hasClass('open_panel')){var heightt1='335';var barHH=parseInt(heightt1);if($(this).closest('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap ').length>0){$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',0);}else{$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHH);}}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',panel_height);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHeightt);}}else{if($(this).closest('.edn-notify-bar').hasClass('ednpro-open-panel-show')){if($(this).closest('.edn-notify-bar').is(':visible')){$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHeightt);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHH);}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',0);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',0);}}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHeightt);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHH);}}}}}
if($(this).closest('.edn-notify-bar').hasClass('edn-position-bottom')){if(barHeightt>0){if($(this).closest('.edn-notify-bar').hasClass('edn-pro-open-panel-active')){if($(this).closest('.edn-notify-bar').find('.ednpro-open-panel').hasClass('open_panel')){var heightt2='400';var barHH=parseInt(heightt2);$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',barHeightt);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',barHH);}else{if($(this).closest('.edn-notify-bar').hasClass('ednpro-open-panel-show')){if($(this).closest('.edn-notify-bar').is(':visible')){$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',barHeightt);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',barHeightt);}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',0);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',0);}}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',barHeightt);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',barHeightt);}}}}}});});$('.ednpro-close-panel,.ednpro-close-panel i').click(function(){var barHh=$(this).closest('.edn-notify-bar').find('.edn-container').actual('height');$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').removeClass('open_panel');$(this).closest('.edn-notify-bar').removeClass('ednpro-open-panel-show');$(this).closest('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').removeClass('edn-opanel-show');if($(this).closest('.edn-notify-bar').hasClass('open')){if($(this).closest('.edn-notify-bar').hasClass('edn-position-top_absolute')||$(this).closest('.edn-notify-bar').hasClass('edn-position-top')){if($(this).closest('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').length>0){$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',0);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',0);}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHh);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHh);}}else{if($(this).closest('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').length>0){$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',0);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',0);}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',barHh);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',barHh);}}}else{if($(this).closest('.edn-notify-bar').hasClass('edn-position-top_absolute')||$(this).closest('.edn-notify-bar').hasClass('edn-position-top')){if($(this).closest('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').length>0){$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',0);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',0);}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHh);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHh);}}else{if($(this).closest('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').length>0){$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',0);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',0);}else{$(this).closest('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',barHh);$(this).closest('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',barHh);}}}});$(document).mouseup(function(e){var container=$(".ednpro-opanel-main-wrap,.apexnb-open-panel-trigger-wrap,.ednpro-top-panel-open");if(!container.is(e.target)&&container.has(e.target).length===0)
{var barHh=$('.edn-notify-bar').find('.edn-container').actual('height');if(!barHh){if(!$('.edn-notify-bar').hasClass('edn-position-bottom')&&!$('.edn-notify-bar').hasClass('edn-position-left')&&!$('.edn-notify-bar').hasClass('edn-position-right')){if($('.edn-notify-bar').hasClass('ednpro-open-panel-show')){$('.edn-notify-bar').find('.ednpro-open-panel').css('top',0);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',0);$('.ednpro-open-panel').removeClass('open_panel');$('.apexnb-open-panel-trigger-wrap').removeClass('edn-opanel-show');$('.edn-notify-bar').removeClass('ednpro-open-panel-show');}}else{if($('.edn-notify-bar').hasClass('ednpro-open-panel-show')){$('.ednpro-open-panel').removeClass('open_panel');$('.apexnb-open-panel-trigger-wrap').removeClass('edn-opanel-show');$('.edn-notify-bar').removeClass('ednpro-open-panel-show');}}}else{if($('.edn-notify-bar').hasClass('open')){if($('.edn-notify-bar').hasClass('edn-position-top_absolute')||$('.edn-notify-bar').hasClass('edn-position-top')){if($('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').length>0){$('.edn-notify-bar').find('.ednpro-open-panel').css('top',0);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',0);}else{$('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHh);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHh);}}else{if($('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').length>0){$('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',0);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',0);}else{$('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',barHh);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',barHh);}}}else{if($('.edn-notify-bar').hasClass('edn-position-top_absolute')||$('.edn-notify-bar').hasClass('edn-position-top')){if($('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').length>0){$('.edn-notify-bar').find('.ednpro-open-panel').css('top',0);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',0);}else{$('.edn-notify-bar').find('.ednpro-open-panel').css('top',barHh);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('top',barHh);}}else{if($('.edn-notify-bar').find('.apexnb-open-panel-trigger-wrap').length>0){$('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',0);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',0);}else{$('.edn-notify-bar').find('.ednpro-open-panel').css('bottom',barHh);$('.edn-notify-bar').find('.ednpro-top-panel-open').css('bottom',barHh);}}}}}});$('.ApexDateCountdown').each(function(){var circle_date_countdown_color=($(this).data('background-color'))?$(this).data('background-color'):'#888';var template=($(this).data('template'))?$(this).data('template'):'';var enable_days=($(this).parent().find('.enable_days').val()&&$(this).parent().find('.enable_days').val()==1)?true:false;var enable_hours=($(this).parent().find('.enable_hours').val()&&$(this).parent().find('.enable_hours').val()==1)?true:false;var enable_minute=($(this).parent().find('.enable_minute').val()&&$(this).parent().find('.enable_hours').val()==1)?true:false;var enable_seconds=($(this).parent().find('.enable_seconds').val()&&$(this).parent().find('.enable_seconds').val()==1)?true:false;var animation=($(this).parent().find('.animation_val').val())?$(this).parent().find('.animation_val').val():'smooth';var label_days=($(this).parent().find('.days_val').val()&&$(this).parent().find('.days_val').val()!='')?$(this).parent().find('.days_val').val():'Days';var label_hours=($(this).parent().find('.hour_val').val()&&$(this).parent().find('.hour_val').val()!='')?$(this).parent().find('.hour_val').val():'Hours';var label_minute=($(this).parent().find('.minute_val').val()&&$(this).parent().find('.minute_val').val()!='')?$(this).parent().find('.minute_val').val():'Minutes';var label_seconds=($(this).parent().find('.second_val').val()&&$(this).parent().find('.second_val').val()!='')?$(this).parent().find('.second_val').val():'Seconds';if(template==3||template==14){var circle_bg_color="rgba(255, 255, 255, 0.8)";}else{if(template==='custom'){var circle_date_countdown_outercolor=($(this).data('background-outercolor'))?$(this).data('background-outercolor'):'rgba(255, 255, 255, 0.4)';}else{var circle_date_countdown_outercolor='rgba(255, 255, 255, 0.4)';}
circle_bg_color=circle_date_countdown_outercolor;}
$(this).TimeCircles({"animation":animation,"count_past_zero":false,"bg_width":1,"fg_width":0.03,"circle_bg_color":circle_bg_color,"time":{"Days":{"text":label_days,"color":circle_date_countdown_color,"show":enable_days},"Hours":{"text":label_hours,"color":circle_date_countdown_color,"show":enable_hours},"Minutes":{"text":label_minute,"color":circle_date_countdown_color,"show":enable_minute},"Seconds":{"text":label_seconds,"color":circle_date_countdown_color,"show":enable_seconds}}});});var curday;var secTime;var ticker;$(document).ready(function(){$('.enable_repeat').each(function(){var enable_repeat_check=$(this).val();if(enable_repeat_check==1){var day_number=$(this).closest('.countdown-wrap').find('input.day_number').val();var time_number=$(this).closest('.countdown-wrap').find('input.time_number').val();getSeconds(day_number,time_number);}else{$(this).closest('.countdown-wrap').find('input.date_val').each(function(){var datee=$(this).closest('.countdown-wrap').find('input.date_val').val();if(!datee==''){var hour=$('input.hour_val').val();var min=$('input.minute_val').val();var sec=$('input.second_val').val();$('.apex_countdown').downCount({date:datee,});}});}});});function getSeconds(dy,time){var nowDate=new Date();var dy=dy;var countertime=new Date(nowDate.getFullYear(),nowDate.getMonth(),nowDate.getDate(),time,0,0);var curtime=nowDate.getTime();var atime=countertime.getTime();var diff=parseInt((atime-curtime)/1000);if(diff>0){curday=dy-nowDate.getDay()}
else{curday=dy-nowDate.getDay()-1}
if(curday<0){curday+=7;}
if(diff<=0){diff+=(86400*7)}
startTimer(diff,dy,time);}
function startTimer(secs,dy,time){secTime=parseInt(secs);ticker=setInterval(function(){tick(dy,time);},1000);tick(dy,time);}
function tick(dy,time){var secs=secTime;if(secs>0){secTime--;}
else{clearInterval(ticker);getSeconds(dy,time);}
var days=Math.floor(secs/86400);secs%=86400;var hours=Math.floor(secs/3600);secs%=3600;var mins=Math.floor(secs/60);secs%=60;document.getElementById("daysss").innerHTML=curday;document.getElementById("hourss").innerHTML=((hours<10)?"0":"")+hours;document.getElementById("mins").innerHTML=((mins<10)?"0":"")+mins;document.getElementById("secs").innerHTML=((secs<10)?"0":"")+secs;}
$('.edn-notify-bar').each(function(){var notifybar=$(this);if($(this).hasClass('edn-visibility-show-on-click')){var idattr=$(this).data('clickattribute');if(idattr!=''){$(idattr).toggle(function(){notifybar.fadeIn(500);},function(){notifybar.fadeOut(500);});}}});});}(jQuery));
;!function(e){"use strict";e(document).on("click","a.um-toggle-gdpr",function(){var t=jQuery(this);e(".um-gdpr-content").toggle("fast",function(){e(".um-gdpr-content").is(":visible")&&t.text(t.data("toggle-hide")),e(".um-gdpr-content").is(":hidden")&&t.text(t.data("toggle-show"))})})}(jQuery);