(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"./node_modules/debounce/index.js":function(e,t){function r(e,t,r){var n,a,o,i,s;function l(){var c=Date.now()-i;c<t&&c>=0?n=setTimeout(l,t-c):(n=null,r||(s=e.apply(o,a),o=a=null))}null==t&&(t=100);var c=function(){o=this,a=arguments,i=Date.now();var c=r&&!n;return n||(n=setTimeout(l,t)),c&&(s=e.apply(o,a),o=a=null),s};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(s=e.apply(o,a),o=a=null,clearTimeout(n),n=null)},c}r.debounce=r,e.exports=r},"./node_modules/direction/index.js":function(e,t,r){"use strict";e.exports=function(e){if(e=String(e||""),a.test(e))return"rtl";if(o.test(e))return"ltr";return"neutral"};var n="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",a=new RegExp("^[^"+n+"]*[֑-߿יִ-﷽ﹰ-ﻼ]"),o=new RegExp("^[^֑-߿יִ-﷽ﹰ-ﻼ]*["+n+"]")},"./node_modules/esrever/esrever.js":function(e,t,r){(function(e,n){var a;/*! https://mths.be/esrever v0.2.0 by @mathias */!function(o){var i=t,s=(e&&e.exports,"object"==typeof n&&n);s.global!==s&&s.window;var l=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,d=function(e){for(var t="",r=(e=e.replace(l,(function(e,t,r){return d(r)+t})).replace(c,"$2$1")).length;r--;)t+=e.charAt(r);return t},u={version:"0.2.0",reverse:d};void 0===(a=function(){return u}.call(t,r,t,e))||(e.exports=a)}()}).call(this,r("./node_modules/webpack/buildin/module.js")(e),r("./node_modules/webpack/buildin/global.js"))},"./node_modules/immer/dist/immer.module.js":function(e,t,r){"use strict";(function(e){var n;r.d(t,"a",(function(){return le})),r.d(t,"b",(function(){return ce})),r.d(t,"c",(function(){return v})),r.d(t,"d",(function(){return se}));var a,o,i="undefined"!=typeof Symbol,s="undefined"!=typeof Map,l="undefined"!=typeof Set,c=i?Symbol("immer-nothing"):((n={})["immer-nothing"]=!0,n),d=i?Symbol("immer-draftable"):"__$immer_draftable",u=i?Symbol("immer-state"):"__$immer_state",f=i?Symbol.iterator:"@@iterator",p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function h(e,t){function r(){this.constructor=e}p(e,t),e.prototype=(r.prototype=t.prototype,new r)}function v(e){return!!e&&!!e[u]}function g(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[d]||!!e.constructor[d]||E(e)||k(e))}!function(e){e[e.Object=0]="Object",e[e.Array=1]="Array",e[e.Map=2]="Map",e[e.Set=3]="Set"}(a||(a={})),function(e){e[e.ProxyObject=0]="ProxyObject",e[e.ProxyArray=1]="ProxyArray",e[e.ES5Object=2]="ES5Object",e[e.ES5Array=3]="ES5Array",e[e.Map=4]="Map",e[e.Set=5]="Set"}(o||(o={}));var m="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function y(e,t){w(e)===a.Object?m(e).forEach((function(r){return t(r,e[r],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function w(e){if(e||A(),e[u])switch(e[u].type){case o.ES5Object:case o.ProxyObject:return a.Object;case o.ES5Array:case o.ProxyArray:return a.Array;case o.Map:return a.Map;case o.Set:return a.Set}return Array.isArray(e)?a.Array:E(e)?a.Map:k(e)?a.Set:a.Object}function b(e,t){return w(e)===a.Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return w(e)===a.Map?e.get(t):e[t]}function x(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function E(e){return s&&e instanceof Map}function k(e){return l&&e instanceof Set}function P(e){return e.copy||e.base}function j(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var r=Object.create(Object.getPrototypeOf(e));return m(e).forEach((function(n){if(n!==u){var a=Object.getOwnPropertyDescriptor(e,n),o=a.value;if(a.get){if(!t)throw new Error("Immer drafts cannot have computed properties");o=a.get.call(e)}a.enumerable?r[n]=o:Object.defineProperty(r,n,{value:o,writable:!0,configurable:!0})}})),r}function F(e,t){if(g(e)&&!v(e)&&!Object.isFrozen(e)){var r=w(e);r===a.Set?e.add=e.clear=e.delete=C:r===a.Map&&(e.set=e.clear=e.delete=C),Object.freeze(e),t&&y(e,(function(e,t){return F(t,!0)}))}}function C(){throw new Error("This object has been frozen and should not be mutated")}function A(){throw new Error("Illegal state, please file a bug")}var D=function(){function e(e,t){this.drafts=[],this.parent=e,this.immer=t,this.canAutoFreeze=!0}return e.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},e.prototype.revoke=function(){this.leave(),this.drafts.forEach(S),this.drafts=null},e.prototype.leave=function(){this===e.current&&(e.current=this.parent)},e.enter=function(t){var r=new e(e.current,t);return e.current=r,r},e}();function S(e){var t=e[u];t.type===o.ProxyObject||t.type===o.ProxyArray?t.revoke():t.revoked=!0}function B(e,t,r){var n=r.drafts[0],a=void 0!==t&&t!==n;if(e.willFinalize(r,t,a),a){if(n[u].modified)throw r.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");g(t)&&(t=N(e,t,r),r.parent||M(e,t)),r.patches&&(r.patches.push({op:"replace",path:[],value:t}),r.inversePatches.push({op:"replace",path:[],value:n[u].base}))}else t=N(e,n,r,[]);return r.revoke(),r.patches&&r.patchListener(r.patches,r.inversePatches),t!==c?t:void 0}function N(e,t,r,n){var a=t[u];if(!a)return Object.isFrozen(t)?t:_(e,t,r);if(a.scope!==r)return t;if(!a.modified)return M(e,a.base,!0),a.base;if(!a.finalized){if(a.finalized=!0,_(e,a.draft,r,n),e.onDelete&&a.type!==o.Set)if(e.useProxies){y(a.assigned,(function(t,r){r||e.onDelete(a,t)}))}else{var i=a.base,s=a.copy;y(i,(function(t){b(s,t)||e.onDelete(a,t)}))}e.onCopy&&e.onCopy(a),e.autoFreeze&&r.canAutoFreeze&&F(a.copy,!1),n&&r.patches&&function(e,t,r,n){switch(e.type){case o.ProxyObject:case o.ES5Object:case o.Map:return function(e,t,r,n){var a=e.base,o=e.copy;y(e.assigned,(function(e,i){var s=O(a,e),l=O(o,e),c=i?b(a,e)?"replace":"add":"remove";if(s!==l||"replace"!==c){var d=t.concat(e);r.push("remove"===c?{op:c,path:d}:{op:c,path:d,value:l}),n.push("add"===c?{op:"remove",path:d}:"remove"===c?{op:"add",path:d,value:s}:{op:"replace",path:d,value:s})}}))}(e,t,r,n);case o.ES5Array:case o.ProxyArray:return function(e,t,r,n){var a,o,i=e.base,s=e.assigned,l=e.copy;l||A();l.length<i.length&&(i=(a=[l,i])[0],l=a[1],r=(o=[n,r])[0],n=o[1]);var c=l.length-i.length,d=0;for(;i[d]===l[d]&&d<i.length;)++d;var u=i.length;for(;u>d&&i[u-1]===l[u+c-1];)--u;for(var f=d;f<u;++f)if(s[f]&&l[f]!==i[f]){var p=t.concat([f]);r.push({op:"replace",path:p,value:l[f]}),n.push({op:"replace",path:p,value:i[f]})}var h=r.length;for(f=u+c-1;f>=u;--f){p=t.concat([f]);r[h+f-u]={op:"add",path:p,value:l[f]},n.push({op:"remove",path:p})}}(e,t,r,n);case o.Set:(function(e,t,r,n){var a=e.base,o=e.copy,i=0;a.forEach((function(e){if(!o.has(e)){var a=t.concat([i]);r.push({op:"remove",path:a,value:e}),n.unshift({op:"add",path:a,value:e})}i++})),i=0,o.forEach((function(e){if(!a.has(e)){var o=t.concat([i]);r.push({op:"add",path:o,value:e}),n.unshift({op:"remove",path:o,value:e})}i++}))})(e,t,r,n)}}(a,n,r.patches,r.inversePatches)}return a.copy}function _(e,t,r,n){var i=t[u];return i&&(i.type!==o.ES5Object&&i.type!==o.ES5Array||(i.copy=j(i.draft,!0)),t=i.copy),y(t,(function(o,s){return function e(t,r,n,o,i,s,l,c){if(l===i)throw Error("Immer forbids circular references");var d=!!o&&i===n;var u=k(i);if(v(l)){var f=c&&d&&!u&&!b(o.assigned,s)?c.concat(s):void 0;l=N(t,l,r,f),function(e,t,r){switch(w(e)){case a.Map:e.set(t,r);break;case a.Set:e.delete(t),e.add(r);break;default:e[t]=r}}(i,s,l),v(l)&&(r.canAutoFreeze=!1)}else{if(d&&x(l,O(o.base,s)))return;g(l)&&(y(l,(function(a,i){return e(t,r,n,o,l,a,i,c)})),r.parent||M(t,l))}d&&t.onAssign&&!u&&t.onAssign(o,s,l)}(e,r,t,i,t,o,s,n)})),t}function M(e,t,r){void 0===r&&(r=!1),e.autoFreeze&&!v(t)&&F(t,r)}var R={get:function(e,t){if(t===u)return e;var r=e.drafts;if(!e.modified&&b(r,t))return r[t];var n=P(e)[t];if(e.finalized||!g(n))return n;if(e.modified){if(n!==L(e.base,t))return n;r=e.copy}return r[t]=e.scope.immer.createProxy(n,e)},has:function(e,t){return t in P(e)},ownKeys:function(e){return Reflect.ownKeys(P(e))},set:function(e,t,r){if(!e.modified){var n=L(e.base,t);if(r?x(n,r)||r===e.drafts[t]:x(n,r)&&t in e.base)return!0;W(e),z(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){return void 0!==L(e.base,t)||t in e.base?(e.assigned[t]=!1,W(e),z(e)):e.assigned[t]&&delete e.assigned[t],e.copy&&delete e.copy[t],!0},getOwnPropertyDescriptor:function(e,t){var r=P(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&(n.writable=!0,n.configurable=e.type!==o.ProxyArray||"length"!==t),n},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},T={};function L(e,t){var r=e[u],n=Reflect.getOwnPropertyDescriptor(r?P(r):e,t);return n&&n.value}function z(e){if(!e.modified){if(e.modified=!0,e.type===o.ProxyObject||e.type===o.ProxyArray){var t=e.copy=j(e.base);y(e.drafts,(function(e,r){t[e]=r})),e.drafts=void 0}e.parent&&z(e.parent)}}function W(e){e.copy||(e.copy=j(e.base))}function I(e,t,r){e.drafts.forEach((function(e){e[u].finalizing=!0})),r?v(t)&&t[u].scope===e&&X(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var r=t[u];if(!r)return;var n=r.base,a=r.draft,i=r.assigned,s=r.type;if(s===o.ES5Object)y(a,(function(t){t!==u&&(void 0!==n[t]||b(n,t)?i[t]||e(a[t]):(i[t]=!0,K(r)))})),y(n,(function(e){void 0!==a[e]||b(a,e)||(i[e]=!1,K(r))}));else if(s===o.ES5Array){if(Z(r)&&(K(r),i.length=!0),a.length<n.length)for(var l=a.length;l<n.length;l++)i[l]=!1;else for(l=n.length;l<a.length;l++)i[l]=!0;var c=Math.min(a.length,n.length);for(l=0;l<c;l++)void 0===i[l]&&e(a[l])}}(e.drafts[0]),X(e.drafts))}function q(e,t){var r=Array.isArray(e),n=J(e);y(n,(function(t){!function(e,t,r){var n=U[t];n?n.enumerable=r:U[t]=n={configurable:!0,enumerable:r,get:function(){return function(e,t){$(e);var r=V(P(e),t);if(e.finalizing)return r;if(r===V(e.base,t)&&g(r))return H(e),e.copy[t]=e.scope.immer.createProxy(r,e);return r}(this[u],t)},set:function(e){!function(e,t,r){if($(e),e.assigned[t]=!0,!e.modified){if(x(r,V(P(e),t)))return;K(e),H(e)}e.copy[t]=r}(this[u],t,e)}};Object.defineProperty(e,t,n)}(n,t,r||function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(!r||!r.enumerable)}(e,t))}));var a,i,s,l={type:r?o.ES5Array:o.ES5Object,scope:t?t.scope:D.current,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoked:!1,isManual:!1};return a=n,i=u,s=l,Object.defineProperty(a,i,{value:s,enumerable:!1,writable:!0}),n}function V(e,t){var r=e[u];if(r&&!r.finalizing){r.finalizing=!0;var n=e[t];return r.finalizing=!1,n}return e[t]}function K(e){e.modified||(e.modified=!0,e.parent&&K(e.parent))}function H(e){e.copy||(e.copy=J(e.base))}function J(e){var t=e&&e[u];if(t){t.finalizing=!0;var r=j(t.draft,!0);return t.finalizing=!1,r}return j(e)}y(R,(function(e,t){T[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),T.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return R.deleteProperty.call(this,e[0],t)},T.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return R.set.call(this,e[0],t,r,e[0])};var U={};function $(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(P(e)))}function X(e){for(var t=e.length-1;t>=0;t--){var r=e[t][u];if(!r.modified)switch(r.type){case o.ES5Array:Z(r)&&K(r);break;case o.ES5Object:Y(r)&&K(r)}}}function Y(e){for(var t=e.base,r=e.draft,n=Object.keys(r),a=n.length-1;a>=0;a--){var o=n[a],i=t[o];if(void 0===i&&!b(t,o))return!0;var s=r[o],l=s&&s[u];if(l?l.base!==i:!x(s,i))return!0}return n.length!==Object.keys(t).length}function Z(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var G=function(e){if(!e)throw new Error("Map is not polyfilled");function t(e,t){return this[u]={type:o.Map,parent:t,scope:t?t.scope:D.current,modified:!1,finalized:!1,copy:void 0,assigned:void 0,base:e,draft:this,isManual:!1,revoked:!1},this}h(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return P(this[u]).size},enumerable:!0,configurable:!0}),r.has=function(e){return P(this[u]).has(e)},r.set=function(e,t){var r=this[u];return $(r),P(r).get(e)!==t&&(Q(r),r.scope.immer.markChanged(r),r.assigned.set(e,!0),r.copy.set(e,t),r.assigned.set(e,!0)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[u];return $(t),Q(t),t.scope.immer.markChanged(t),t.assigned.set(e,!1),t.copy.delete(e),!0},r.clear=function(){var e=this[u];return $(e),Q(e),e.scope.immer.markChanged(e),e.assigned=new Map,e.copy.clear()},r.forEach=function(e,t){var r=this;P(this[u]).forEach((function(n,a,o){e.call(t,r.get(a),a,r)}))},r.get=function(e){var t=this[u];$(t);var r=P(t).get(e);if(t.finalized||!g(r))return r;if(r!==t.base.get(e))return r;var n=t.scope.immer.createProxy(r,t);return Q(t),t.copy.set(e,n),n},r.keys=function(){return P(this[u]).keys()},r.values=function(){var e,t=this,r=this.keys();return(e={})[f]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},r.entries=function(){var e,t=this,r=this.keys();return(e={})[f]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},r[f]=function(){return this.entries()},t}(Map);function Q(e){e.copy||(e.assigned=new Map,e.copy=new Map(e.base))}var ee=function(e){if(!e)throw new Error("Set is not polyfilled");function t(e,t){return this[u]={type:o.Set,parent:t,scope:t?t.scope:D.current,modified:!1,finalized:!1,copy:void 0,base:e,draft:this,drafts:new Map,revoked:!1,isManual:!1},this}h(t,e);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return P(this[u]).size},enumerable:!0,configurable:!0}),r.has=function(e){var t=this[u];return $(t),t.copy?!!t.copy.has(e)||!(!t.drafts.has(e)||!t.copy.has(t.drafts.get(e))):t.base.has(e)},r.add=function(e){var t=this[u];return $(t),t.copy?t.copy.add(e):t.base.has(e)||(te(t),t.scope.immer.markChanged(t),t.copy.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[u];return $(t),te(t),t.scope.immer.markChanged(t),t.copy.delete(e)||!!t.drafts.has(e)&&t.copy.delete(t.drafts.get(e))},r.clear=function(){var e=this[u];return $(e),te(e),e.scope.immer.markChanged(e),e.copy.clear()},r.values=function(){var e=this[u];return $(e),te(e),e.copy.values()},r.entries=function(){var e=this[u];return $(e),te(e),e.copy.entries()},r.keys=function(){return this.values()},r[f]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}(Set);function te(e){e.copy||(e.copy=new Set,e.base.forEach((function(t){if(g(t)){var r=e.scope.immer.createProxy(t,e);e.drafts.set(t,r),e.copy.add(r)}else e.copy.add(t)})))}function re(e,t){return t.forEach((function(t){var r=t.path,n=t.op;r.length||A();for(var o=e,i=0;i<r.length-1;i++)if(!(o=O(o,r[i]))||"object"!=typeof o)throw new Error("Cannot apply patch, path doesn't resolve: "+r.join("/"));var s=w(o),l=ne(t.value),c=r[r.length-1];switch(n){case"replace":switch(s){case a.Map:return o.set(c,l);case a.Set:throw new Error('Sets cannot have "replace" patches.');default:return o[c]=l}case"add":switch(s){case a.Array:return o.splice(c,0,l);case a.Map:return o.set(c,l);case a.Set:return o.add(l);default:return o[c]=l}case"remove":switch(s){case a.Array:return o.splice(c,1);case a.Map:return o.delete(c);case a.Set:return o.delete(t.value);default:return delete o[c]}default:throw new Error("Unsupported patch operation: "+n)}})),e}function ne(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(ne);if(E(e))return new Map(Array.from(e.entries()).map((function(e){return[e[0],ne(e[1])]})));if(k(e))return new Set(Array.from(e).map(ne));var t=Object.create(Object.getPrototypeOf(e));for(var r in e)t[r]=ne(e[r]);return t}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ae(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)n[a]=o[i];return n}var oe={useProxies:"undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},ie=new(function(){function e(e){var t=this;this.useProxies=!1,this.autoFreeze=!1,y(oe,(function(r,n){var a,o;t[r]=null!=(o=null===(a=e)||void 0===a?void 0:a[r])?o:n})),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}return e.prototype.produce=function(e,t,r){var n,a=this;if("function"==typeof e&&"function"!=typeof t){var o=t;t=e;var i=this;return function(e){var r=arguments,n=this;void 0===e&&(e=o);for(var a=[],s=1;s<arguments.length;s++)a[s-1]=r[s];return i.produce(e,(function(e){return t.call.apply(t,ae([n,e],a))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("The third argument to `produce` must be a function or undefined");if(g(e)){var s=D.enter(this),l=this.createProxy(e,void 0),d=!0;try{n=t(l),d=!1}finally{d?s.revoke():s.leave()}return"undefined"!=typeof Promise&&n instanceof Promise?n.then((function(e){return s.usePatches(r),B(a,e,s)}),(function(e){throw s.revoke(),e})):(s.usePatches(r),B(this,n,s))}if((n=t(e))!==c)return void 0===n&&(n=e),M(this,n,!0),n},e.prototype.produceWithPatches=function(e,t,r){var n,a,o=this;return"function"==typeof e?function(t){for(var r=arguments,n=[],a=1;a<arguments.length;a++)n[a-1]=r[a];return o.produceWithPatches(t,(function(t){return e.apply(void 0,ae([t],n))}))}:(r&&A(),[this.produce(e,t,(function(e,t){n=e,a=t})),n,a])},e.prototype.createDraft=function(e){if(!g(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=D.enter(this),r=this.createProxy(e,void 0);return r[u].isManual=!0,t.leave(),r},e.prototype.finishDraft=function(e,t){var r=e&&e[u];if(!r||!r.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(r.finalized)throw new Error("The given draft is already finalized");var n=r.scope;return n.usePatches(t),B(this,void 0,n)},e.prototype.setAutoFreeze=function(e){this.autoFreeze=e},e.prototype.setUseProxies=function(e){this.useProxies=e},e.prototype.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}return v(e)?re(e,t):this.produce(e,(function(e){return re(e,t.slice(r+1))}))},e.prototype.createProxy=function(e,t){var r=E(e)?function(e,t){return new G(e,t)}(e,t):k(e)?function(e,t){return new ee(e,t)}(e,t):this.useProxies?function(e,t){var r=Array.isArray(e),n={type:r?o.ProxyArray:o.ProxyObject,scope:t?t.scope:D.current,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null,isManual:!1},a=n,i=R;r&&(a=[n],i=T);var s=Proxy.revocable(a,i),l=s.revoke,c=s.proxy;return n.draft=c,n.revoke=l,c}(e,t):q(e,t);return(t?t.scope:D.current).drafts.push(r),r},e.prototype.willFinalize=function(e,t,r){this.useProxies||I(e,t,r)},e.prototype.markChanged=function(e){this.useProxies?z(e):K(e)},e}()),se=ie.produce,le=(ie.produceWithPatches.bind(ie),ie.setAutoFreeze.bind(ie),ie.setUseProxies.bind(ie),ie.applyPatches.bind(ie),ie.createDraft.bind(ie)),ce=ie.finishDraft.bind(ie)}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/is-hotkey/lib/index.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),a={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)i["f"+s]=111+s;function l(e,t,r){!t||"byKey"in t||(r=t,t=null),Array.isArray(e)||(e=[e]);var n=e.map((function(e){return c(e,t)})),a=function(e){return n.some((function(t){return d(t,e)}))};return null==r?a:a(r)}function c(e,t){var r=t&&t.byKey,n={},o=(e=e.replace("++","+add")).split("+"),i=o.length;for(var s in a)n[a[s]]=!1;var l=!0,c=!1,d=void 0;try{for(var p,h=o[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var v=p.value,g=v.endsWith("?")&&v.length>1;g&&(v=v.slice(0,-1));var m=f(v),y=a[m];1!==i&&y||(r?n.key=m:n.which=u(v)),y&&(n[y]=!g||null)}}catch(e){c=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(c)throw d}}return n}function d(e,t){for(var r in e){var n=e[r],a=void 0;if(null!=n&&((null!=(a="key"===r&&null!=t.key?t.key.toLowerCase():"which"===r?91===n&&93===t.which?91:t.which:t[r])||!1!==n)&&a!==n))return!1}return!0}function u(e){return e=f(e),i[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=o[e]||e}t.default=l,t.isHotkey=l,t.isCodeHotkey=function(e,t){return l(e,t)},t.isKeyHotkey=function(e,t){return l(e,{byKey:!0},t)},t.parseHotkey=c,t.compareHotkey=d,t.toKeyCode=u,t.toKeyName=f},"./node_modules/slate-history/dist/index.es.js":function(e,t,r){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}var a=r("./node_modules/slate/dist/index.es.js");r.d(t,"a",(function(){return c}));var o={isHistory(e){return!1!==n(t=e)&&"function"==typeof(r=t.constructor)&&!1!==n(o=r.prototype)&&!1!==o.hasOwnProperty("isPrototypeOf")&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||a.d.isOperationList(e.redos[0]))&&(0===e.undos.length||a.d.isOperationList(e.undos[0]));var t,r,o}},i=(new WeakMap,new WeakMap),s=new WeakMap,l={isHistoryEditor:e=>a.a.isEditor(e)&&o.isHistory(e.history),isMerging:e=>s.get(e),isSaving:e=>i.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var r=l.isMerging(e);s.set(e,!1),t(),s.set(e,r)},withoutSaving(e,t){var r=l.isSaving(e);i.set(e,!1),t(),i.set(e,r)}},c=e=>{var t=e,{apply:r}=t;return t.history={undos:[],redos:[]},t.redo=()=>{var{history:e}=t,{redos:r}=e;if(r.length>0){var n=r[r.length-1];l.withoutSaving(t,()=>{a.a.withoutNormalizing(t,()=>{for(var e of n)t.apply(e)})}),e.redos.pop(),e.undos.push(n)}},t.undo=()=>{var{history:e}=t,{undos:r}=e;if(r.length>0){var n=r[r.length-1];l.withoutSaving(t,()=>{a.a.withoutNormalizing(t,()=>{var e=n.map(a.d.inverse).reverse();for(var r of e)r===e[e.length-1]&&"set_selection"===r.type&&null==r.newProperties||t.apply(r)})}),e.redos.push(n),e.undos.pop()}},t.apply=e=>{var{operations:n,history:a}=t,{undos:o}=a,i=o[o.length-1],s=i&&i[i.length-1],c=f(e,s),h=l.isSaving(t),v=l.isMerging(t);if(null==h&&(h=u(e)),h){if(null==v&&(v=null!=i&&(0!==n.length||(d(e,s)||c))),i&&v)c&&i.pop(),i.push(e);else{var g=[e];o.push(g)}for(;o.length>100;)o.shift();p(e)&&(a.redos=[])}r(e)},t},d=(e,t)=>"set_selection"===e.type||(!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!a.e.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!a.e.equals(e.path,t.path))),u=(e,t)=>"set_selection"!==e.type||null!=e.newProperties,f=(e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type),p=e=>"set_selection"!==e.type},"./node_modules/slate-react/dist/index.es.js":function(e,t,r){"use strict";var n=r("./node_modules/react/index.js"),a=r.n(n),o=r("./node_modules/slate/dist/index.es.js"),i=r("./node_modules/debounce/index.js"),s=r.n(i);function l(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function c(e,t){return(!t||"hidden"!==e)&&("visible"!==e&&"clip"!==e)}function d(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return c(r.overflowY,t)||c(r.overflowX,t)||function(e){var t=function(e){return e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.frameElement:null}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function u(e,t,r,n,a,o,i,s){return o<e&&i>t||o>e&&i<t?0:o<=e&&s<=r||i>=t&&s>=r?o-e-n:i>t&&s<r||o<e&&s>r?i-t+a:0}var f=function(e,t){var r=t.scrollMode,n=t.block,a=t.inline,o=t.boundary,i=t.skipOverflowHiddenElements,s="function"==typeof o?o:function(e){return e!==o};if(!l(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,f=[],p=e;l(p)&&s(p);){if((p=p.parentNode)===c){f.push(p);break}p===document.body&&d(p)&&!d(document.documentElement)||d(p,i)&&f.push(p)}for(var h=window.visualViewport?visualViewport.width:innerWidth,v=window.visualViewport?visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),w=y.height,b=y.width,O=y.top,x=y.right,E=y.bottom,k=y.left,P="start"===n||"nearest"===n?O:"end"===n?E:O+w/2,j="center"===a?k+b/2:"end"===a?x:k,F=[],C=0;C<f.length;C++){var A=f[C],D=A.getBoundingClientRect(),S=D.height,B=D.width,N=D.top,_=D.right,M=D.bottom,R=D.left;if("if-needed"===r&&O>=0&&k>=0&&E<=v&&x<=h&&O>=N&&E<=M&&k>=R&&x<=_)return F;var T=getComputedStyle(A),L=parseInt(T.borderLeftWidth,10),z=parseInt(T.borderTopWidth,10),W=parseInt(T.borderRightWidth,10),I=parseInt(T.borderBottomWidth,10),q=0,V=0,K="offsetWidth"in A?A.offsetWidth-A.clientWidth-L-W:0,H="offsetHeight"in A?A.offsetHeight-A.clientHeight-z-I:0;if(c===A)q="start"===n?P:"end"===n?P-v:"nearest"===n?u(m,m+v,v,z,I,m+P,m+P+w,w):P-v/2,V="start"===a?j:"center"===a?j-h/2:"end"===a?j-h:u(g,g+h,h,L,W,g+j,g+j+b,b),q=Math.max(0,q+m),V=Math.max(0,V+g);else{q="start"===n?P-N-z:"end"===n?P-M+I+H:"nearest"===n?u(N,M,S,z,I+H,P,P+w,w):P-(N+S/2)+H/2,V="start"===a?j-R-L:"center"===a?j-(R+B/2)+K/2:"end"===a?j-_+W+K:u(R,_,B,L,W+K,j,j+b,b);var J=A.scrollLeft,U=A.scrollTop;P+=U-(q=Math.max(0,Math.min(U+q,A.scrollHeight-S+H))),j+=J-(V=Math.max(0,Math.min(J+V,A.scrollWidth-B+K)))}F.push({el:A,top:q,left:V})}return F};function p(e){return e===Object(e)&&0!==Object.keys(e).length}var h=function(e,t){var r=!e.ownerDocument.documentElement.contains(e);if(p(t)&&"function"==typeof t.behavior)return t.behavior(r?[]:f(e,t));if(!r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:p(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,a=e.top,o=e.left;n.scroll&&r?n.scroll({top:a,left:o,behavior:t}):(n.scrollTop=a,n.scrollLeft=o)}))}(f(e,n),n.behavior)}},v=r("./node_modules/direction/index.js"),g=r.n(v),m=r("./node_modules/is-hotkey/lib/index.js"),y=r("./node_modules/@hot-loader/react-dom/index.js"),w=r.n(y);r.d(t,"a",(function(){return se})),r.d(t,"b",(function(){return be})),r.d(t,"c",(function(){return Oe}));const b=e=>{const{isLast:t,leaf:r,parent:n,text:i}=e,s=V(),l=ye.findPath(s,i),c=o.e.parent(l);return s.isVoid(n)?a.a.createElement(x,{length:o.c.string(n).length}):""!==r.text||n.children[n.children.length-1]!==i||s.isInline(n)||""!==o.a.string(s,c)?""===r.text?a.a.createElement(x,null):t&&"\n"===r.text.slice(-1)?a.a.createElement(O,{isTrailing:!0,text:r.text}):a.a.createElement(O,{text:r.text}):a.a.createElement(x,{isLineBreak:!0})},O=e=>{const{text:t,isTrailing:r=!1}=e;return a.a.createElement("span",{"data-slate-string":!0},t,r?"\n":null)},x=e=>{const{length:t=0,isLineBreak:r=!1}=e;return a.a.createElement("span",{"data-slate-zero-width":r?"n":"z","data-slate-length":t},"\ufeff",r?a.a.createElement("br",null):null)};var E=new WeakMap,k=new WeakMap,P=new WeakMap,j=new WeakMap,F=new WeakMap,C=new WeakMap,A=new WeakMap,D=new WeakMap,S=new WeakMap,B=new WeakMap,N=Symbol("placeholder");const _=a.a.memo(e=>{const{leaf:t,isLast:r,text:n,parent:o,renderLeaf:i=(e=>a.a.createElement(M,Object.assign({},e)))}=e;let s=a.a.createElement(b,{isLast:r,leaf:t,parent:o,text:n});t[N]&&(s=a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",verticalAlign:"text-top",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"}},t.placeholder),s));return i({attributes:{"data-slate-leaf":!0},children:s,leaf:t,text:n})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&o.g.matches(t.leaf,e.leaf)),M=e=>{const{attributes:t,children:r}=e;return a.a.createElement("span",Object.assign({},t),r)};var R="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;const T=a.a.memo(e=>{const{decorations:t,isLast:r,parent:i,renderLeaf:s,text:l}=e,c=V(),d=Object(n.useRef)(null),u=o.g.decorations(l,t),f=ye.findKey(c,l),p=[];for(let e=0;e<u.length;e++){const t=u[e];p.push(a.a.createElement(_,{isLast:r&&e===u.length-1,key:`${f.id}-${e}`,leaf:t,text:l,parent:i,renderLeaf:s}))}return R(()=>{d.current?(F.set(f,d.current),C.set(l,d.current),j.set(d.current,l)):(F.delete(f),C.delete(l))}),a.a.createElement("span",{"data-slate-node":"text",ref:d},p)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text);var L=Object(n.createContext)(!1);const z=a.a.memo(e=>{const{decorate:t,decorations:r,element:i,renderElement:s=(e=>a.a.createElement(W,Object.assign({},e))),renderLeaf:l,selection:c}=e,d=Object(n.useRef)(null),u=V(),f=ee(),p=u.isInline(i),h=ye.findKey(u,i);let v=a.a.createElement(K,{decorate:t,decorations:r,node:i,renderElement:s,renderLeaf:l,selection:c});const m={"data-slate-node":"element",ref:d};if(p&&(m["data-slate-inline"]=!0),!p&&o.a.hasInlines(u,i)){const e=o.c.string(i),t=g()(e);"rtl"===t&&(m.dir=t)}if(o.a.isVoid(u,i)){m["data-slate-void"]=!0,!f&&p&&(m.contentEditable=!1);const e=p?"span":"div",[[t]]=o.c.texts(i);v=f?null:a.a.createElement(e,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},a.a.createElement(T,{decorations:[],isLast:!1,parent:i,text:t})),E.set(t,0),k.set(t,i)}return R(()=>{d.current?(F.set(h,d.current),C.set(i,d.current),j.set(d.current,i)):(F.delete(h),C.delete(i))}),a.a.createElement(L.Provider,{value:!!c},s({attributes:m,children:v,element:i}))},(e,t)=>e.decorate===t.decorate&&e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&I(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&o.f.equals(e.selection,t.selection))),W=e=>{const{attributes:t,children:r,element:n}=e,o=V().isInline(n)?"span":"div";return a.a.createElement(o,Object.assign({},t,{style:{position:"relative"}}),r)},I=(e,t)=>{if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const n=e[r],a=t[r];if(!o.f.equals(n,a))return!1}return!0},q=Object(n.createContext)(null),V=()=>{const e=Object(n.useContext)(q);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e},K=e=>{const{decorate:t,decorations:r,node:n,renderElement:i,renderLeaf:s,selection:l}=e,c=V(),d=ye.findPath(c,n),u=[],f=o.b.isElement(n)&&!c.isInline(n)&&o.a.hasInlines(c,n);for(let e=0;e<n.children.length;e++){const p=d.concat(e),h=n.children[e],v=ye.findKey(c,h),g=o.a.range(c,p),m=l&&o.f.intersection(g,l),y=t([h,p]);for(const e of r){const t=o.f.intersection(e,g);t&&y.push(t)}o.b.isElement(h)?u.push(a.a.createElement(z,{decorate:t,decorations:y,element:h,key:v.id,renderElement:i,renderLeaf:s,selection:m})):u.push(a.a.createElement(T,{decorations:y,key:v.id,isLast:f&&e===n.children.length-1,parent:n,renderLeaf:s,text:h})),E.set(h,e),k.set(h,n)}return a.a.createElement(a.a.Fragment,null,u)};"undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream;var H="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),J="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),U="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),$={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},X={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Y={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Z=e=>{var t=$[e],r=X[e],n=Y[e],a=t&&Object(m.isKeyHotkey)(t),o=r&&Object(m.isKeyHotkey)(r),i=n&&Object(m.isKeyHotkey)(n);return e=>!(!a||!a(e))||(!!(H&&o&&o(e))||!(H||!i||!i(e)))},G={isBold:Z("bold"),isCompose:Z("compose"),isMoveBackward:Z("moveBackward"),isMoveForward:Z("moveForward"),isDeleteBackward:Z("deleteBackward"),isDeleteForward:Z("deleteForward"),isDeleteLineBackward:Z("deleteLineBackward"),isDeleteLineForward:Z("deleteLineForward"),isDeleteWordBackward:Z("deleteWordBackward"),isDeleteWordForward:Z("deleteWordForward"),isExtendBackward:Z("extendBackward"),isExtendForward:Z("extendForward"),isExtendLineBackward:Z("extendLineBackward"),isExtendLineForward:Z("extendLineForward"),isItalic:Z("italic"),isMoveLineBackward:Z("moveLineBackward"),isMoveLineForward:Z("moveLineForward"),isMoveWordBackward:Z("moveWordBackward"),isMoveWordForward:Z("moveWordForward"),isRedo:Z("redo"),isSplitBlock:Z("splitBlock"),isTransposeCharacter:Z("transposeCharacter"),isUndo:Z("undo")},Q=Object(n.createContext)(!1),ee=()=>Object(n.useContext)(Q);const te=Object(n.createContext)(null);var re=e=>ae(e)&&8===e.nodeType,ne=e=>ae(e)&&1===e.nodeType,ae=e=>e instanceof Node,oe=e=>ae(e)&&3===e.nodeType,ie=(e,t,r)=>{for(var{childNodes:n}=e,a=n[t],o=t,i=!1,s=!1;(re(a)||ne(a)&&0===a.childNodes.length||ne(a)&&"false"===a.getAttribute("contenteditable"))&&(!i||!s);)o>=n.length?(i=!0,o=t-1,r="backward"):o<0?(s=!0,o=t+1,r="forward"):(a=n[o],o+="forward"===r?1:-1);return a};const se=e=>{const{autoFocus:t,decorate:r=le,onDOMBeforeInput:i,placeholder:l,readOnly:c=!1,renderElement:d,renderLeaf:u,style:f={},as:p="div",...v}=e,g=(()=>{const e=Object(n.useContext)(te);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");const[t]=e;return t})(),m=Object(n.useRef)(null);D.set(g,c);const y=Object(n.useMemo)(()=>({isComposing:!1,isUpdatingSelection:!1,latestElement:null}),[]);R(()=>{m.current?(P.set(g,m.current),C.set(g,m.current),j.set(m.current,g)):C.delete(g)}),R(()=>(window.document.addEventListener("selectionchange",b),()=>{window.document.removeEventListener("selectionchange",b)}),[]),R(()=>(m.current&&m.current.addEventListener("beforeinput",w),()=>{m.current&&m.current.removeEventListener("beforeinput",w)}),[]),R(()=>{const{selection:e}=g,t=window.getSelection();if(y.isComposing||!t||!ye.isFocused(g))return;const r="None"!==t.type;if(!e&&!r)return;const n=e&&ye.toDOMRange(g,e);if(r&&n&&ce(t.getRangeAt(0),n))return;const a=ye.toDOMNode(g,g);if(y.isUpdatingSelection=!0,t.removeAllRanges(),n){t.addRange(n);const e=n.startContainer.parentElement;h(e,{scrollMode:"if-needed"})}setTimeout(()=>{n&&J&&a.focus(),y.isUpdatingSelection=!1})}),Object(n.useEffect)(()=>{m.current&&t&&m.current.focus()},[t]);const w=Object(n.useCallback)(e=>{if(!c&&ue(g,e.target)&&!pe(e,i)){const{selection:t}=g,{inputType:r}=e,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;if(e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){const[r]=e.getTargetRanges();if(r){const e=ye.toSlateRange(g,r);t&&o.f.equals(t,e)||o.h.select(g,e)}}if(t&&o.f.isExpanded(t)&&r.startsWith("delete"))return void o.a.deleteFragment(g);switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":o.a.deleteFragment(g);break;case"deleteContent":case"deleteContentForward":o.a.deleteForward(g);break;case"deleteContentBackward":o.a.deleteBackward(g);break;case"deleteEntireSoftLine":o.a.deleteBackward(g,{unit:"line"}),o.a.deleteForward(g,{unit:"line"});break;case"deleteHardLineBackward":o.a.deleteBackward(g,{unit:"block"});break;case"deleteSoftLineBackward":o.a.deleteBackward(g,{unit:"line"});break;case"deleteHardLineForward":o.a.deleteForward(g,{unit:"block"});break;case"deleteSoftLineForward":o.a.deleteForward(g,{unit:"line"});break;case"deleteWordBackward":o.a.deleteBackward(g,{unit:"word"});break;case"deleteWordForward":o.a.deleteForward(g,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":o.a.insertBreak(g);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":n instanceof DataTransfer?ye.insertData(g,n):"string"==typeof n&&o.a.insertText(g,n)}}},[]),b=Object(n.useCallback)(s()(()=>{if(!c&&!y.isComposing&&!y.isUpdatingSelection){const{activeElement:e}=window.document,t=ye.toDOMNode(g,g),r=window.getSelection(),n=r&&r.rangeCount>0&&r.getRangeAt(0);if(e===t?(y.latestElement=e,S.set(g,!0)):S.delete(g),n&&ue(g,n.startContainer)&&ue(g,n.endContainer)){const e=ye.toSlateRange(g,n);o.h.select(g,e)}else o.h.deselect(g)}},100),[]),O=r([g,[]]);if(l&&1===g.children.length&&1===Array.from(o.c.texts(g)).length&&""===o.c.string(g)){const e=o.a.start(g,[]);O.push({[N]:!0,placeholder:l,anchor:e,focus:e})}return a.a.createElement(Q.Provider,{value:c},a.a.createElement(p,Object.assign({"data-gramm":!1,role:c?void 0:"textbox"},v,{spellCheck:J?void 0:v.spellCheck,autoCorrect:J?void 0:v.autoCorrect,autoCapitalize:J?void 0:v.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!c||void 0,suppressContentEditableWarning:!0,ref:m,style:{outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word",...f},onBeforeInput:Object(n.useCallback)(e=>{if(J&&!c){e.preventDefault();const t=e.data;o.a.insertText(g,t)}},[c]),onBlur:Object(n.useCallback)(e=>{if(c||y.isUpdatingSelection||!ue(g,e.target)||fe(e,v.onBlur))return;if(y.latestElement===window.document.activeElement)return;const{relatedTarget:t}=e;if(!(t===ye.toDOMNode(g,g)||ne(t)&&t.hasAttribute("data-slate-spacer"))){if(null!=t&&ae(t)&&ye.hasDOMNode(g,t)){const e=ye.toSlateNode(g,t);if(o.b.isElement(e)&&!g.isVoid(e))return}S.delete(g)}},[c,v.onBlur]),onClick:Object(n.useCallback)(e=>{if(!c&&de(g,e.target)&&!fe(e,v.onClick)&&ae(e.target)){const t=ye.toSlateNode(g,e.target),r=ye.findPath(g,t),n=o.a.start(g,r);if(o.a.void(g,{at:n})){const e=o.a.range(g,n);o.h.select(g,e)}}},[c,v.onClick]),onCompositionEnd:Object(n.useCallback)(e=>{ue(g,e.target)&&!fe(e,v.onCompositionEnd)&&(y.isComposing=!1,U||J||!e.data||o.a.insertText(g,e.data))},[v.onCompositionEnd]),onCompositionStart:Object(n.useCallback)(e=>{ue(g,e.target)&&!fe(e,v.onCompositionStart)&&(y.isComposing=!0)},[v.onCompositionStart]),onCopy:Object(n.useCallback)(e=>{ue(g,e.target)&&!fe(e,v.onCopy)&&(e.preventDefault(),he(e.clipboardData,g))},[v.onCopy]),onCut:Object(n.useCallback)(e=>{if(!c&&ue(g,e.target)&&!fe(e,v.onCut)){e.preventDefault(),he(e.clipboardData,g);const{selection:t}=g;t&&o.f.isExpanded(t)&&o.a.deleteFragment(g)}},[c,v.onCut]),onDragOver:Object(n.useCallback)(e=>{if(de(g,e.target)&&!fe(e,v.onDragOver)){const t=ye.toSlateNode(g,e.target);o.a.isVoid(g,t)&&e.preventDefault()}},[v.onDragOver]),onDragStart:Object(n.useCallback)(e=>{if(de(g,e.target)&&!fe(e,v.onDragStart)){const t=ye.toSlateNode(g,e.target),r=ye.findPath(g,t);if(o.a.void(g,{at:r})){const e=o.a.range(g,r);o.h.select(g,e)}he(e.dataTransfer,g)}},[v.onDragStart]),onDrop:Object(n.useCallback)(e=>{if(de(g,e.target)&&!c&&!fe(e,v.onDrop)&&(J||!U&&e.dataTransfer.files.length>0)){e.preventDefault();const t=ye.findEventRange(g,e),r=e.dataTransfer;o.h.select(g,t),ye.insertData(g,r)}},[c,v.onDrop]),onFocus:Object(n.useCallback)(e=>{if(!c&&!y.isUpdatingSelection&&ue(g,e.target)&&!fe(e,v.onFocus)){const t=ye.toDOMNode(g,g);if(y.latestElement=window.document.activeElement,J&&e.target!==t)return void t.focus();S.set(g,!0)}},[c,v.onFocus]),onKeyDown:Object(n.useCallback)(e=>{if(!c&&ue(g,e.target)&&!fe(e,v.onKeyDown)){const{nativeEvent:t}=e,{selection:r}=g;if(G.isRedo(t))return e.preventDefault(),void(g.redo&&g.redo());if(G.isUndo(t))return e.preventDefault(),void(g.undo&&g.undo());if(G.isMoveLineBackward(t))return e.preventDefault(),void o.h.move(g,{unit:"line",reverse:!0});if(G.isMoveLineForward(t))return e.preventDefault(),void o.h.move(g,{unit:"line"});if(G.isExtendLineBackward(t))return e.preventDefault(),void o.h.move(g,{unit:"line",edge:"focus",reverse:!0});if(G.isExtendLineForward(t))return e.preventDefault(),void o.h.move(g,{unit:"line",edge:"focus"});if(G.isMoveBackward(t))return e.preventDefault(),void(r&&o.f.isCollapsed(r)?o.h.move(g,{reverse:!0}):o.h.collapse(g,{edge:"start"}));if(G.isMoveForward(t))return e.preventDefault(),void(r&&o.f.isCollapsed(r)?o.h.move(g):o.h.collapse(g,{edge:"end"}));if(G.isMoveWordBackward(t))return e.preventDefault(),void o.h.move(g,{unit:"word",reverse:!0});if(G.isMoveWordForward(t))return e.preventDefault(),void o.h.move(g,{unit:"word"});if(J){if(G.isBold(t)||G.isItalic(t)||G.isTransposeCharacter(t))return void e.preventDefault();if(G.isSplitBlock(t))return e.preventDefault(),void o.a.insertBreak(g);if(G.isDeleteBackward(t))return e.preventDefault(),void(r&&o.f.isExpanded(r)?o.a.deleteFragment(g):o.a.deleteBackward(g));if(G.isDeleteForward(t))return e.preventDefault(),void(r&&o.f.isExpanded(r)?o.a.deleteFragment(g):o.a.deleteForward(g));if(G.isDeleteLineBackward(t))return e.preventDefault(),void(r&&o.f.isExpanded(r)?o.a.deleteFragment(g):o.a.deleteBackward(g,{unit:"line"}));if(G.isDeleteLineForward(t))return e.preventDefault(),void(r&&o.f.isExpanded(r)?o.a.deleteFragment(g):o.a.deleteForward(g,{unit:"line"}));if(G.isDeleteWordBackward(t))return e.preventDefault(),void(r&&o.f.isExpanded(r)?o.a.deleteFragment(g):o.a.deleteBackward(g,{unit:"word"}));if(G.isDeleteWordForward(t))return e.preventDefault(),void(r&&o.f.isExpanded(r)?o.a.deleteFragment(g):o.a.deleteForward(g,{unit:"word"}))}}},[c,v.onKeyDown]),onPaste:Object(n.useCallback)(e=>{J&&!c&&ue(g,e.target)&&!fe(e,v.onPaste)&&(e.preventDefault(),ye.insertData(g,e.clipboardData))},[c,v.onPaste])}),a.a.createElement(K,{decorate:r,decorations:O,node:g,renderElement:d,renderLeaf:u,selection:g.selection})))},le=()=>[],ce=(e,t)=>e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset||e.startContainer===t.endContainer&&e.startOffset===t.endOffset&&e.endContainer===t.startContainer&&e.endOffset===t.startOffset,de=(e,t)=>ae(t)&&ye.hasDOMNode(e,t),ue=(e,t)=>ae(t)&&ye.hasDOMNode(e,t,{editable:!0}),fe=(e,t)=>!!t&&(t(e),e.isDefaultPrevented()||e.isPropagationStopped()),pe=(e,t)=>!!t&&(t(e),e.defaultPrevented),he=(e,t)=>{const{selection:r}=t;if(!r)return;const[n,a]=o.f.edges(r),i=o.a.void(t,{at:n.path}),s=o.a.void(t,{at:a.path});if(o.f.isCollapsed(r)&&!i)return;const l=ye.toDOMRange(t,r);let c=l.cloneContents(),d=c.childNodes[0];if(c.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(d=e)}),s){const[e]=s,r=l.cloneRange(),n=ye.toDOMNode(t,e);r.setEndAfter(n),c=r.cloneContents()}if(i&&(d=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{const t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),oe(d)){const e=document.createElement("span");e.style.whiteSpace="pre",e.appendChild(d),c.appendChild(e),d=e}const u=o.c.fragment(t,r),f=JSON.stringify(u),p=window.btoa(encodeURIComponent(f));d.setAttribute("data-slate-fragment",p),e.setData("application/x-slate-fragment",p);const h=document.createElement("div");h.appendChild(c),e.setData("text/html",h.innerHTML),e.setData("text/plain",ve(h))},ve=e=>{let t="";if(oe(e)&&e.nodeValue)return e.nodeValue;if(ne(e)){for(const r of Array.from(e.childNodes))t+=ve(r);const r=getComputedStyle(e).getPropertyValue("display");"block"!==r&&"list"!==r&&"BR"!==e.tagName||(t+="\n")}return t};var ge=0;class me{constructor(){this.id="".concat(ge++)}}var ye={findKey(e,t){var r=A.get(t);return r||(r=new me,A.set(t,r)),r},findPath(e,t){for(var r=[],n=t;;){var a=k.get(n);if(null==a){if(o.a.isEditor(n))return r;break}var i=E.get(n);if(null==i)break;r.unshift(i),n=a}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:e=>!!S.get(e),isReadOnly:e=>!!D.get(e),blur(e){var t=ye.toDOMNode(e,e);S.set(e,!1),window.document.activeElement===t&&t.blur()},focus(e){var t=ye.toDOMNode(e,e);S.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&o.h.deselect(e)},hasDOMNode(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:a=!1}=n,o=ye.toDOMNode(e,e);try{r=ne(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&(r.closest("[data-slate-editor]")===o&&(!a||o.isContentEditable))},insertData(e,t){e.insertData(t)},toDOMNode(e,t){var r=o.a.isEditor(t)?P.get(e):F.get(ye.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint(e,t){var r,[n]=o.a.node(e,t.path),a=ye.toDOMNode(e,n);o.a.void(e,{at:t})&&(t={path:t.path,offset:0});var i=Array.from(a.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),s=0;for(var l of i){var c=l.childNodes[0];if(null!=c&&null!=c.textContent){var{length:d}=c.textContent,u=l.getAttribute("data-slate-length"),f=s+(null==u?d:parseInt(u,10));if(t.offset<=f){r=[c,Math.min(d,Math.max(0,t.offset-s))];break}s=f}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange(e,t){var{anchor:r,focus:n}=t,a=ye.toDOMPoint(e,r),i=o.f.isCollapsed(t)?a:ye.toDOMPoint(e,n),s=window.document.createRange(),l=o.f.isBackward(t)?i:a,c=o.f.isBackward(t)?a:i;return s.setStart(l[0],l[1]),s.setEnd(c[0],c[1]),s},toSlateNode(e,t){var r=ne(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?j.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:a}=t;if(null==r||null==n)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i,s=ye.toSlateNode(e,t.target),l=ye.findPath(e,s);if(o.a.isVoid(e,s)){var c=a.getBoundingClientRect(),d=e.isInline(s)?r-c.left<c.left+c.width-r:n-c.top<c.top+c.height-n,u=o.a.point(e,l,{edge:d?"start":"end"}),f=d?o.a.before(e,u):o.a.after(e,u);if(f)return o.a.range(e,f)}var{document:p}=window;if(p.caretRangeFromPoint)i=p.caretRangeFromPoint(r,n);else{var h=p.caretPositionFromPoint(r,n);h&&((i=p.createRange()).setStart(h.offsetNode,h.offset),i.setEnd(h.offsetNode,h.offset))}if(!i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return ye.toSlateRange(e,i)},toSlatePoint(e,t){var[r,n]=(e=>{var[t,r]=e;if(ne(t)&&t.childNodes.length){var n=r===t.childNodes.length,a=n?"backward":"forward";for(t=ie(t,n?r-1:r,a);ne(t)&&t.childNodes.length;){var o=n?t.childNodes.length-1:0;t=ie(t,o,a)}r=n&&null!=t.textContent?t.textContent.length:0}return[t,r]})(t),a=r.parentNode,o=null,i=0;if(a){var s=a.closest('[data-slate-void="true"]'),l=a.closest("[data-slate-leaf]"),c=null;if(l){o=l.closest('[data-slate-node="text"]');var d=window.document.createRange();d.setStart(o,0),d.setEnd(r,n);var u=d.cloneContents();[...u.querySelectorAll("[data-slate-zero-width]"),...u.querySelectorAll("[contenteditable=false]")].forEach(e=>{e.parentNode.removeChild(e)}),i=u.textContent.length,c=o}else s&&(o=(l=s.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),i=(c=l).textContent.length);c&&i===c.textContent.length&&a.hasAttribute("data-slate-zero-width")&&i--}if(!o)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var f=ye.toSlateNode(e,o);return{path:ye.findPath(e,f),offset:i}},toSlateRange(e,t){var r,n,a,o,i;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,a=t.focusNode,o=t.focusOffset,i=t.isCollapsed):(r=t.startContainer,n=t.startOffset,a=t.endContainer,o=t.endOffset,i=t.collapsed)),null==r||null==a||null==n||null==o)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var s=ye.toSlatePoint(e,[r,n]);return{anchor:s,focus:i?s:ye.toSlatePoint(e,[a,o])}}},we=Object(n.createContext)(!1);const be=e=>{const{editor:t,children:r,onChange:o,value:i,...s}=e,[l,c]=Object(n.useState)(0),d=Object(n.useMemo)(()=>(t.children=i,Object.assign(t,s),[t]),[l,i,...Object.values(s)]),u=Object(n.useCallback)(()=>{o(t.children),c(l+1)},[l,o]);return B.set(t,u),a.a.createElement(te.Provider,{value:d},a.a.createElement(q.Provider,{value:t},a.a.createElement(we.Provider,{value:ye.isFocused(t)},r)))};var Oe=e=>{var t=e,{apply:r,onChange:n}=t;return t.apply=e=>{var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[a,i]of o.a.levels(t,{at:e.path})){var s=ye.findKey(t,a);n.push([i,s])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[l,c]of o.a.levels(t,{at:o.e.parent(e.path)})){var d=ye.findKey(t,l);n.push([c,d])}}for(var[u,f]of(r(e),n)){var[p]=o.a.node(t,u);A.set(p,f)}},t.insertData=e=>{var r=e.getData("application/x-slate-fragment");if(r){var n=decodeURIComponent(window.atob(r)),a=JSON.parse(n);o.h.insertFragment(t,a)}else{var i=e.getData("text/plain");if(i){var s=i.split("\n"),l=!1;for(var c of s)l&&o.h.splitNodes(t),o.h.insertText(t,c),l=!0}}},t.onChange=()=>{w.a.unstable_batchedUpdates(()=>{var e=B.get(t);e&&e(),n()})},t}},"./node_modules/slate/dist/index.es.js":function(e,t,r){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function a(e){var t,r;return!1!==n(e)&&("function"==typeof(t=e.constructor)&&(!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}var o=r("./node_modules/immer/dist/immer.module.js"),i=r("./node_modules/esrever/esrever.js");function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return D})),r.d(t,"b",(function(){return S})),r.d(t,"c",(function(){return N})),r.d(t,"d",(function(){return R})),r.d(t,"e",(function(){return T})),r.d(t,"f",(function(){return V})),r.d(t,"g",(function(){return U})),r.d(t,"h",(function(){return re})),r.d(t,"i",(function(){return g}));var l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakMap;function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=()=>{var e={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:t=>{for(var r of D.pathRefs(e))L.transform(r,t);for(var n of D.pointRefs(e))I.transform(n,t);for(var a of D.rangeRefs(e))K.transform(a,t);var o=new Set,i=[],s=e=>{if(e){var t=e.join(",");o.has(t)||(o.add(t),i.push(e))}},d=l.get(e)||[],u=m(t);for(var f of d){s(T.transform(f,t))}for(var p of u)s(p);l.set(e,i),D.transform(e,t),e.operations.push(t),D.normalize(e),"set_selection"===t.type&&(e.marks=null),c.get(e)||(c.set(e,!0),Promise.resolve().then(()=>{c.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,r)=>{var{selection:n}=e;if(n)if(V.isExpanded(n))re.setNodes(e,{[t]:r},{match:U.isText,split:!0});else{var a=v({},D.marks(e)||{},{[t]:r});e.marks=a,e.onChange()}},deleteBackward:t=>{var{selection:r}=e;r&&V.isCollapsed(r)&&re.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:r}=e;r&&V.isCollapsed(r)&&re.delete(e,{unit:t})},deleteFragment:()=>{var{selection:t}=e;t&&V.isExpanded(t)&&re.delete(e)},insertBreak:()=>{re.splitNodes(e,{always:!0})},insertFragment:t=>{re.insertFragment(e,t)},insertNode:t=>{re.insertNodes(e,t)},insertText:t=>{var{selection:r,marks:n}=e;if(r){if(V.isCollapsed(r)){var a=D.above(e,{match:t=>D.isInline(e,t),mode:"highest"});if(a){var[,o]=a;if(D.isEnd(e,r.anchor,o)){var i=D.after(e,o);re.setSelection(e,{anchor:i,focus:i})}}}if(n){var s=v({text:t},n);re.insertNodes(e,s)}else re.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[r,n]=t;if(!U.isText(r))if(S.isElement(r)&&0===r.children.length){re.insertNodes(e,{text:""},{at:n.concat(0),voids:!0})}else for(var a=!D.isEditor(r)&&(S.isElement(r)&&(e.isInline(r)||0===r.children.length||U.isText(r.children[0])||e.isInline(r.children[0]))),o=0,i=0;i<r.children.length;i++,o++){var s=r.children[i],l=r.children[i-1],c=i===r.children.length-1;if((U.isText(s)||S.isElement(s)&&e.isInline(s))!==a)re.removeNodes(e,{at:n.concat(o),voids:!0}),o--;else if(S.isElement(s)){if(e.isInline(s))if(null!=l&&U.isText(l)){if(c){re.insertNodes(e,{text:""},{at:n.concat(o+1),voids:!0}),o++}}else{re.insertNodes(e,{text:""},{at:n.concat(o),voids:!0}),o++}}else null!=l&&U.isText(l)&&(U.equals(s,l,{loose:!0})?(re.mergeNodes(e,{at:n.concat(o),voids:!0}),o--):""===l.text?(re.removeNodes(e,{at:n.concat(o-1),voids:!0}),o--):c&&""===s.text&&(re.removeNodes(e,{at:n.concat(o),voids:!0}),o--))}},removeMark:t=>{var{selection:r}=e;if(r)if(V.isExpanded(r))re.unsetNodes(e,t,{match:U.isText,split:!0});else{var n=v({},D.marks(e)||{});delete n[t],e.marks=n,e.onChange()}}};return e},m=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return T.levels(t);case"insert_node":var{node:r,path:n}=e;return[...T.levels(n),...U.isText(r)?[]:Array.from(N.nodes(r),e=>{var[,t]=e;return n.concat(t)})];case"merge_node":var{path:a}=e;return[...T.ancestors(a),T.previous(a)];case"move_node":var{path:o,newPath:i}=e;if(T.equals(o,i))return[];var s=[],l=[];for(var c of T.ancestors(o)){var d=T.transform(c,e);s.push(d)}for(var u of T.ancestors(i)){var f=T.transform(u,e);l.push(f)}return[...s,...l];case"remove_node":var{path:p}=e;return[...T.ancestors(p)];case"split_node":var{path:h}=e;return[...T.levels(h),T.next(h)];default:return[]}};function y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var w=/\s/,b=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,O=/['\u2018\u2019]/,x=e=>{for(var t=0,r=null,n=e.charCodeAt(0);n;)if(k(n)){var a=P(n,e,t);if("SURR"===r||"BMP"===r)break;t+=2,r=a?"MOD":"SURR",n=e.charCodeAt(t)}else if(8205!==n)if(F(n)){if(r&&"ZWJ"!==r&&"VAR"!==r)break;t+=1,r="BMP",n=e.charCodeAt(t)}else{if(!j(n)){if("MOD"===r){t+=1;break}break}if(r&&"ZWJ"!==r)break;t+=1,r="VAR",n=e.charCodeAt(t)}else t+=1,r="ZWJ",n=e.charCodeAt(t);return t||1},E=(e,t)=>{if(w.test(e))return!1;if(O.test(e)){var r=t.charAt(0),n=x(r);r=t.slice(0,n);var a=t.slice(n);if(E(r,a))return!0}return!b.test(e)},k=e=>55296<=e&&e<=57343,P=(e,t,r)=>{if(55356===e){var n=t.charCodeAt(r+1);return n<=57343&&n>=57339}return!1},j=e=>e<=65039&&e>=65024,F=e=>10084===e||9794===e||9792===e||9760===e||9877===e||9992===e||9711===e;function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:r=!1,mode:n="lowest",at:a=e.selection,match:o}=t;if(a){var i=D.path(e,a),s="lowest"===n;for(var[l,c]of D.levels(e,{at:i,voids:r,match:o,reverse:s}))if(!U.isText(l)&&!T.equals(i,c))return[l,c]}},addMark(e,t,r){e.addMark(t,r)},after(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={anchor:D.point(e,t,{edge:"end"}),focus:D.end(e,[])},{distance:o=1}=n,i=0;for(var s of D.positions(e,A({},n,{at:a}))){if(i>o)break;0!==i&&(r=s),i++}return r},before(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={anchor:D.start(e,[]),focus:D.point(e,t,{edge:"start"})},{distance:o=1}=n,i=0;for(var s of D.positions(e,A({},n,{at:a,reverse:!0}))){if(i>o)break;0!==i&&(r=s),i++}return r},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e){e.deleteFragment()},edges:(e,t)=>[D.start(e,t),D.end(e,t)],end:(e,t)=>D.point(e,t,{edge:"end"}),first(e,t){var r=D.path(e,t,{edge:"start"});return D.node(e,r)},fragment(e,t){var r=D.range(e,t);return N.fragment(e,r)},hasBlocks:(e,t)=>t.children.some(t=>D.isBlock(e,t)),hasInlines:(e,t)=>t.children.some(t=>U.isText(t)||D.isInline(e,t)),hasTexts:(e,t)=>t.children.every(e=>U.isText(e)),insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>S.isElement(t)&&!e.isInline(t),isEditor:e=>a(e)&&"function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||a(e.marks))&&(null===e.selection||V.isRange(e.selection))&&N.isNodeList(e.children)&&R.isOperationList(e.operations),isEnd(e,t,r){var n=D.end(e,r);return W.equals(t,n)},isEdge:(e,t,r)=>D.isStart(e,t,r)||D.isEnd(e,t,r),isEmpty(e,t){var{children:r}=t,[n]=r;return 0===r.length||1===r.length&&U.isText(n)&&""===n.text&&!e.isVoid(t)},isInline:(e,t)=>S.isElement(t)&&e.isInline(t),isNormalizing(e){var t=d.get(e);return void 0===t||t},isStart(e,t,r){if(0!==t.offset)return!1;var n=D.start(e,r);return W.equals(t,n)},isVoid:(e,t)=>S.isElement(t)&&e.isVoid(t),last(e,t){var r=D.path(e,t,{edge:"end"});return D.node(e,r)},leaf(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=D.path(e,t,r);return[N.leaf(e,n),n]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,reverse:n=!1,voids:a=!1}=t,{match:o}=t;if(null==o&&(o=()=>!0),r){var i=[],s=D.path(e,r);for(var[l,c]of N.levels(e,s))if(o(l)&&(i.push([l,c]),!a&&D.isVoid(e,l)))break;n&&i.reverse(),yield*i}},marks(e){var{marks:t,selection:r}=e;if(!r)return null;if(t)return t;if(V.isExpanded(r)){var[n]=D.nodes(e,{match:U.isText});if(n){var[a]=n;return y(a,["text"])}return{}}var{anchor:o}=r,{path:i}=o,[s]=D.leaf(e,i);if(0===o.offset){var l=D.previous(e,{at:i,match:U.isText}),c=D.above(e,{match:t=>D.isBlock(e,t)});if(l&&c){var[d,u]=l,[,f]=c;T.isAncestor(f,u)&&(s=d)}}return y(s,["text"])},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:a,at:o=e.selection}=t;if(o){var[,i]=D.last(e,o),[,s]=D.last(e,[]),l=[i,s];if(T.isPath(o)&&0===o.length)throw new Error("Cannot get the next node from the root node!");if(null==a)if(T.isPath(o)){var[c]=D.parent(e,o);a=e=>c.children.includes(e)}else a=()=>!0;var[,d]=D.nodes(e,{at:l,match:a,mode:r,voids:n});return d}},node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=D.path(e,t,r);return[N.get(e,n),n]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,mode:n="all",universal:a=!1,reverse:o=!1,voids:i=!1}=t,{match:s}=t;if(s||(s=()=>!0),r){var l,c;if(B.isSpan(r))l=r[0],c=r[1];else{var d=D.path(e,r,{edge:"start"}),u=D.path(e,r,{edge:"end"});l=o?u:d,c=o?d:u}var f,p=N.nodes(e,{reverse:o,from:l,to:c,pass:t=>{var[r]=t;return!i&&D.isVoid(e,r)}}),h=[];for(var[v,g]of p){var m=f&&0===T.compare(g,f[1]);if("highest"!==n||!m)if(s(v))if("lowest"===n&&m)f=[v,g];else{var y="lowest"===n?f:[v,g];y&&(a?h.push(y):yield y),f=[v,g]}else if(a&&!m&&U.isText(v))return}"lowest"===n&&f&&(a?h.push(f):yield f),a&&(yield*h)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:r=!1}=t,n=e=>l.get(e)||[];if(D.isNormalizing(e)){if(r){var a=Array.from(N.nodes(e),e=>{var[,t]=e;return t});l.set(e,a)}0!==n(e).length&&D.withoutNormalizing(e,()=>{for(var t=42*n(e).length,r=0;0!==n(e).length;){if(r>t)throw new Error("\n            Could not completely normalize the editor after ".concat(t," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var a=n(e).pop(),o=D.node(e,a);e.normalizeNode(o),r++}})}},parent(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=D.path(e,t,r),a=T.parent(n);return D.node(e,a)},path(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:n,edge:a}=r;if(T.isPath(t))if("start"===a){var[,o]=N.first(e,t);t=o}else if("end"===a){var[,i]=N.last(e,t);t=i}return V.isRange(t)&&(t="start"===a?V.start(t):"end"===a?V.end(t):T.common(t.anchor.path,t.focus.path)),W.isPoint(t)&&(t=t.path),null!=n&&(t=t.slice(0,n)),t},pathRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return D.pathRefs(e).delete(a),a.current=null,t}};return D.pathRefs(e).add(a),a},pathRefs(e){var t=u.get(e);return t||(t=new Set,u.set(e,t)),t},point(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:n="start"}=r;if(T.isPath(t)){var a;if("end"===n){var[,o]=N.last(e,t);a=o}else{var[,i]=N.first(e,t);a=i}var s=N.get(e,a);if(!U.isText(s))throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."));return{path:a,offset:"end"===n?s.text.length:0}}if(V.isRange(t)){var[l,c]=V.edges(t);return"start"===n?l:c}return t},pointRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return D.pointRefs(e).delete(a),a.current=null,t}};return D.pointRefs(e).add(a),a},pointRefs(e){var t=f.get(e);return t||(t=new Set,f.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:r=e.selection,unit:n="offset",reverse:a=!1}=t;if(r){var o=D.range(e,r),[s,l]=V.edges(o),c=a?l:s,d="",u=0,f=0,p=null,h=!1,v=()=>{null==p&&(p="character"===n?x(d):"word"===n?(e=>{for(var t,r=0,n=0,a=!1;t=e.charAt(n);){var o=x(t);t=e.slice(n,n+o);var i=e.slice(n+o);if(E(t,i))a=!0,r+=o;else{if(a)break;r+=o}n+=o}return r})(d):"line"===n||"block"===n?d.length:1,d=d.slice(p)),f=a?f-p:f+p,p=(u-=p)>=0?null:0-u};for(var[g,m]of D.nodes(e,{at:r,reverse:a})){if(S.isElement(g)){if(e.isVoid(g)){yield D.start(e,m);continue}if(e.isInline(g))continue;if(D.hasInlines(e,g)){var y=T.isAncestor(m,l.path)?l:D.end(e,m),w=T.isAncestor(m,s.path)?s:D.start(e,m),b=D.string(e,{anchor:w,focus:y});d=a?Object(i.reverse)(b):b,h=!0}}if(U.isText(g)){var O=T.equals(m,c.path);for(u=g.text.length,f=a?u:0,O&&(u=a?c.offset:u-c.offset,f=c.offset),(O||h||"offset"===n)&&(yield{path:m,offset:f});""!==d&&(v(),u>=0);)yield{path:m,offset:f};h=!1}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:r="lowest",voids:n=!1}=t,{match:a,at:o=e.selection}=t;if(o){var[,i]=D.first(e,o),[,s]=D.first(e,[]),l=[i,s];if(T.isPath(o)&&0===o.length)throw new Error("Cannot get the previous node from the root node!");if(null==a)if(T.isPath(o)){var[c]=D.parent(e,o);a=e=>c.children.includes(e)}else a=()=>!0;var[,d]=D.nodes(e,{reverse:!0,at:l,match:a,mode:r,voids:n});return d}},range:(e,t,r)=>V.isRange(t)&&!r?t:{anchor:D.start(e,t),focus:D.end(e,r||t)},rangeRef(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:n="forward"}=r,a={current:t,affinity:n,unref(){var{current:t}=a;return D.rangeRefs(e).delete(a),a.current=null,t}};return D.rangeRefs(e).add(a),a},rangeRefs(e){var t=p.get(e);return t||(t=new Set,p.set(e,t)),t},removeMark(e,t){e.removeMark(t)},start:(e,t)=>D.point(e,t,{edge:"start"}),string(e,t){var r=D.range(e,t),[n,a]=V.edges(r),o="";for(var[i,s]of D.nodes(e,{at:r,match:U.isText})){var l=i.text;T.equals(s,a.path)&&(l=l.slice(0,a.offset)),T.equals(s,n.path)&&(l=l.slice(n.offset)),o+=l}return o},transform(e,t){e.children=Object(o.a)(e.children);var r=e.selection&&Object(o.a)(e.selection);switch(t.type){case"insert_node":var{path:n,node:a}=t,i=N.parent(e,n),s=n[n.length-1];if(i.children.splice(s,0,a),r)for(var[l,c]of V.points(r))r[c]=W.transform(l,t);break;case"insert_text":var{path:d,offset:u,text:f}=t,p=N.leaf(e,d),h=p.text.slice(0,u),v=p.text.slice(u);if(p.text=h+f+v,r)for(var[g,m]of V.points(r))r[m]=W.transform(g,t);break;case"merge_node":var{path:y}=t,w=N.get(e,y),b=T.previous(y),O=N.get(e,b),x=N.parent(e,y),E=y[y.length-1];if(U.isText(w)&&U.isText(O))O.text+=w.text;else{if(U.isText(w)||U.isText(O))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interaces: ").concat(w," ").concat(O));O.children.push(...w.children)}if(x.children.splice(E,1),r)for(var[k,P]of V.points(r))r[P]=W.transform(k,t);break;case"move_node":var{path:j,newPath:F}=t;if(T.isAncestor(j,F))throw new Error("Cannot move a path [".concat(j,"] to new path [").concat(F,"] because the destination is inside itself."));var C=N.get(e,j),D=N.parent(e,j),S=j[j.length-1];D.children.splice(S,1);var B=T.transform(j,t),_=N.get(e,T.parent(B)),M=B[B.length-1];if(_.children.splice(M,0,C),r)for(var[R,L]of V.points(r))r[L]=W.transform(R,t);break;case"remove_node":var{path:z}=t,I=z[z.length-1];if(N.parent(e,z).children.splice(I,1),r)for(var[q,K]of V.points(r)){var H=W.transform(q,t);if(null!=r&&null!=H)r[K]=H;else{var J=void 0,$=void 0;for(var[X,Y]of N.texts(e)){if(-1!==T.compare(Y,z)){$=[X,Y];break}J=[X,Y]}J?(q.path=J[1],q.offset=J[0].text.length):$?(q.path=$[1],q.offset=0):r=null}}break;case"remove_text":var{path:Z,offset:G,text:Q}=t,ee=N.leaf(e,Z),te=ee.text.slice(0,G),re=ee.text.slice(G+Q.length);if(ee.text=te+re,r)for(var[ne,ae]of V.points(r))r[ae]=W.transform(ne,t);break;case"set_node":var{path:oe,newProperties:ie}=t;if(0===oe.length)throw new Error("Cannot set properties on the root node!");var se=N.get(e,oe);for(var le in ie){if("children"===le||"text"===le)throw new Error('Cannot set the "'.concat(le,'" property of nodes!'));var ce=ie[le];null==ce?delete se[le]:se[le]=ce}break;case"set_selection":var{newProperties:de}=t;if(null==de)r=de;else if(null==r){if(!V.isRange(de))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(de)," when there is no current selection."));r=de}else Object.assign(r,de);break;case"split_node":var{path:ue,position:fe,properties:pe}=t;if(0===ue.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ue,"] because the root node cannot be split."));var he,ve=N.get(e,ue),ge=N.parent(e,ue),me=ue[ue.length-1];if(U.isText(ve)){var ye=ve.text.slice(0,fe),we=ve.text.slice(fe);ve.text=ye,he=A({},ve,{},pe,{text:we})}else{var be=ve.children.slice(0,fe),Oe=ve.children.slice(fe);ve.children=be,he=A({},ve,{},pe,{children:Oe})}if(ge.children.splice(me+1,0,he),r)for(var[xe,Ee]of V.points(r))r[Ee]=W.transform(xe,t)}e.children=Object(o.b)(e.children),e.selection=r?Object(o.c)(r)?Object(o.b)(r):r:null},unhangRange(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:n=!1}=r,[a,o]=V.edges(t);if(0!==a.offset||0!==o.offset||V.isCollapsed(t))return t;var i=D.above(e,{at:o,match:t=>D.isBlock(e,t)}),s=i?i[1]:[],l={anchor:D.start(e,[]),focus:o},c=!0;for(var[d,u]of D.nodes(e,{at:l,match:U.isText,reverse:!0,voids:n}))if(c)c=!1;else if(""!==d.text||T.isBefore(u,s)){o={path:u,offset:d.text.length};break}return{anchor:a,focus:o}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D.above(e,A({},t,{match:t=>D.isVoid(e,t)}))},withoutNormalizing(e,t){var r=D.isNormalizing(e);d.set(e,!1),t(),d.set(e,r),D.normalize(e)}},S={isElement:e=>a(e)&&N.isNodeList(e.children)&&!D.isEditor(e),isElementList:e=>Array.isArray(e)&&(0===e.length||S.isElement(e[0])),matches(e,t){for(var r in t)if("children"!==r&&e[r]!==t[r])return!1;return!0}},B={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(T.isPath)},N={ancestor(e,t){var r=N.get(e,t);if(U.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(r));return r},*ancestors(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of T.ancestors(t,r)){var a=[N.ancestor(e,n),n];yield a}},child(e,t){if(U.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var r=e.children[t];if(null==r)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return r},*children(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:n=!1}=r,a=N.ancestor(e,t),{children:o}=a,i=n?o.length-1:0;n?i>=0:i<o.length;){var s=N.child(a,i),l=t.concat(i);yield[s,l],i=n?i-1:i+1}},common(e,t,r){var n=T.common(t,r);return[N.get(e,n),n]},descendant(e,t){var r=N.get(e,t);if(D.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(r));return r},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of N.nodes(e,t))0!==n.length&&(yield[r,n])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of N.nodes(e,t))S.isElement(r)&&(yield[r,n])},first(e,t){for(var r=t.slice(),n=N.get(e,r);n&&!U.isText(n)&&0!==n.children.length;)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(U.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return Object(o.d)(e,e=>{var[r,n]=V.edges(t),a=N.nodes(e,{reverse:!0,pass:e=>{var[,r]=e;return!V.includes(t,r)}});for(var[,o]of a){if(!V.includes(t,o)){var i=N.parent(e,o),s=o[o.length-1];i.children.splice(s,1)}if(T.equals(o,n.path)){var l=N.leaf(e,o);l.text=l.text.slice(0,n.offset)}if(T.equals(o,r.path)){var c=N.leaf(e,o);c.text=c.text.slice(r.offset)}}delete e.selection}).children},get(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(U.isText(r)||!r.children[a])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));r=r.children[a]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(U.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode:e=>U.isText(e)||S.isElement(e)||D.isEditor(e),isNodeList:e=>Array.isArray(e)&&(0===e.length||N.isNode(e[0])),last(e,t){for(var r=t.slice(),n=N.get(e,r);n&&!U.isText(n)&&0!==n.children.length;){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(e,t){var r=N.get(e,t);if(!U.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(r));return r},*levels(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var n of T.levels(t,r)){var a=N.get(e,n);yield[a,n]}},matches:(e,t)=>S.isElement(e)&&S.matches(e,t)||U.isText(e)&&U.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:r,reverse:n=!1}=t,{from:a=[],to:o}=t,i=new Set,s=[],l=e;!(o&&(n?T.isBefore(s,o):T.isAfter(s,o)));)if(i.has(l)||(yield[l,s]),i.has(l)||U.isText(l)||0===l.children.length||null!=r&&!1!==r([l,s])){if(0===s.length)break;if(!n){var c=T.next(s);if(N.has(e,c)){s=c,l=N.get(e,s);continue}}if(n&&0!==s[s.length-1])s=T.previous(s),l=N.get(e,s);else s=T.parent(s),l=N.get(e,s),i.add(l)}else{i.add(l);var d=n?l.children.length-1:0;T.isAncestor(s,a)&&(d=a[s.length]),s=s.concat(d),l=N.get(e,s)}},parent(e,t){var r=T.parent(t),n=N.get(e,r);if(U.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string:e=>U.isText(e)?e.text:e.children.map(N.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[r,n]of N.nodes(e,t))U.isText(r)&&(yield[r,n])}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R={isNodeOperation:e=>R.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!a(e))return!1;switch(e.type){case"insert_node":return T.isPath(e.path)&&N.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&T.isPath(e.path);case"merge_node":return"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&T.isPath(e.path)&&a(e.properties);case"move_node":return T.isPath(e.path)&&T.isPath(e.newPath);case"remove_node":return T.isPath(e.path)&&N.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&T.isPath(e.path);case"set_node":return T.isPath(e.path)&&a(e.properties)&&a(e.newProperties);case"set_selection":return null===e.properties&&V.isRange(e.newProperties)||null===e.newProperties&&V.isRange(e.properties)||a(e.properties)&&a(e.newProperties);case"split_node":return T.isPath(e.path)&&"number"==typeof e.position&&("number"==typeof e.target||null===e.target)&&a(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&(0===e.length||R.isOperation(e[0])),isSelectionOperation:e=>R.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>R.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return M({},e,{type:"remove_node"});case"insert_text":return M({},e,{type:"remove_text"});case"merge_node":return M({},e,{type:"split_node",path:T.previous(e.path)});case"move_node":var{newPath:t,path:r}=e;return T.equals(t,r)?e:M({},e,{path:T.transform(r,e),newPath:T.transform(T.next(r),e)});case"remove_node":return M({},e,{type:"insert_node"});case"remove_text":return M({},e,{type:"insert_text"});case"set_node":var{properties:n,newProperties:a}=e;return M({},e,{properties:a,newProperties:n});case"set_selection":var{properties:o,newProperties:i}=e;return M({},e,null==o?{properties:i,newProperties:null}:null==i?{properties:null,newProperties:o}:{properties:i,newProperties:o});case"split_node":return M({},e,{type:"merge_node",path:T.next(e.path)})}}},T={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=T.levels(e,t);return n=r?n.slice(1):n.slice(0,-1)},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var a=e[n];if(a!==t[n])break;r.push(a)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),o=e[r],i=t[r];return T.equals(n,a)&&o>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),a=t.slice(0,r);return T.equals(n,a)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),o=e[r],i=t[r];return T.equals(n,a)&&o<i},equals:(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),isAfter:(e,t)=>1===T.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===T.compare(e,t),isBefore:(e,t)=>-1===T.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===T.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===T.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===T.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===T.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"==typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&T.equals(r,n)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return r&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!T.isAncestor(t,e)&&!T.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(o.d)(e,n=>{var{affinity:a="forward"}=r;if(0!==e.length)switch(t.type){case"insert_node":var{path:o}=t;(T.equals(o,n)||T.endsBefore(o,n)||T.isAncestor(o,n))&&(n[o.length-1]+=1);break;case"remove_node":var{path:i}=t;if(T.equals(i,n)||T.isAncestor(i,n))return null;T.endsBefore(i,n)&&(n[i.length-1]-=1);break;case"merge_node":var{path:s,position:l}=t;T.equals(s,n)||T.endsBefore(s,n)?n[s.length-1]-=1:T.isAncestor(s,n)&&(n[s.length-1]-=1,n[s.length]+=l);break;case"split_node":var{path:c,position:d}=t;if(T.equals(c,n)){if("forward"===a)n[n.length-1]+=1;else if("backward"!==a)return null}else T.endsBefore(c,n)?n[c.length-1]+=1:T.isAncestor(c,n)&&e[c.length]>=d&&(n[c.length-1]+=1,n[c.length]-=d);break;case"move_node":var{path:u,newPath:f}=t;if(T.equals(u,f))return;if(T.isAncestor(u,n)||T.equals(u,n)){var p=f.slice();if(T.endsBefore(u,f)&&u.length<f.length)p[Math.min(f.length,u.length)-1]-=1;return p.concat(n.slice(u.length))}T.endsBefore(f,n)||T.equals(f,n)||T.isAncestor(f,n)?(T.endsBefore(u,n)&&(n[u.length-1]-=1),n[f.length-1]+=1):T.endsBefore(u,n)&&(T.equals(f,n)&&(n[f.length-1]+=1),n[u.length-1]-=1)}})}},L={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=T.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var W={compare(e,t){var r=T.compare(e.path,t.path);return 0===r?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter:(e,t)=>1===W.compare(e,t),isBefore:(e,t)=>-1===W.compare(e,t),equals:(e,t)=>e.offset===t.offset&&T.equals(e.path,t.path),isPoint:e=>a(e)&&"number"==typeof e.offset&&T.isPath(e.path),transform(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(o.d)(e,e=>{var{affinity:n="forward"}=r,{path:a,offset:o}=e;switch(t.type){case"insert_node":case"move_node":e.path=T.transform(a,t,r);break;case"insert_text":T.equals(t.path,a)&&t.offset<=o&&(e.offset+=t.text.length);break;case"merge_node":T.equals(t.path,a)&&(e.offset+=t.position),e.path=T.transform(a,t,r);break;case"remove_text":T.equals(t.path,a)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if(T.equals(t.path,a)||T.isAncestor(t.path,a))return null;e.path=T.transform(a,t,r);break;case"split_node":if(T.equals(t.path,a)){if(t.position===o&&null==n)return null;(t.position<o||t.position===o&&"forward"===n)&&(e.offset-=t.position,e.path=T.transform(a,t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r,{affinity:"forward"})))}else e.path=T.transform(a,t,r)}})}},I={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=W.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var V={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:a}=e;return V.isBackward(e)===r?[n,a]:[a,n]},end(e){var[,t]=V.edges(e);return t},equals:(e,t)=>W.equals(e.anchor,t.anchor)&&W.equals(e.focus,t.focus),includes(e,t){if(V.isRange(t)){if(V.includes(e,t.anchor)||V.includes(e,t.focus))return!0;var[r,n]=V.edges(e),[a,o]=V.edges(t);return W.isBefore(r,a)&&W.isAfter(n,o)}var[i,s]=V.edges(e),l=!1,c=!1;return W.isPoint(t)?(l=W.compare(t,i)>=0,c=W.compare(t,s)<=0):(l=T.compare(t,i.path)>=0,c=T.compare(t,s.path)<=0),l&&c},intersection(e,t){var r=y(e,["anchor","focus"]),[n,a]=V.edges(e),[o,i]=V.edges(t),l=W.isBefore(n,o)?o:n,c=W.isBefore(a,i)?a:i;return W.isBefore(c,l)?null:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({anchor:l,focus:c},r)},isBackward(e){var{anchor:t,focus:r}=e;return W.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return W.equals(t,r)},isExpanded:e=>!V.isCollapsed(e),isForward:e=>!V.isBackward(e),isRange:e=>a(e)&&W.isPoint(e.anchor)&&W.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=V.edges(e);return t},transform(e,t,r){var n,a,{affinity:i="inward"}=r;return"inward"===i?V.isForward(e)?(n="forward",a="backward"):(n="backward",a="forward"):"outward"===i?V.isForward(e)?(n="backward",a="forward"):(n="forward",a="backward"):(n=i,a=i),Object(o.d)(e,e=>{var r=W.transform(e.anchor,t,{affinity:n}),o=W.transform(e.focus,t,{affinity:a});if(!r||!o)return null;e.anchor=r,e.focus=o})}},K={transform(e,t){var{current:r,affinity:n}=e;if(null!=r){var a=V.transform(r,t,{affinity:n});e.current=a,null==a&&e.unref()}}};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U={equals(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:n=!1}=r;for(var a in e)if((!n||"text"!==a)&&e[a]!==t[a])return!1;for(var o in t)if((!n||"text"!==o)&&e[o]!==t[o])return!1;return!0},isText:e=>a(e)&&"string"==typeof e.text,isTextList:e=>Array.isArray(e)&&(0===e.length||U.isText(e[0])),matches(e,t){for(var r in t)if("text"!==r&&e[r]!==t[r])return!1;return!0},decorations(e,t){var r=[J({},e)];for(var n of t){var a=y(n,["anchor","focus"]),[o,i]=V.edges(n),s=[],l=0;for(var c of r){var{length:d}=c.text,u=l;if(l+=d,o.offset<=u&&i.offset>=u+d)Object.assign(c,a),s.push(c);else if(o.offset>u+d||i.offset<u||i.offset===u&&0!==u)s.push(c);else{var f=c,p=void 0,h=void 0;if(i.offset<u+d){var v=i.offset-u;h=J({},f,{text:f.text.slice(v)}),f=J({},f,{text:f.text.slice(0,v)})}if(o.offset>u){var g=o.offset-u;p=J({},f,{text:f.text.slice(0,g)}),f=J({},f,{text:f.text.slice(g)})}Object.assign(f,a),p&&s.push(p),s.push(f),h&&s.push(h)}}r=s}return r}};function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G={insertNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:a=!1,mode:o="lowest"}=r,{at:i,match:s,select:l}=r;if(N.isNode(t)&&(t=[t]),0!==t.length){var[c]=t;if(i||(i=e.selection?e.selection:e.children.length>0?D.end(e,[]):[0],l=!0),null==l&&(l=!1),V.isRange(i))if(n||(i=D.unhangRange(e,i)),V.isCollapsed(i))i=i.anchor;else{var[,d]=V.edges(i),u=D.pointRef(e,d);re.delete(e,{at:i}),i=u.unref()}if(W.isPoint(i)){null==s&&(s=U.isText(c)?e=>U.isText(e):e.isInline(c)?t=>U.isText(t)||D.isInline(e,t):t=>D.isBlock(e,t));var[f]=D.nodes(e,{at:i.path,match:s,mode:o,voids:a});if(!f)return;var[,p]=f,h=D.pathRef(e,p),v=D.isEnd(e,i,p);re.splitNodes(e,{at:i,match:s,mode:o,voids:a});var g=h.unref();i=v?T.next(g):g}var m=T.parent(i),y=i[i.length-1];if(a||!D.void(e,{at:m})){for(var w of t){var b=m.concat(y);y++,e.apply({type:"insert_node",path:b,node:w})}if(l){var O=D.end(e,i);O&&re.select(e,O)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{at:r=e.selection,mode:n="lowest",voids:a=!1}=t,{match:o}=t;if(null==o&&(o=T.isPath(r)?ee(e,r):t=>D.isBlock(e,t)),r){var i=D.nodes(e,{at:r,match:o,mode:n,voids:a}),s=Array.from(i,t=>{var[,r]=t;return D.pathRef(e,r)});for(var l of s){var c=l.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var[d,u]=D.node(e,T.parent(c)),f=c[c.length-1],{length:p}=d.children;if(1===p){var h=T.next(u);re.moveNodes(e,{at:c,to:h,voids:a}),re.removeNodes(e,{at:u,voids:a})}else if(0===f)re.moveNodes(e,{at:c,to:u,voids:a});else if(f===p-1){var v=T.next(u);re.moveNodes(e,{at:c,to:v,voids:a})}else{var g=T.next(c),m=T.next(u);re.splitNodes(e,{at:g,voids:a}),re.moveNodes(e,{at:c,to:m,voids:a})}}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{match:r,at:n=e.selection}=t,{hanging:a=!1,voids:o=!1,mode:i="lowest"}=t;if(n){if(null==r)if(T.isPath(n)){var[s]=D.parent(e,n);r=e=>s.children.includes(e)}else r=t=>D.isBlock(e,t);if(!a&&V.isRange(n)&&(n=D.unhangRange(e,n)),V.isRange(n))if(V.isCollapsed(n))n=n.anchor;else{var[,l]=V.edges(n),c=D.pointRef(e,l);re.delete(e,{at:n}),n=c.unref(),null==t.at&&re.select(e,n)}var[d]=D.nodes(e,{at:n,match:r,voids:o,mode:i}),u=D.previous(e,{at:n,match:r,voids:o,mode:i});if(d&&u){var[f,p]=d,[h,v]=u;if(0!==p.length&&0!==v.length){var g,m,w=T.next(v),b=T.common(p,v),O=T.isSibling(p,v),x=Array.from(D.levels(e,{at:p}),e=>{var[t]=e;return t}).slice(b.length).slice(0,-1),E=D.above(e,{at:p,mode:"highest",match:e=>x.includes(e)&&S.isElement(e)&&1===e.children.length}),k=E&&D.pathRef(e,E[1]);if(U.isText(f)&&U.isText(h)){var P=y(f,["text"]);m=h.text.length,g=P}else{if(!S.isElement(f)||!S.isElement(h))throw new Error("Cannot merge the node at path [".concat(p,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(f)," ").concat(JSON.stringify(h)));P=y(f,["children"]);m=h.children.length,g=P}O||re.moveNodes(e,{at:p,to:w,voids:o}),k&&re.removeNodes(e,{at:k.current,voids:o}),S.isElement(h)&&D.isEmpty(e,h)||U.isText(h)&&""===h.text?re.removeNodes(e,{at:v,voids:o}):e.apply({type:"merge_node",path:w,position:m,target:null,properties:g}),k&&k.unref()}}}})},moveNodes(e,t){D.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:a="lowest",voids:o=!1}=t,{match:i}=t;if(n){null==i&&(i=T.isPath(n)?ee(e,n):t=>D.isBlock(e,t));var s=D.pathRef(e,r),l=D.nodes(e,{at:n,match:i,mode:a,voids:o}),c=Array.from(l,t=>{var[,r]=t;return D.pathRef(e,r)});for(var d of c){var u=d.unref(),f=s.current;0!==u.length&&e.apply({type:"move_node",path:u,newPath:f})}s.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:n=!1,mode:a="lowest"}=t,{at:o=e.selection,match:i}=t;if(o){null==i&&(i=T.isPath(o)?ee(e,o):t=>D.isBlock(e,t)),!r&&V.isRange(o)&&(o=D.unhangRange(e,o));var s=D.nodes(e,{at:o,match:i,mode:a,voids:n}),l=Array.from(s,t=>{var[,r]=t;return D.pathRef(e,r)});for(var c of l){var d=c.unref();if(d){var[u]=D.node(e,d);e.apply({type:"remove_node",path:d,node:u})}}}})},setNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{match:n,at:a=e.selection}=r,{hanging:o=!1,mode:i="lowest",split:s=!1,voids:l=!1}=r;if(a){if(null==n&&(n=T.isPath(a)?ee(e,a):t=>D.isBlock(e,t)),!o&&V.isRange(a)&&(a=D.unhangRange(e,a)),s&&V.isRange(a)){var c=D.rangeRef(e,a,{affinity:"inward"}),[d,u]=V.edges(a),f="lowest"===i?"lowest":"highest";re.splitNodes(e,{at:u,match:n,mode:f,voids:l}),re.splitNodes(e,{at:d,match:n,mode:f,voids:l}),a=c.unref(),null==r.at&&re.select(e,a)}for(var[p,h]of D.nodes(e,{at:a,match:n,mode:i,voids:l})){var v={},g={};if(0!==h.length){for(var m in t)"children"!==m&&"text"!==m&&t[m]!==p[m]&&(v[m]=p[m],g[m]=t[m]);0!==Object.keys(g).length&&e.apply({type:"set_node",path:h,properties:v,newProperties:g})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{mode:r="lowest",voids:n=!1}=t,{match:a,at:o=e.selection,height:i=0,always:s=!1}=t;if(null==a&&(a=t=>D.isBlock(e,t)),V.isRange(o)&&(o=Q(e,o)),T.isPath(o)){var l=o,c=D.point(e,l),[d]=D.parent(e,l);a=e=>e===d,i=c.path.length-l.length+1,o=c,s=!0}if(o){var u=D.pointRef(e,o,{affinity:"backward"}),[f]=D.nodes(e,{at:o,match:a,mode:r,voids:n});if(f){var p=D.void(e,{at:o,mode:"highest"});if(!n&&p){var[h,v]=p;if(S.isElement(h)&&e.isInline(h)){var g=D.after(e,v);if(!g){var m=T.next(v);re.insertNodes(e,{text:""},{at:m,voids:n}),g=D.point(e,m)}o=g,s=!0}i=o.path.length-v.length+1,s=!0}var w=D.pointRef(e,o),b=o.path.length-i,[,O]=f,x=o.path.slice(0,b),E=0===i?o.offset:o.path[b]+0,k=null;for(var[P,j]of D.levels(e,{at:x,reverse:!0,voids:n})){var F=!1;if(j.length<O.length||0===j.length||!n&&D.isVoid(e,P))break;var C=u.current,A=D.isEnd(e,C,j);if(s||!u||!D.isEdge(e,C,j)){F=!0;var B=y(P,["text","children"]);e.apply({type:"split_node",path:j,position:E,target:k,properties:B})}k=E,E=j[j.length-1]+(F||A?1:0)}if(null==t.at){var N=w.current||D.end(e,[]);re.select(e,N)}u.unref(),w.unref()}}})},unsetNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var n={};for(var a of t)n[a]=null;re.setNodes(e,n,r)},unwrapNodes(e,t){D.withoutNormalizing(e,()=>{var{mode:r="lowest",split:n=!1,voids:a=!1}=t,{at:o=e.selection,match:i}=t;if(o){null==i&&(i=T.isPath(o)?ee(e,o):t=>D.isBlock(e,t)),T.isPath(o)&&(o=D.range(e,o));var s=V.isRange(o)?D.rangeRef(e,o):null,l=D.nodes(e,{at:o,match:i,mode:r,voids:a}),c=Array.from(l,t=>{var[,r]=t;return D.pathRef(e,r)}),d=function(t){var r=t.unref(),[o]=D.node(e,r),i=D.range(e,r);n&&s&&(i=V.intersection(s.current,i)),re.liftNodes(e,{at:i,match:e=>o.children.includes(e),voids:a})};for(var u of c)d(u);s&&s.unref()}})},wrapNodes(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{mode:n="lowest",split:a=!1,voids:o=!1}=r,{match:i,at:s=e.selection}=r;if(s){if(null==i&&(i=T.isPath(s)?ee(e,s):e.isInline(t)?t=>D.isInline(e,t)||U.isText(t):t=>D.isBlock(e,t)),a&&V.isRange(s)){var[l,c]=V.edges(s),d=D.rangeRef(e,s,{affinity:"inward"});re.splitNodes(e,{at:c,match:i,voids:o}),re.splitNodes(e,{at:l,match:i,voids:o}),s=d.unref(),null==r.at&&re.select(e,s)}var u=Array.from(D.nodes(e,{at:s,match:e.isInline(t)?t=>D.isBlock(e,t):e=>D.isEditor(e),mode:"highest",voids:o}));for(var[,f]of u){var p=V.isRange(s)?V.intersection(s,D.range(e,f)):s;if(p){var h=Array.from(D.nodes(e,{at:p,match:i,mode:n,voids:o}));h.length>0&&function(){var[r]=h,n=h[h.length-1],[,a]=r,[,i]=n,s=T.equals(a,i)?T.parent(a):T.common(a,i),l=D.range(e,a,i),[c]=D.node(e,s),d=s.length+1,u=T.next(i.slice(0,d)),f=Z({},t,{children:[]});re.insertNodes(e,f,{at:u,voids:o}),re.moveNodes(e,{at:l,match:e=>c.children.includes(e),to:u.concat(0),voids:o})}()}}}})}},Q=(e,t)=>{if(V.isCollapsed(t))return t.anchor;var[,r]=V.edges(t),n=D.pointRef(e,r);return re.delete(e,{at:t}),n.unref()},ee=(e,t)=>{var[r]=D.node(e,t);return e=>e===r};function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var re=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{transform(e,t){e.children=Object(o.a)(e.children);var r=e.selection&&Object(o.a)(e.selection);switch(t.type){case"insert_node":var{path:n,node:a}=t,i=N.parent(e,n),s=n[n.length-1];if(i.children.splice(s,0,a),r)for(var[l,c]of V.points(r))r[c]=W.transform(l,t);break;case"insert_text":var{path:d,offset:u,text:f}=t,p=N.leaf(e,d),h=p.text.slice(0,u),v=p.text.slice(u);if(p.text=h+f+v,r)for(var[g,m]of V.points(r))r[m]=W.transform(g,t);break;case"merge_node":var{path:y}=t,w=N.get(e,y),b=T.previous(y),O=N.get(e,b),x=N.parent(e,y),E=y[y.length-1];if(U.isText(w)&&U.isText(O))O.text+=w.text;else{if(U.isText(w)||U.isText(O))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interaces: ").concat(w," ").concat(O));O.children.push(...w.children)}if(x.children.splice(E,1),r)for(var[k,P]of V.points(r))r[P]=W.transform(k,t);break;case"move_node":var{path:j,newPath:F}=t;if(T.isAncestor(j,F))throw new Error("Cannot move a path [".concat(j,"] to new path [").concat(F,"] because the destination is inside itself."));var C=N.get(e,j),A=N.parent(e,j),D=j[j.length-1];A.children.splice(D,1);var S=T.transform(j,t),B=N.get(e,T.parent(S)),_=S[S.length-1];if(B.children.splice(_,0,C),r)for(var[M,R]of V.points(r))r[R]=W.transform(M,t);break;case"remove_node":var{path:L}=t,z=L[L.length-1];if(N.parent(e,L).children.splice(z,1),r)for(var[I,q]of V.points(r)){var K=W.transform(I,t);if(null!=r&&null!=K)r[q]=K;else{var H=void 0,J=void 0;for(var[$,Y]of N.texts(e)){if(-1!==T.compare(Y,L)){J=[$,Y];break}H=[$,Y]}H?(I.path=H[1],I.offset=H[0].text.length):J?(I.path=J[1],I.offset=0):r=null}}break;case"remove_text":var{path:Z,offset:G,text:Q}=t,ee=N.leaf(e,Z),te=ee.text.slice(0,G),re=ee.text.slice(G+Q.length);if(ee.text=te+re,r)for(var[ne,ae]of V.points(r))r[ae]=W.transform(ne,t);break;case"set_node":var{path:oe,newProperties:ie}=t;if(0===oe.length)throw new Error("Cannot set properties on the root node!");var se=N.get(e,oe);for(var le in ie){if("children"===le||"text"===le)throw new Error('Cannot set the "'.concat(le,'" property of nodes!'));var ce=ie[le];null==ce?delete se[le]:se[le]=ce}break;case"set_selection":var{newProperties:de}=t;if(null==de)r=de;else if(null==r){if(!V.isRange(de))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(de)," when there is no current selection."));r=de}else Object.assign(r,de);break;case"split_node":var{path:ue,position:fe,properties:pe}=t;if(0===ue.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ue,"] because the root node cannot be split."));var he,ve=N.get(e,ue),ge=N.parent(e,ue),me=ue[ue.length-1];if(U.isText(ve)){var ye=ve.text.slice(0,fe),we=ve.text.slice(fe);ve.text=ye,he=X({},ve,{},pe,{text:we})}else{var be=ve.children.slice(0,fe),Oe=ve.children.slice(fe);ve.children=be,he=X({},ve,{},pe,{children:Oe})}if(ge.children.splice(me+1,0,he),r)for(var[xe,Ee]of V.points(r))r[Ee]=W.transform(xe,t)}e.children=Object(o.b)(e.children),e.selection=r?Object(o.c)(r)?Object(o.b)(r):r:null}},{},G,{},{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:r="anchor"}=t,{selection:n}=e;if(n)if("anchor"===r)re.select(e,n.anchor);else if("focus"===r)re.select(e,n.focus);else if("start"===r){var[a]=V.edges(n);re.select(e,a)}else if("end"===r){var[,o]=V.edges(n);re.select(e,o)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:r}=e,{distance:n=1,unit:a="character",reverse:o=!1}=t,{edge:i=null}=t;if(r){"start"===i&&(i=V.isBackward(r)?"focus":"anchor"),"end"===i&&(i=V.isBackward(r)?"anchor":"focus");var{anchor:s,focus:l}=r,c={distance:n,unit:a},d={};if(null==i||"anchor"===i){var u=o?D.before(e,s,c):D.after(e,s,c);u&&(d.anchor=u)}if(null==i||"focus"===i){var f=o?D.before(e,l,c):D.after(e,l,c);f&&(d.focus=f)}re.setSelection(e,d)}},select(e,t){var{selection:r}=e;if(t=D.range(e,t),r)re.setSelection(e,t);else{if(!V.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})}},setPoint(e,t,r){var{selection:n}=e,{edge:a="both"}=r;if(n){"start"===a&&(a=V.isBackward(n)?"focus":"anchor"),"end"===a&&(a=V.isBackward(n)?"anchor":"focus");var{anchor:o,focus:i}=n,s="anchor"===a?o:i,l=Object.assign(s,t);"anchor"===a?re.setSelection(e,{anchor:l}):re.setSelection(e,{focus:l})}},setSelection(e,t){var{selection:r}=e,n={},a={};if(r){for(var o in t)("anchor"===o&&null!=t.anchor&&!W.equals(t.anchor,r.anchor)||"focus"===o&&null!=t.focus&&!W.equals(t.focus,r.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==r[o])&&(n[o]=r[o],a[o]=t[o]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}}},{},{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D.withoutNormalizing(e,()=>{var{reverse:r=!1,unit:n="character",distance:a=1,voids:o=!1}=t,{at:i=e.selection,hanging:s=!1}=t;if(i){if(V.isRange(i)&&V.isCollapsed(i)&&(i=i.anchor),W.isPoint(i)){var l=D.void(e,{at:i,mode:"highest"});if(!o&&l){var[,c]=l;i=c}else{var d={unit:n,distance:a};i={anchor:i,focus:r?D.before(e,i,d)||D.start(e,[]):D.after(e,i,d)||D.end(e,[])},s=!0}}if(T.isPath(i))re.removeNodes(e,{at:i,voids:o});else if(!V.isCollapsed(i)){s||(i=D.unhangRange(e,i,{voids:o}));var[u,f]=V.edges(i),p=D.above(e,{match:t=>D.isBlock(e,t),at:u,voids:o}),h=D.above(e,{match:t=>D.isBlock(e,t),at:f,voids:o}),v=p&&h&&!T.equals(p[1],h[1]),g=T.equals(u.path,f.path),m=o?null:D.void(e,{at:u,mode:"highest"}),y=o?null:D.void(e,{at:f,mode:"highest"});if(m){var w=D.before(e,u);w&&p&&T.isAncestor(p[1],w.path)&&(u=w)}if(y){var b=D.after(e,f);b&&h&&T.isAncestor(h[1],b.path)&&(f=b)}var O,x=[];for(var E of D.nodes(e,{at:i,voids:o})){var[k,P]=E;O&&0===T.compare(P,O)||(!o&&D.isVoid(e,k)||!T.isCommon(P,u.path)&&!T.isCommon(P,f.path))&&(x.push(E),O=P)}var j=Array.from(x,t=>{var[,r]=t;return D.pathRef(e,r)}),F=D.pointRef(e,u),C=D.pointRef(e,f);if(!g&&!m){var A=F.current,[S]=D.leaf(e,A),{path:B}=A,{offset:N}=u,_=S.text.slice(N);e.apply({type:"remove_text",path:B,offset:N,text:_})}for(var M of j){var R=M.unref();re.removeNodes(e,{at:R,voids:o})}if(!y){var L=C.current,[z]=D.leaf(e,L),{path:I}=L,q=g?u.offset:0,K=z.text.slice(q,f.offset);e.apply({type:"remove_text",path:I,offset:q,text:K})}!g&&v&&C.current&&F.current&&re.mergeNodes(e,{at:C.current,hanging:!0,voids:o});var H=C.unref()||F.unref();null==t.at&&H&&re.select(e,H)}}})},insertFragment(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:a=!1}=r,{at:o=e.selection}=r;if(t.length&&o){if(V.isRange(o))if(n||(o=D.unhangRange(e,o)),V.isCollapsed(o))o=o.anchor;else{var[,i]=V.edges(o);if(!a&&D.void(e,{at:i}))return;var s=D.pointRef(e,i);re.delete(e,{at:o}),o=s.unref()}else T.isPath(o)&&(o=D.start(e,o));if(a||!D.void(e,{at:o})){var l=D.above(e,{at:o,match:t=>D.isInline(e,t),mode:"highest",voids:a});if(l){var[,c]=l;if(D.isEnd(e,o,c))o=D.after(e,c);else if(D.isStart(e,o,c)){o=D.before(e,c)}}var d=D.above(e,{match:t=>D.isBlock(e,t),at:o,voids:a}),[,u]=d,f=D.isStart(e,o,u),p=D.isEnd(e,o,u),h=!f||f&&p,v=!p,[,g]=N.first({children:t},[]),[,m]=N.last({children:t},[]),y=[],w=t=>{var[r,n]=t;return!(h&&T.isAncestor(n,g)&&S.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(v&&T.isAncestor(n,m)&&S.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))};for(var b of N.nodes({children:t},{pass:w}))b[1].length>0&&w(b)&&y.push(b);var O=[],x=[],E=[],k=!0,P=!1;for(var[j]of y)S.isElement(j)&&!e.isInline(j)?(k=!1,P=!0,x.push(j)):k?O.push(j):E.push(j);var[F]=D.nodes(e,{at:o,match:t=>U.isText(t)||D.isInline(e,t),mode:"highest",voids:a}),[,C]=F,A=D.isStart(e,o,C),B=D.isEnd(e,o,C),_=D.pathRef(e,p?T.next(u):u),M=D.pathRef(e,B?T.next(C):C);re.splitNodes(e,{at:o,match:t=>P?D.isBlock(e,t):U.isText(t)||D.isInline(e,t),mode:P?"lowest":"highest",voids:a});var R=D.pathRef(e,!A||A&&B?T.next(C):C);if(re.insertNodes(e,O,{at:R.current,match:t=>U.isText(t)||D.isInline(e,t),mode:"highest",voids:a}),re.insertNodes(e,x,{at:_.current,match:t=>D.isBlock(e,t),mode:"lowest",voids:a}),re.insertNodes(e,E,{at:M.current,match:t=>U.isText(t)||D.isInline(e,t),mode:"highest",voids:a}),!r.at){var L;L=E.length>0?T.previous(M.current):x.length>0?T.previous(_.current):T.previous(R.current);var z=D.end(e,L);re.select(e,z)}R.unref(),_.unref(),M.unref()}}})},insertText(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:a=e.selection}=r;if(a){if(T.isPath(a)&&(a=D.range(e,a)),V.isRange(a))if(V.isCollapsed(a))a=a.anchor;else{var o=V.end(a);if(!n&&D.void(e,{at:o}))return;var i=D.pointRef(e,o);re.delete(e,{at:a,voids:n}),a=i.unref(),re.setSelection(e,{anchor:a,focus:a})}if(n||!D.void(e,{at:a})){var{path:s,offset:l}=a;e.apply({type:"insert_text",path:s,offset:l,text:t})}}})}})}}]);
//# sourceMappingURL=vendors~screen.collection.packageBuilder~screen.landingpages.pres45~screen.landingpages.tick~screen.~53c6bd2a.d722f31d.chunk.js.map