!function(r){var o=document.documentMode,s="undefined"!=typeof InstallTrigger,i={max:{text:10,link:10,image:20},partial:{text:5,link:5,image:6},none:{text:0,link:0,image:0}};function n(e,t){var i=0<t?"blur("+t+"px)":"";o?e.css("-ms-filter","progid:DXImageTransform.Microsoft.Blur(pixelradius="+t+")"):e.css("filter",i).css("-webkit-filter",i)}function a(e,t){!function(e){r("div.lazyYT",e).each(function(){r(this).replaceWith("<p>https://youtube.com/watch?v="+r(this).data("youtube-id")+"</p>")})}(e),function(e,t){var i="gray 0 0 "+t+"px",r="-webkit-user-select";o&&(i=t<=0?"0 0 0 0 gray":"0 0 "+t+"px .1px gray",r="-ms-user-select"),s&&(r="-moz-user-select"),e.css("background-color","transparent").css("color","rgba(0,0,0,0)").css("text-shadow",i).css(r,"none")}(e,t.text),function(e,i){r("a",e).addClass("no-track-link"),r("a,pre",e).each(function(e,t){n(r(t),i)})}(e,t.link),function(e,t){var i=r("img",e);o?i.css("opacity",0===t?"1.0":"0.0"):n(i,t)}(e,t.image)}r.fn.spoil=function(e){var t=r.extend(i,e||{});return this.each(function(){!function(t,e){var i=e.max,r=e.partial,o=e.none;t.data("spoiler-state","blurred"),a(t,i),t.on("mouseover",function(){t.css("cursor","pointer"),"blurred"===t.data("spoiler-state")&&a(t,r)}).on("mouseout",function(){"blurred"===t.data("spoiler-state")&&a(t,i)}).on("click",function(e){"blurred"===t.data("spoiler-state")?(t.data("spoiler-state","revealed").css("cursor","auto"),a(t,o),e.preventDefault()):e.target&&"A"!==e.target.tagName&&(t.data("spoiler-state","blurred").css("cursor","pointer"),a(t,r),e.preventDefault())})}(r(this),t)})}}(jQuery),define("discourse/plugins/discourse-spoiler-alert/lib/discourse-markdown/spoiler-alert",["exports","pretty-text/pretty-text"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.whiteList(["span.spoiler","div.spoiler"]),e.markdownIt?function(e){e.registerOptions(function(e,t){e.features["spoiler-alert"]=!!t.spoiler_enabled}),e.registerPlugin(function(e){e.inline.bbcode.ruler.push("spoiler",{tag:"spoiler",wrap:"span.spoiler"}),e.block.bbcode.ruler.push("spoiler",{tag:"spoiler",wrap:"div.spoiler"})})}(e):e.addPreProcessor(o)},(0,t.registerOption)(function(e,t){t.features["spoiler-alert"]=!!e.spoiler_enabled});var r=/\n|<img|!\[[^\]]*\][(\[]/;function i(e,t){var i=r.test(t)?"div":"span";return"<"+i+" class='spoiler'>"+t+"</"+i+">"}function o(e){for(e=e||"";e!==(e=e.replace(/\[spoiler\]((?:(?!\[spoiler\]|\[\/spoiler\])[\S\s])*)\[\/spoiler\]/gi,i)););return e}}),define("discourse/plugins/discourse-spoiler-alert/initializers/spoiler-alert",["exports","discourse/lib/plugin-api","discourse/lib/to-markdown","discourse/controllers/composer"],function(e,t,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e};function r(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){$(".spoiler",e).removeClass("spoiler").addClass("spoiled").spoil()}function a(e){e.decorateCooked(o,{id:"spoiler-alert"}),e.addToolbarPopupMenuOptionsCallback(function(){return{action:"insertSpoiler",icon:"magic",label:"spoiler.title"}}),i.default.reopen({actions:{insertSpoiler:function(){this.get("toolbarEvent").applySurround("[spoiler]","[/spoiler]","spoiler_text",{multiline:!1,useBlockMode:!0})}}}),s.Tag&&(s.Tag.prototype.decorate=function(e){return"spoiled"===this.element.attributes.class&&(this.prefix="[spoiler]",this.suffix="[/spoiler]"),(this.prefix||this.suffix)&&(e=[this.prefix,e,this.suffix].join("")),this.inline&&(e=" "+e+" "),e},s.Tag.block=function(t,i,r){return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,s.Tag),n(o,[{key:"decorate",value:function(e){var t=this.element.attributes,i=this.element.parent;return"p"===this.name&&i&&"li"===i.name&&(this.gap=""),"div"===this.name&&"spoiled"===t.class&&(this.prefix="[spoiler]",this.suffix="[/spoiler]",e=e.trim()),""+this.gap+this.prefix+e+this.suffix+this.gap}}]),o;function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t,i,r));return e.gap="\n\n",e}})}e.default={name:"apply-spoilers",initialize:function(e){e.lookup("site-settings:main").spoiler_enabled&&(0,t.withPluginApi)("0.5",a)}}});
//# sourceMappingURL=https://sjc5.discourse-cdn.com/sitepoint/community/assets/plugins/discourse-spoiler-alert-879af4676ef82cecbf2c2da8094afae7b5f16ec074e64c9cb058012458a072dc.js.map