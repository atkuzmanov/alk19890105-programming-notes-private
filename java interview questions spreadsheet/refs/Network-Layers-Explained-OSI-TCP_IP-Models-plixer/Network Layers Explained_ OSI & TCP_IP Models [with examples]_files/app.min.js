!function(o){var n={};function a(n,e){n.addClass("is-open"),e.attr("tabindex","0")}function s(n,e){n.removeClass("is-open"),e.attr("tabindex","-1")}function c(){o(".menu > .menu-item-has-children").each(function(){s(o(this),o(this).find(".sub-menu").find("a"))})}n.initNav=function(){var n=o("#menu-toggle"),e=o("#site-navigation");o("#site-navigation").find("a");n.attr("aria-expanded","false"),n.on("click",function(){e.hasClass("toggled")?(e.removeClass("toggled"),n.attr("aria-expanded","false"),e.attr("aria-expanded","false")):(e.addClass("toggled"),n.attr("aria-expanded","true"),e.attr("aria-expanded","true"))}),o(".menu > .menu-item-has-children").each(function(){var e=o(this),i=e.find("a").first(),t=e.find(".sub-menu").find("a");t.attr("tabindex","-1"),i.on("click",function(n){n.preventDefault(),o(".menu > .menu-item-has-children").not(e).each(function(){s(o(this),o(this).find(".sub-menu").find("a"))}),e.hasClass("is-open")?s(e,t):a(e,t)}).on("keydown",function(n){32==(n.keyCode||n.which)&&(n.preventDefault(),o(this).hasClass("is-open")?s(e,t):a(e,t))}),e.on("keydown",function(n){27==(n.keyCode||n.which)&&(n.preventDefault(),o(this).hasClass("is-open")&&(s(o(this),t),i.focus()))})}),o(document).on("click",function(n){o(".menu > .menu-item-has-children.is-open").length&&(o(n.target).closest("#menu-primary-menu").length||c())})},n.initSearch=function(){var e=o(".site-search"),i=e.find(".search-toggle"),t=e.find(".search-form");i.attr("aria-expanded","false"),i.on("click",function(){"false"==i.attr("aria-expanded")?(i.attr("aria-expanded","true"),c()):i.attr("aria-expanded","false"),t.toggleClass("is-open"),t.find("input").focus()}),o(document).on("click",function(n){t.hasClass("is-open")&&(e.is(n.target)||0!==e.has(n.target).length||i.click())}),o(document).on("keydown",function(n){var e=n.keyCode||n.which;t.hasClass("is-open")&&27==e&&(i.click(),i.focus())})},n.initVideo=function(){o(".video__wrapper").length&&o(".video__wrapper").fitVids(),o(".content").length&&o(".content").fitVids()},n.initCarousel=function(){o(".hero__slides").each(function(){var n=o(this).find(".hero__slide"),e=o(this).closest(".hero__section").next(".hero__nav"),i=e.find(".hero__nav-prev"),t=e.find(".hero__nav-next");if(1<n.length){var a=o(this).slick({arrows:!1,dots:!0,appendDots:e.find(".hero__nav-inner"),fade:!0,cssEase:"linear",autoplay:!0,autoplaySpeed:4e3});i.on("click",function(){a.slick("slickPrev")}),t.on("click",function(){a.slick("slickNext")})}else e.hide()})},n.initTextBlocks=function(){o(".text-blocks").length&&o(".text-blocks").masonry({itemSelector:".text-blocks li",percentPosition:!0})},n.initInfographic=function(){if(o(".infographic").length&&!(o(window).width()<=768)){o("[data-alert]").on("click",function(n){o(".alert").removeClass("is-open");var e=o(this).attr("data-alert");e&&o("#"+e).addClass("is-open")}),o(".alert__close").on("click",function(){o(this).closest(".alert").removeClass("is-open")});for(var e=document.querySelector(".infographic"),n=document.querySelectorAll("g[data-alert]"),i=document.getElementById("background-overlay"),t=n.length;t--;)n[t].addEventListener("mouseenter",function(n){e.appendChild(n.target)}),n[t].addEventListener("mouseleave",function(n){e.appendChild(i)})}},n.dropDownNav=function(){o('[data-action="redirect"]').on("change",function(){window.location=o(this).val()})},n.initHeadroom=function(){new Headroom(o(".site-header")[0],{offset:100}).init(),o("body").addClass("headroom-ready")},n.initAnimations=function(){AOS.init({disable:"mobile",once:!0,offset:400})},n.init=function(){n.initSearch(),n.initNav(),n.initVideo(),n.initCarousel(),n.initTextBlocks(),n.initInfographic(),n.dropDownNav(),n.initHeadroom(),n.initAnimations()},o(function(){console.log("Ready"),n.init()})}(jQuery);