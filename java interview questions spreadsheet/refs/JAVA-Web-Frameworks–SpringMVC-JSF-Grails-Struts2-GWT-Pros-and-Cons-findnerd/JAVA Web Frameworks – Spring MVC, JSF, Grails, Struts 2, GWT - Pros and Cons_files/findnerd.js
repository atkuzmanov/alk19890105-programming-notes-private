(function(a){a.anythingSlider=function(f,e){var d=this,c;d.el=f;d.$el=a(f).addClass("anythingBase").wrap('<div class="anythingSlider"><div class="anythingWindow" /></div>');d.$el.data("AnythingSlider",d);d.init=function(){d.options=c=a.extend({},a.anythingSlider.defaults,e);d.initialized=!1;a.isFunction(c.onBeforeInitialize)&&d.$el.bind("before_initialize",c.onBeforeInitialize);d.$el.trigger("before_initialize",d);d.$wrapper=d.$el.parent().closest("div.anythingSlider").addClass("anythingSlider-"+c.theme);d.$window=d.$el.closest("div.anythingWindow");d.win=window;d.$win=a(d.win);d.$controls=a('<div class="anythingControls"></div>').appendTo(c.appendControlsTo&&a(c.appendControlsTo).length?a(c.appendControlsTo):d.$wrapper);d.$startStop=a('<a href="#" class="start-stop"></a>');c.buildStartStop&&d.$startStop.appendTo(c.appendStartStopTo&&a(c.appendStartStopTo).length?a(c.appendStartStopTo):d.$controls);d.$nav=a('<ul class="thumbNav" />').appendTo(c.appendNavigationTo&&a(c.appendNavigationTo).length?a(c.appendNavigationTo):d.$controls);d.flag=!1;d.playing=c.autoPlay;d.slideshow=!1;d.hovered=!1;d.panelSize=[];d.currentPage=c.startPanel=parseInt(c.startPanel,10)||1;c.changeBy=parseInt(c.changeBy,10)||1;d.adj=c.infiniteSlides?0:1;d.width=d.$el.width();d.height=d.$el.height();d.outerPad=[d.$wrapper.innerWidth()-d.$wrapper.width(),d.$wrapper.innerHeight()-d.$wrapper.height()];c.playRtl&&d.$wrapper.addClass("rtl");if(c.expand){d.$outer=d.$wrapper.parent(),d.$window.css({width:"100%",height:"100%"}),d.checkResize()}c.buildStartStop&&d.buildAutoPlay();c.buildArrows&&d.buildNextBackButtons();if(!c.autoPlay){c.autoPlayLocked=!1}d.updateSlider();d.$lastPage=d.$currentPage;d.runTimes=a("div.anythingSlider").index(d.$wrapper)+1;d.regex=RegExp("panel"+d.runTimes+"-(\\d+)","i");1===d.runTimes&&d.makeActive();if(!a.isFunction(a.easing[c.easing])){c.easing="swing"}c.pauseOnHover&&d.$wrapper.hover(function(){d.playing&&(d.$el.trigger("slideshow_paused",d),d.clearTimer(!0))},function(){d.playing&&(d.$el.trigger("slideshow_unpaused",d),d.startStop(d.playing,!0))});d.setCurrentPage(d.gotoHash()||c.startPage,!1);d.slideControls(!1);d.$wrapper.bind("mouseenter mouseleave",function(g){d.hovered="mouseenter"===g.type?!0:!1;d.slideControls(d.hovered,!1)});a(document).keyup(function(g){if(c.enableKeyboard&&d.$wrapper.is(".activeSlider")&&!g.target.tagName.match("TEXTAREA|INPUT|SELECT")&&(c.vertical||!(38===g.which||40===g.which))){switch(g.which){case 39:case 40:d.goForward();break;case 37:case 38:d.goBack()}}});d.$items.delegate("a","focus.AnythingSlider",function(h){var g=a(this).closest(".panel"),g=d.$items.index(g)+d.adj;d.$items.find(".focusedLink").removeClass("focusedLink");a(this).addClass("focusedLink");d.$window.scrollLeft(0);if(-1!==g&&(g>=d.currentPage+c.showMultiple||g<d.currentPage)){d.gotoPage(g),h.preventDefault()}});var b="slideshow_paused slideshow_unpaused slide_init slide_begin slideshow_stop slideshow_start initialized swf_completed".split(" ");a.each("onShowPause onShowUnpause onSlideInit onSlideBegin onShowStop onShowStart onInitialized onSWFComplete".split(" "),function(g,h){a.isFunction(c[h])&&d.$el.bind(b[g],c[h])});a.isFunction(c.onSlideComplete)&&d.$el.bind("slide_complete",function(){setTimeout(function(){c.onSlideComplete(d)},0)});d.initialized=!0;d.$el.trigger("initialized",d);d.startStop(d.playing)};d.updateSlider=function(){d.$el.children(".cloned").remove();d.$nav.empty();d.currentPage=d.currentPage||1;d.$items=d.$el.children();d.pages=d.$items.length;d.dir=c.vertical?"top":"left";c.showMultiple=c.vertical?1:parseInt(c.showMultiple,10)||1;c.navigationSize=!1===c.navigationSize?0:parseInt(c.navigationSize,10)||0;if(1<c.showMultiple){if(c.showMultiple>d.pages){c.showMultiple=d.pages}d.adjustMultiple=c.infiniteSlides&&1<d.pages?0:c.showMultiple-1;d.pages=d.$items.length-d.adjustMultiple}d.$controls.add(d.$nav).add(d.$startStop).add(d.$forward).add(d.$back)[1>=d.pages?"hide":"show"]();1<d.pages&&d.buildNavigation();c.infiniteSlides&&1<d.pages&&(d.$el.prepend(d.$items.filter(":last").clone().addClass("cloned")),1<c.showMultiple?d.$el.append(d.$items.filter(":lt("+c.showMultiple+")").clone().addClass("cloned multiple")):d.$el.append(d.$items.filter(":first").clone().addClass("cloned")),d.$el.find(".cloned").each(function(){a(this).find("a,input,textarea,select,button,area").attr("disabled","disabled");a(this).find("[id]").andSelf().removeAttr("id")}));d.$items=d.$el.children().addClass("panel"+(c.vertical?" vertical":""));d.setDimensions();c.resizeContents?(d.$items.css("width",d.width),d.$wrapper.css("width",d.getDim(d.currentPage)[0]).add(d.$items).css("height",d.height)):d.$win.load(function(){d.setDimensions()});if(d.currentPage>d.pages){d.currentPage=d.pages}d.setCurrentPage(d.currentPage,!1);d.$nav.find("a").eq(d.currentPage-1).addClass("cur")};d.buildNavigation=function(){if(c.buildNavigation&&1<d.pages){var g,b;d.$items.filter(":not(.cloned)").each(function(i){var h=i+1;g=(1===h?"first":"")+(h===d.pages?"last":"");b=a('<a class="panel'+h+'" href="#"><span></span></a>').wrap('<li class="'+g+'" />');d.$nav.append(b.parent());a.isFunction(c.navigationFormatter)?(g=c.navigationFormatter(h,a(this)),"hidden"===b.find("span").css("visibility")&&b.addClass(c.tooltipClass).attr("title",g)):g=h;b.bind(c.clickControls,function(j){if(!d.flag&&c.enableNavigation){d.flag=!0,setTimeout(function(){d.flag=!1},100),d.gotoPage(h),c.hashTags&&d.setHash(h)}j.preventDefault()}).find("span").html(g)});if(c.navigationSize&&c.navigationSize<d.pages){d.$controls.find(".anythingNavWindow").length||d.$nav.before('<ul><li class="prev"><a href="#"><span>'+c.backText+"</span></a></li></ul>").after('<ul><li class="next"><a href="#"><span>'+c.forwardText+"</span></a></li></ul>").wrap('<div class="anythingNavWindow"></div>'),d.navWidths=d.$nav.find("li").map(function(){return a(this).innerWidth()+Math.ceil(parseInt(a(this).find("span").css("left"),10)/2||0)}).get(),d.navLeft=1,d.$nav.width(d.navWidth(1,d.pages+1)+5),d.$controls.find(".anythingNavWindow").width(d.navWidth(1,c.navigationSize+1)).end().find(".prev,.next").bind(c.clickControls,function(h){if(!d.flag){d.flag=!0,setTimeout(function(){d.flag=!1},200),d.navWindow(d.navLeft+c.navigationSize*(a(this).is(".prev")?-1:1))}h.preventDefault()})}}};d.navWidth=function(g,j){var k;k=Math.min(g,j);for(var l=Math.max(g,j),h=0;k<l;k++){h+=d.navWidths[k-1]||0}return h};d.navWindow=function(g){if(c.navigationSize&&c.navigationSize<d.pages&&d.navWidths){var b=d.pages-c.navigationSize+1,g=1>=g?1:1<g&&g<b?g:b;if(g!==d.navLeft){d.$controls.find(".anythingNavWindow").animate({scrollLeft:d.navWidth(1,g),width:d.navWidth(g,g+c.navigationSize)},{queue:!1,duration:c.animationTime}),d.navLeft=g}}};d.buildNextBackButtons=function(){d.$forward=a('<span class="arrow forward"><a href="#"><span>'+c.forwardText+"</span></a></span>");d.$back=a('<span class="arrow back"><a href="#"><span>'+c.backText+"</span></a></span>");d.$back.bind(c.clickBackArrow,function(b){if(c.enableArrows&&!d.flag){d.flag=!0,setTimeout(function(){d.flag=!1},100),d.goBack()}b.preventDefault()});d.$forward.bind(c.clickForwardArrow,function(b){if(c.enableArrows&&!d.flag){d.flag=!0,setTimeout(function(){d.flag=!1},100),d.goForward()}b.preventDefault()});d.$back.add(d.$forward).find("a").bind("focusin focusout",function(){a(this).toggleClass("hover")});d.$back.appendTo(c.appendBackTo&&a(c.appendBackTo).length?a(c.appendBackTo):d.$wrapper);d.$forward.appendTo(c.appendForwardTo&&a(c.appendForwardTo).length?a(c.appendForwardTo):d.$wrapper);d.arrowWidth=d.$forward.width();d.arrowRight=parseInt(d.$forward.css("right"),10);d.arrowLeft=parseInt(d.$back.css("left"),10)};d.buildAutoPlay=function(){d.$startStop.html("<span>"+(d.playing?c.stopText:c.startText)+"</span>").bind(c.clickSlideshow,function(b){c.enableStartStop&&(d.startStop(!d.playing),d.makeActive(),d.playing&&!c.autoPlayDelayed&&d.goForward(!0));b.preventDefault()}).bind("focusin focusout",function(){a(this).toggleClass("hover")})};d.checkResize=function(b){clearTimeout(d.resizeTimer);d.resizeTimer=setTimeout(function(){var g=d.$outer.width()-d.outerPad[0],h=("BODY"===d.$outer[0].tagName?d.$win.height():d.$outer.height())-d.outerPad[1];if(d.width*c.showMultiple!==g||d.height!==h){d.setDimensions(),d.gotoPage(d.currentPage,d.playing,null,-1)}"undefined"===typeof b&&d.checkResize()},500)};d.setDimensions=function(){var r,p,q,o,m=0,n={width:"100%",height:"100%"},l=1<c.showMultiple?d.width||d.$window.width()/c.showMultiple:d.$window.width(),b=d.$win.width();if(c.expand){r=d.$outer.width()-d.outerPad[0],d.height=p=d.$outer.height()-d.outerPad[1],d.$wrapper.add(d.$window).add(d.$items).css({width:r,height:p}),d.width=l=1<c.showMultiple?r/c.showMultiple:r}d.$items.each(function(g){o=a(this);q=o.children();if(c.resizeContents){r=d.width,p=d.height,o.css({width:r,height:p}),q.length&&("EMBED"===q[0].tagName&&q.attr(n),"OBJECT"===q[0].tagName&&q.find("embed").attr(n),1===q.length&&q.css(n))}else{r=o.width()||d.width;1===q.length&&r>=b&&(r=q.width()>=b?l:q.width(),q.css("max-width",r));o.css("width",r);p=1===q.length?q.outerHeight(!0):o.height();if(p<=d.outerPad[1]){p=d.height}o.css("height",p)}d.panelSize[g]=[r,p,m];m+=c.vertical?p:r});d.$el.css(c.vertical?"height":"width",m)};d.getDim=function(i){if(1>d.pages||isNaN(i)){return[d.width,d.height]}var i=c.infiniteSlides&&1<d.pages?i:i-1,b,g=d.panelSize[i][0],h=d.panelSize[i][1];if(1<c.showMultiple){for(b=1;b<c.showMultiple;b++){g+=d.panelSize[(i+b)%c.showMultiple][0],h=Math.max(h,d.panelSize[i+b][1])}}return[g,h]};d.goForward=function(b){d.gotoPage(d.currentPage+c.changeBy*(c.playRtl?-1:1),b)};d.goBack=function(b){d.gotoPage(d.currentPage+c.changeBy*(c.playRtl?1:-1),b)};d.gotoPage=function(j,h,i,b){!0!==h&&(h=!1,d.startStop(!1),d.makeActive());/^[#|.]/.test(j)&&a(j).length&&(j=a(j).closest(".panel").index()+d.adj);1!==c.changeBy&&(0>j&&(j+=d.pages),j>d.pages&&(j-=d.pages));if(!(1>=d.pages)){d.$lastPage=d.$currentPage;if("number"!==typeof j){j=c.startPanel,d.setCurrentPage(j)}if(!h||!c.isVideoPlaying(d)){d.exactPage=j;j>d.pages+1-d.adj&&(j=!c.infiniteSlides&&!c.stopAtEnd?1:d.pages);j<d.adj&&(j=!c.infiniteSlides&&!c.stopAtEnd?d.pages:1);if(!c.infiniteSlides){d.exactPage=j}d.currentPage=j>d.pages?d.pages:1>j?1:d.currentPage;d.$currentPage=d.$items.eq(d.currentPage-d.adj);d.targetPage=0===j?d.pages:j>d.pages?1:j;d.$targetPage=d.$items.eq(d.targetPage-1);b=b||c.animationTime;0<=b&&d.$el.trigger("slide_init",d);d.slideControls(!0,!1);!0!==h&&(h=!1);(!h||c.stopAtEnd&&j===d.pages)&&d.startStop(!1);0<=b&&d.$el.trigger("slide_begin",d);setTimeout(function(g){c.resizeContents||(g=d.getDim(j),d.$wrapper.filter(":not(:animated)").animate({width:g[0]||d.width,height:g[1]||d.height},{queue:!1,duration:0>b?0:b,easing:c.easing}));g={};g[d.dir]=-d.panelSize[c.infiniteSlides&&1<d.pages?j:j-1][2];d.$el.filter(":not(:animated)").animate(g,{queue:!1,duration:b,easing:c.easing,complete:function(){d.endAnimation(j,i,b)}})},parseInt(c.delayBeforeAnimate,10)||0)}}};d.endAnimation=function(h,g,b){0===h?(d.$el.css(d.dir,-d.panelSize[d.pages][2]),h=d.pages):h>d.pages&&(d.$el.css(d.dir,-d.panelSize[1][2]),h=1);d.exactPage=h;d.setCurrentPage(h,!1);d.$items.removeClass("activePage").eq(h-d.adj).addClass("activePage");d.hovered||d.slideControls(!1);0<=b&&d.$el.trigger("slide_complete",d);"function"===typeof g&&g(d);c.autoPlayLocked&&!d.playing&&setTimeout(function(){d.startStop(!0)},c.resumeDelay-(c.autoPlayDelayed?c.delay:0))};d.setCurrentPage=function(h,g){h=parseInt(h,10);if(!(1>d.pages||0===h||isNaN(h))){h>d.pages+1-d.adj&&(h=d.pages-d.adj);h<d.adj&&(h=1);c.buildNavigation&&d.$nav.find(".cur").removeClass("cur").end().find("a").eq(h-1).addClass("cur");!c.infiniteSlides&&c.stopAtEnd&&(d.$wrapper.find("span.forward")[h===d.pages?"addClass":"removeClass"]("disabled").end().find("span.back")[1===h?"addClass":"removeClass"]("disabled"),h===d.pages&&d.playing&&d.startStop());if(!g){var b=d.getDim(h);d.$wrapper.css({width:b[0],height:b[1]}).add(d.$window).scrollLeft(0);d.$el.css(d.dir,-d.panelSize[c.infiniteSlides&&1<d.pages?h:h-1][2])}d.currentPage=h;d.$currentPage=d.$items.removeClass("activePage").eq(h-d.adj).addClass("activePage")}};d.makeActive=function(){d.$wrapper.is(".activeSlider")||(a(".activeSlider").removeClass("activeSlider"),d.$wrapper.addClass("activeSlider"))};d.gotoHash=function(){var h=d.win.location.hash,b=h.indexOf("&"),g=h.match(d.regex);null===g&&!/^#&/.test(h)&&!/#!?\//.test(h)?(h=h.substring(0,0<=b?b:h.length),g=a(h).length&&a(h).closest(".anythingBase")[0]===d.el?a(h).closest(".panel").index():null):null!==g&&(g=c.hashTags?parseInt(g[1],10):null);return g};d.setHash=function(g){var i="panel"+d.runTimes+"-",h=d.win.location.hash;if("undefined"!==typeof h){d.win.location.hash=0<h.indexOf(i)?h.replace(d.regex,i+g):h+"&"+i+g}};d.slideControls=function(l){var k=l?0:c.animationTime,j=l?c.animationTime:0,i=l?1:0,b=l?0:1;c.toggleControls&&d.$controls.stop(!0,!0).delay(k)[l?"slideDown":"slideUp"](c.animationTime/2).delay(j);c.buildArrows&&c.toggleArrows&&(!d.hovered&&d.playing&&(b=1,i=0),d.$forward.stop(!0,!0).delay(k).animate({right:d.arrowRight+b*d.arrowWidth,opacity:i},c.animationTime/2),d.$back.stop(!0,!0).delay(k).animate({left:d.arrowLeft+b*d.arrowWidth,opacity:i},c.animationTime/2))};d.clearTimer=function(g){if(d.timer&&(d.win.clearInterval(d.timer),!g&&d.slideshow)){d.$el.trigger("slideshow_stop",d),d.slideshow=!1}};d.startStop=function(g,b){!0!==g&&(g=!1);if((d.playing=g)&&!b){d.$el.trigger("slideshow_start",d),d.slideshow=!0}c.buildStartStop&&(d.$startStop.toggleClass("playing",g).find("span").html(g?c.stopText:c.startText),0>parseInt(d.$startStop.find("span").css("text-indent"),10)&&d.$startStop.addClass(c.tooltipClass).attr("title",g?c.stopText:c.startText));g?(d.clearTimer(!0),d.timer=d.win.setInterval(function(){c.isVideoPlaying(d)?c.resumeOnVideoEnd||d.startStop():d.goForward(!0)},c.delay)):d.clearTimer()};d.init()};a.anythingSlider.defaults={theme:"default",expand:!1,resizeContents:!0,vertical:!1,showMultiple:!1,easing:"swing",buildArrows:!0,buildNavigation:!0,buildStartStop:!0,toggleArrows:!1,toggleControls:!1,startText:"Start",stopText:"Stop",forwardText:"&raquo;",backText:"&laquo;",tooltipClass:"tooltip",enableArrows:!0,enableNavigation:!0,enableStartStop:!0,enableKeyboard:!0,startPanel:1,changeBy:1,hashTags:!0,infiniteSlides:!0,navigationFormatter:null,navigationSize:!1,autoPlay:!1,autoPlayLocked:!1,autoPlayDelayed:!1,pauseOnHover:!0,stopAtEnd:!1,playRtl:!1,delay:3000,resumeDelay:15000,animationTime:600,delayBeforeAnimate:0,clickForwardArrow:"click",clickBackArrow:"click",clickControls:"click focusin",clickSlideshow:"click",resumeOnVideoEnd:!0,resumeOnVisible:!0,addWmodeToObject:"opaque",isVideoPlaying:function(){return !1}};a.fn.anythingSlider=function(c,b){return this.each(function(){var e,d=a(this).data("AnythingSlider");(typeof c).match("object|undefined")?d?d.updateSlider():new a.anythingSlider(this,c):/\d/.test(c)&&!isNaN(c)&&d?(e="number"===typeof c?c:parseInt(a.trim(c),10),1<=e&&e<=d.pages&&d.gotoPage(e,!1,b)):/^[#|.]/.test(c)&&a(c).length&&d.gotoPage(c,!1,b)})}})(jQuery);jQuery.extend(jQuery.easing,{easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});var isIE6=navigator.userAgent.toLowerCase().indexOf("msie 6")!=-1;jQuery.fn.megamenu=function(a){a=jQuery.extend({activate_action:"mouseover",deactivate_action:"mouseleave",show_method:"slideDown",hide_method:"slideUp",justify:"left",enable_js_shadow:true,shadow_size:3,mm_timeout:250},a);var b=this;if(a.activate_action=="click"){a.mm_timeout=0}b.children("li").each(function(){jQuery(this).addClass("mm-item");jQuery(".mm-item").css({"float":a.justify});jQuery(this).find("div:first").addClass("mm-item-content");jQuery(this).find("a:first").addClass("mm-item-link");var d=jQuery(this).find(".mm-item-content");var e=jQuery(this).find(".mm-item-link");d.hide();jQuery(document).bind("click",function(){jQuery(".mm-item-content").hide();jQuery(".mm-item-link").removeClass("mm-item-link-hover")});jQuery(this).bind("click",function(f){f.stopPropagation()});d.wrapInner('<div class="mm-content-base"></div>');if(a.enable_js_shadow==true){d.append('<div class="mm-js-shadow"></div>')}var c=0;jQuery(this).bind(a.activate_action,function(h){h.stopPropagation();var g=jQuery(this).find("a.mm-item-link");var f=jQuery(this).find("div.mm-item-content");clearTimeout(c);c=setTimeout(function(){g.addClass("mm-item-link-hover");f.css({top:(e.offset().top+e.outerHeight())-1+"px",left:(e.offset().left)-5+"px"});if(a.justify=="left"){var j=b.offset().left+b.outerWidth();var k=e.offset().left+d.outerWidth()-5;if(k>=j){f.css({left:(e.offset().left-(k-j))-2+"px"})}}else{if(a.justify=="right"){var i=b.offset().left;var l=e.offset().left-f.outerWidth()+e.outerWidth()+5;if(l<=i){f.css({left:i+2+"px"})}else{f.css({left:l+"px"})}}}if(a.enable_js_shadow==true){f.find(".mm-js-shadow").height(f.height());f.find(".mm-js-shadow").width(f.width());f.find(".mm-js-shadow").css({top:(a.shadow_size)+(isIE6?2:0)+"px",left:(a.shadow_size)+(isIE6?2:0)+"px",opacity:0.5})}switch(a.show_method){case"simple":f.show();break;case"slideDown":f.height("auto");f.slideDown("fast");break;case"fadeIn":f.fadeTo("fast",1);break;default:f.each(a.show_method);break}},a.mm_timeout)});jQuery(this).bind(a.deactivate_action,function(h){h.stopPropagation();clearTimeout(c);var g=jQuery(this).find("a.mm-item-link");var f=jQuery(this).find("div.mm-item-content");switch(a.hide_method){case"simple":f.hide();g.removeClass("mm-item-link-hover");break;case"slideUp":f.slideUp("fast",function(){g.removeClass("mm-item-link-hover")});break;case"fadeOut":f.fadeOut("fast",function(){g.removeClass("mm-item-link-hover")});break;default:f.each(a.hide_method);g.removeClass("mm-item-link-hover");break}if(f.length<1){g.removeClass("mm-item-link-hover")}})});this.find(">li:last").after('<li class="clear-fix"></li>');this.show()};/*!
 * jQuery UI 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(f,e){function g(a){return !f(a).parents().andSelf().filter(function(){return f.curCSS(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}function h(a,l){var k=a.nodeName.toLowerCase();if("area"===k){var j=a.parentNode,i=j.name,d;if(!a.href||!i||j.nodeName.toLowerCase()!=="map"){return !1}d=f("img[usemap=#"+i+"]")[0];return !!d&&g(d)}return(/input|select|textarea|button|object/.test(k)?!a.disabled:"a"==k?a.href||l:l)&&g(a)}f.ui=f.ui||{};f.ui.version||(f.extend(f.ui,{version:"1.8.18",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),f.fn.extend({propAttr:f.fn.prop||f.fn.attr,_focus:f.fn.focus,focus:function(a,d){return typeof a=="number"?this.each(function(){var b=this;setTimeout(function(){f(b).focus(),d&&d.call(b)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;f.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(f.curCSS(this,"position",1))&&/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(f.curCSS(this,"overflow",1)+f.curCSS(this,"overflow-y",1)+f.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?f(document):a},zIndex:function(j){if(j!==e){return this.css("zIndex",j)}if(this.length){var i=f(this[0]),b,a;while(i.length&&i[0]!==document){b=i.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){a=parseInt(i.css("zIndex"),10);if(!isNaN(a)&&a!==0){return a}}i=i.parent()}}return 0},disableSelection:function(){return this.bind((f.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),f.each(["Width","Height"],function(l,k){function a(m,p,o,n){f.each(j,function(){p-=parseFloat(f.curCSS(m,"padding"+this,!0))||0,o&&(p-=parseFloat(f.curCSS(m,"border"+this+"Width",!0))||0),n&&(p-=parseFloat(f.curCSS(m,"margin"+this,!0))||0)});return p}var j=k==="Width"?["Left","Right"]:["Top","Bottom"],i=k.toLowerCase(),b={innerWidth:f.fn.innerWidth,innerHeight:f.fn.innerHeight,outerWidth:f.fn.outerWidth,outerHeight:f.fn.outerHeight};f.fn["inner"+k]=function(d){if(d===e){return b["inner"+k].call(this)}return this.each(function(){f(this).css(i,a(this,d)+"px")})},f.fn["outer"+k]=function(d,m){if(typeof d!="number"){return b["outer"+k].call(this,d)}return this.each(function(){f(this).css(i,a(this,d,!0,m)+"px")})}}),f.extend(f.expr[":"],{data:function(a,j,i){return !!f.data(a,i[3])},focusable:function(a){return h(a,!isNaN(f.attr(a,"tabindex")))},tabbable:function(a){var i=f.attr(a,"tabindex"),c=isNaN(i);return(c||i>=0)&&h(a,!c)}}),f(function(){var a=document.body,d=a.appendChild(d=document.createElement("div"));d.offsetHeight,f.extend(d.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),f.support.minHeight=d.offsetHeight===100,f.support.selectstart="onselectstart" in d,a.removeChild(d).style.display="none"}),f.extend(f.ui,{plugin:{add:function(a,l,k){var j=f.ui[a].prototype;for(var i in k){j.plugins[i]=j.plugins[i]||[],j.plugins[i].push([l,k[i]])}},call:function(j,i,m){var l=j.plugins[i];if(!!l&&!!j.element[0].parentNode){for(var k=0;k<l.length;k++){j.options[l[k][0]]&&l[k][1].apply(j.element,m)}}}},contains:function(d,c){return document.compareDocumentPosition?d.compareDocumentPosition(c)&16:d!==c&&d.contains(c)},hasScroll:function(a,k){if(f(a).css("overflow")==="hidden"){return !1}var j=k&&k==="left"?"scrollLeft":"scrollTop",i=!1;if(a[j]>0){return !0}a[j]=1,i=a[j]>0,a[j]=0;return i},isOverAxis:function(i,d,j){return i>d&&i<d+j},isOver:function(a,m,l,k,j,i){return f.ui.isOverAxis(a,l,j)&&f.ui.isOverAxis(m,k,i)}}))})(jQuery),function(f,e){if(f.cleanData){var h=f.cleanData;f.cleanData=function(a){for(var j=0,i;(i=a[j])!=null;j++){try{f(i).triggerHandler("remove")}catch(c){}}h(a)}}else{var g=f.fn.remove;f.fn.remove=function(a,d){return this.each(function(){d||(!a||f.filter(a,[this]).length)&&f("*",this).add([this]).each(function(){try{f(this).triggerHandler("remove")}catch(c){}});return g.call(f(this),a,d)})}}f.widget=function(a,m,l){var k=a.split(".")[0],j;a=a.split(".")[1],j=k+"-"+a,l||(l=m,m=f.Widget),f.expr[":"][j]=function(b){return !!f.data(b,a)},f[k]=f[k]||{},f[k][a]=function(d,c){arguments.length&&this._createWidget(d,c)};var i=new m;i.options=f.extend(!0,{},i.options),f[k][a].prototype=f.extend(!0,i,{namespace:k,widgetName:a,widgetEventPrefix:f[k][a].prototype.widgetEventPrefix||a,widgetBaseClass:j},l),f.widget.bridge(a,f[k][a])},f.widget.bridge=function(b,a){f.fn[b]=function(j){var i=typeof j=="string",d=Array.prototype.slice.call(arguments,1),c=this;j=!i&&d.length?f.extend.apply(null,[!0,j].concat(d)):j;if(i&&j.charAt(0)==="_"){return c}i?this.each(function(){var l=f.data(this,b),k=l&&f.isFunction(l[j])?l[j].apply(l,d):l;if(k!==l&&k!==e){c=k;return !1}}):this.each(function(){var k=f.data(this,b);k?k.option(j||{})._init():f.data(this,b,new a(j,this))});return c}},f.Widget=function(d,c){arguments.length&&this._createWidget(d,c)},f.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,j){f.data(j,this.widgetName,this),this.element=f(j),this.options=f.extend(!0,{},this.options,this._getCreateOptions(),a);var i=this;this.element.bind("remove."+this.widgetName,function(){i.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return f.metadata&&f.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(i,b){var a=i;if(arguments.length===0){return f.extend({},this.options)}if(typeof i=="string"){if(b===e){return this.options[i]}a={},a[i]=b}this._setOptions(a);return this},_setOptions:function(a){var d=this;f.each(a,function(i,c){d._setOption(i,c)});return this},_setOption:function(d,c){this.options[d]=c,d==="disabled"&&this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,m,l){var k,j,i=this.options[a];l=l||{},m=f.Event(m),m.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),m.target=this.element[0],j=m.originalEvent;if(j){for(k in j){k in m||(m[k]=j[k])}}this.element.trigger(m,l);return !(f.isFunction(i)&&i.call(this.element[0],m,l)===!1||m.isDefaultPrevented())}}}(jQuery),function(e,d){var f=!1;e(document).mouseup(function(b){f=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===e.data(b.target,a.widgetName+".preventClickEvent")){e.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation();return !1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){if(!f){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var h=this,g=a.which==1,c=typeof this.options.cancel=="string"&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;if(!g||c||!this._mouseCapture(a)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==!1;if(!this._mouseStarted){a.preventDefault();return !0}}!0===e.data(a.target,this.widgetName+".preventClickEvent")&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return h._mouseMove(b)},this._mouseUpDelegate=function(b){return h._mouseUp(b)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),f=!0;return !0}},_mouseMove:function(a){if(e.browser.msie&&!(document.documentMode>=9)&&!a.button){return this._mouseUp(a)}if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a));return !this._mouseStarted},_mouseUp:function(a){e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target==this._mouseDownEvent.target&&e.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a));return !1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(b){return this.mouseDelayMet},_mouseStart:function(b){},_mouseDrag:function(b){},_mouseStop:function(b){},_mouseCapture:function(b){return !0}})}(jQuery),function(d,c){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!!this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();return this}},_mouseCapture:function(a){var e=this.options;if(this.helper||e.disabled||d(a.target).is(".ui-resizable-handle")){return !1}this.handle=this._getHandle(a);if(!this.handle){return !1}e.iframeFix&&d(e.iframeFix===!0?"iframe":e.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(d(this).offset()).appendTo("body")});return !0},_mouseStart:function(a){var e=this.options;this.helper=this._createHelper(a),this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),e.containment&&this._setContainment();if(this._trigger("start",a)===!1){this._clear();return !1}this._cacheHelperProportions(),d.ui.ddmanager&&!e.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(a,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,a);return !0},_mouseDrag:function(a,f){this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute");if(!f){var e=this._uiHash();if(this._trigger("drag",a,e)===!1){this._mouseUp({});return !1}this.position=e.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return !1},_mouseStop:function(a){var f=!1;d.ui.ddmanager&&!this.options.dropBehaviour&&(f=d.ui.ddmanager.drop(this,a)),this.dropped&&(f=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original"){return !1}if(this.options.revert=="invalid"&&!f||this.options.revert=="valid"&&f||this.options.revert===!0||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)){var e=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",a)!==!1&&e._clear()})}else{this._trigger("stop",a)!==!1&&this._clear()}return !1},_mouseUp:function(a){this.options.iframeFix===!0&&d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a);return d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var e=!this.options.handle||!d(this.options.handle,this.element).length?!0:!1;d(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(e=!0)});return e},_createHelper:function(a){var f=this.options,e=d.isFunction(f.helper)?d(f.helper.apply(this.element[0],[a])):f.helper=="clone"?this.element.clone().removeAttr("id"):this.element;e.parents("body").length||e.appendTo(f.appendTo=="parent"?this.element[0].parentNode:f.appendTo),e[0]!=this.element[0]&&!/(fixed|absolute)/.test(e.css("position"))&&e.css("position","absolute");return e},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),d.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;a.containment=="parent"&&(a.containment=this.helper[0].parentNode);if(a.containment=="document"||a.containment=="window"){this.containment=[a.containment=="document"?0:d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a.containment=="document"?0:d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var j=d(a.containment),i=j[0];if(!i){return}var h=j.offset(),g=d(i).css("overflow")!="hidden";this.containment=[(parseInt(d(i).css("borderLeftWidth"),10)||0)+(parseInt(d(i).css("paddingLeft"),10)||0),(parseInt(d(i).css("borderTopWidth"),10)||0)+(parseInt(d(i).css("paddingTop"),10)||0),(g?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(d(i).css("borderLeftWidth"),10)||0)-(parseInt(d(i).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(g?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(d(i).css("borderTopWidth"),10)||0)-(parseInt(d(i).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=j}else{a.containment.constructor==Array&&(this.containment=a.containment)}},_convertPositionTo:function(a,l){l||(l=this.position);var k=a=="absolute"?1:-1,j=this.options,i=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(i[0].tagName);return{top:l.top+this.offset.relative.top*k+this.offset.parent.top*k-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:i.scrollTop())*k),left:l.left+this.offset.relative.left*k+this.offset.parent.left*k-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:i.scrollLeft())*k)}},_generatePosition:function(u){var s=this.options,r=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,q=/(html|body)/i.test(r[0].tagName),p=u.pageX,o=u.pageY;if(this.originalPosition){var n;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();n=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]}else{n=this.containment}u.pageX-this.offset.click.left<n[0]&&(p=n[0]+this.offset.click.left),u.pageY-this.offset.click.top<n[1]&&(o=n[1]+this.offset.click.top),u.pageX-this.offset.click.left>n[2]&&(p=n[2]+this.offset.click.left),u.pageY-this.offset.click.top>n[3]&&(o=n[3]+this.offset.click.top)}if(s.grid){var l=s.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY;o=n?l-this.offset.click.top<n[1]||l-this.offset.click.top>n[3]?l-this.offset.click.top<n[1]?l+s.grid[1]:l-s.grid[1]:l:l;var a=s.grid[0]?this.originalPageX+Math.round((p-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX;p=n?a-this.offset.click.left<n[0]||a-this.offset.click.left>n[2]?a-this.offset.click.left<n[0]?a+s.grid[0]:a-s.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():q?0:r.scrollTop()),left:p-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():q?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(a,f,e){e=e||this._uiHash(),d.ui.plugin.call(this,a,[f,e]),a=="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return d.Widget.prototype._trigger.call(this,a,f,e)},plugins:{},_uiHash:function(b){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),d.extend(d.ui.draggable,{version:"1.8.18"}),d.ui.plugin.add("draggable","connectToSortable",{start:function(a,j){var i=d(this).data("draggable"),h=i.options,g=d.extend({},j,{item:i.element});i.sortables=[],d(h.connectToSortable).each(function(){var b=d.data(this,"sortable");b&&!b.options.disabled&&(i.sortables.push({instance:b,shouldRevert:b.options.revert}),b.refreshPositions(),b._trigger("activate",a,g))})},stop:function(a,h){var g=d(this).data("draggable"),f=d.extend({},h,{item:g.element});d.each(g.sortables,function(){this.instance.isOver?(this.instance.isOver=0,g.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,g.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,f))})},drag:function(a,j){var i=d(this).data("draggable"),h=this,g=function(s){var r=this.offset.click.top,q=this.offset.click.left,p=this.positionAbs.top,o=this.positionAbs.left,n=s.height,m=s.width,l=s.top,k=s.left;return d.ui.isOver(p+r,o+q,l,k,n,m)};d.each(i.sortables,function(b){this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=d(h).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return j.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",a),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",a),i.dropped=!1)})}}),d.ui.plugin.add("draggable","cursor",{start:function(a,h){var g=d("body"),f=d(this).data("draggable").options;g.css("cursor")&&(f._cursor=g.css("cursor")),g.css("cursor",f.cursor)},stop:function(a,f){var e=d(this).data("draggable").options;e._cursor&&d("body").css("cursor",e._cursor)}}),d.ui.plugin.add("draggable","opacity",{start:function(a,h){var g=d(h.helper),f=d(this).data("draggable").options;g.css("opacity")&&(f._opacity=g.css("opacity")),g.css("opacity",f.opacity)},stop:function(a,f){var e=d(this).data("draggable").options;e._opacity&&d(f.helper).css("opacity",e._opacity)}}),d.ui.plugin.add("draggable","scroll",{start:function(a,f){var e=d(this).data("draggable");e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"&&(e.overflowOffset=e.scrollParent.offset())},drag:function(a,j){var i=d(this).data("draggable"),h=i.options,g=!1;if(i.scrollParent[0]!=document&&i.scrollParent[0].tagName!="HTML"){if(!h.axis||h.axis!="x"){i.overflowOffset.top+i.scrollParent[0].offsetHeight-a.pageY<h.scrollSensitivity?i.scrollParent[0].scrollTop=g=i.scrollParent[0].scrollTop+h.scrollSpeed:a.pageY-i.overflowOffset.top<h.scrollSensitivity&&(i.scrollParent[0].scrollTop=g=i.scrollParent[0].scrollTop-h.scrollSpeed)}if(!h.axis||h.axis!="y"){i.overflowOffset.left+i.scrollParent[0].offsetWidth-a.pageX<h.scrollSensitivity?i.scrollParent[0].scrollLeft=g=i.scrollParent[0].scrollLeft+h.scrollSpeed:a.pageX-i.overflowOffset.left<h.scrollSensitivity&&(i.scrollParent[0].scrollLeft=g=i.scrollParent[0].scrollLeft-h.scrollSpeed)}}else{if(!h.axis||h.axis!="x"){a.pageY-d(document).scrollTop()<h.scrollSensitivity?g=d(document).scrollTop(d(document).scrollTop()-h.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<h.scrollSensitivity&&(g=d(document).scrollTop(d(document).scrollTop()+h.scrollSpeed))}if(!h.axis||h.axis!="y"){a.pageX-d(document).scrollLeft()<h.scrollSensitivity?g=d(document).scrollLeft(d(document).scrollLeft()-h.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<h.scrollSensitivity&&(g=d(document).scrollLeft(d(document).scrollLeft()+h.scrollSpeed))}}g!==!1&&d.ui.ddmanager&&!h.dropBehaviour&&d.ui.ddmanager.prepareOffsets(i,a)}}),d.ui.plugin.add("draggable","snap",{start:function(a,h){var g=d(this).data("draggable"),f=g.options;g.snapElements=[],d(f.snap.constructor!=String?f.snap.items||":data(draggable)":f.snap).each(function(){var e=d(this),i=e.offset();this!=g.element[0]&&g.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(L,K){var J=d(this).data("draggable"),I=J.options,H=I.snapTolerance,G=K.offset.left,F=G+J.helperProportions.width,E=K.offset.top,D=E+J.helperProportions.height;for(var C=J.snapElements.length-1;C>=0;C--){var B=J.snapElements[C].left,A=B+J.snapElements[C].width,z=J.snapElements[C].top,y=z+J.snapElements[C].height;if(!(B-H<G&&G<A+H&&z-H<E&&E<y+H||B-H<G&&G<A+H&&z-H<D&&D<y+H||B-H<F&&F<A+H&&z-H<E&&E<y+H||B-H<F&&F<A+H&&z-H<D&&D<y+H)){J.snapElements[C].snapping&&J.options.snap.release&&J.options.snap.release.call(J.element,L,d.extend(J._uiHash(),{snapItem:J.snapElements[C].item})),J.snapElements[C].snapping=!1;continue}if(I.snapMode!="inner"){var x=Math.abs(z-D)<=H,w=Math.abs(y-E)<=H,v=Math.abs(B-F)<=H,u=Math.abs(A-G)<=H;x&&(K.position.top=J._convertPositionTo("relative",{top:z-J.helperProportions.height,left:0}).top-J.margins.top),w&&(K.position.top=J._convertPositionTo("relative",{top:y,left:0}).top-J.margins.top),v&&(K.position.left=J._convertPositionTo("relative",{top:0,left:B-J.helperProportions.width}).left-J.margins.left),u&&(K.position.left=J._convertPositionTo("relative",{top:0,left:A}).left-J.margins.left)}var a=x||w||v||u;if(I.snapMode!="outer"){var x=Math.abs(z-E)<=H,w=Math.abs(y-D)<=H,v=Math.abs(B-G)<=H,u=Math.abs(A-F)<=H;x&&(K.position.top=J._convertPositionTo("relative",{top:z,left:0}).top-J.margins.top),w&&(K.position.top=J._convertPositionTo("relative",{top:y-J.helperProportions.height,left:0}).top-J.margins.top),v&&(K.position.left=J._convertPositionTo("relative",{top:0,left:B}).left-J.margins.left),u&&(K.position.left=J._convertPositionTo("relative",{top:0,left:A-J.helperProportions.width}).left-J.margins.left)}!J.snapElements[C].snapping&&(x||w||v||u||a)&&J.options.snap.snap&&J.options.snap.snap.call(J.element,L,d.extend(J._uiHash(),{snapItem:J.snapElements[C].item})),J.snapElements[C].snapping=x||w||v||u||a}}}),d.ui.plugin.add("draggable","stack",{start:function(a,j){var i=d(this).data("draggable").options,h=d.makeArray(d(i.stack)).sort(function(e,f){return(parseInt(d(e).css("zIndex"),10)||0)-(parseInt(d(f).css("zIndex"),10)||0)});if(!!h.length){var g=parseInt(h[0].style.zIndex)||0;d(h).each(function(b){this.style.zIndex=g+b}),this[0].style.zIndex=g+h.length}}}),d.ui.plugin.add("draggable","zIndex",{start:function(a,h){var g=d(h.helper),f=d(this).data("draggable").options;g.css("zIndex")&&(f._zIndex=g.css("zIndex")),g.css("zIndex",f.zIndex)},stop:function(a,f){var e=d(this).data("draggable").options;e._zIndex&&d(f.helper).css("zIndex",e._zIndex)}})}(jQuery),function(d,c){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,e=a.accept;this.isover=0,this.isout=1,this.accept=d.isFunction(e)?e:function(b){return b.is(e)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[],d.ui.ddmanager.droppables[a.scope].push(this),a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var a=d.ui.ddmanager.droppables[this.options.scope];for(var e=0;e<a.length;e++){a[e]==this&&a.splice(e,1)}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,e){a=="accept"&&(this.accept=d.isFunction(e)?e:function(b){return b.is(e)}),d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var e=d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",a,this.ui(e))},_deactivate:function(a){var e=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",a,this.ui(e))},_over:function(a){var e=d.ui.ddmanager.current;!!e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(e)))},_out:function(a){var e=d.ui.ddmanager.current;!!e&&(e.currentItem||e.element)[0]!=this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(e)))},_drop:function(a,h){var g=h||d.ui.ddmanager.current;if(!g||(g.currentItem||g.element)[0]==this.element[0]){return !1}var f=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var e=d.data(this,"droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope==g.options.scope&&e.accept.call(e.element[0],g.currentItem||g.element)&&d.ui.intersect(g,d.extend(e,{offset:e.element.offset()}),e.options.tolerance)){f=!0;return !1}});if(f){return !1}if(this.accept.call(this.element[0],g.currentItem||g.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(g));return this.element}return !1},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}}),d.extend(d.ui.droppable,{version:"1.8.18"}),d.ui.intersect=function(C,B,A){if(!B.offset){return !1}var z=(C.positionAbs||C.position.absolute).left,y=z+C.helperProportions.width,x=(C.positionAbs||C.position.absolute).top,w=x+C.helperProportions.height,v=B.offset.left,u=v+B.proportions.width,s=B.offset.top,r=s+B.proportions.height;switch(A){case"fit":return v<=z&&y<=u&&s<=x&&w<=r;case"intersect":return v<z+C.helperProportions.width/2&&y-C.helperProportions.width/2<u&&s<x+C.helperProportions.height/2&&w-C.helperProportions.height/2<r;case"pointer":var q=(C.positionAbs||C.position.absolute).left+(C.clickOffset||C.offset.click).left,p=(C.positionAbs||C.position.absolute).top+(C.clickOffset||C.offset.click).top,a=d.ui.isOver(p,q,s,v,B.proportions.height,B.proportions.width);return a;case"touch":return(x>=s&&x<=r||w>=s&&w<=r||x<s&&w>r)&&(z>=v&&z<=u||y>=v&&y<=u||z<v&&y>u);default:return !1}},d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,n){var m=d.ui.ddmanager.droppables[a.options.scope]||[],l=n?n.type:null,k=(a.currentItem||a.element).find(":data(droppable)").andSelf();droppablesLoop:for(var j=0;j<m.length;j++){if(m[j].options.disabled||a&&!m[j].accept.call(m[j].element[0],a.currentItem||a.element)){continue}for(var i=0;i<k.length;i++){if(k[i]==m[j].element[0]){m[j].proportions.height=0;continue droppablesLoop}}m[j].visible=m[j].element.css("display")!="none";if(!m[j].visible){continue}l=="mousedown"&&m[j]._activate.call(m[j],n),m[j].offset=m[j].element.offset(),m[j].proportions={width:m[j].element[0].offsetWidth,height:m[j].element[0].offsetHeight}}},drop:function(a,f){var e=!1;d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance)&&(e=this._drop.call(this,f)||e),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,f)))});return e},dragStart:function(a,e){a.element.parents(":not(body,html)").bind("scroll.droppable",function(){a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,e)})},drag:function(a,e){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,e),d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var j=d.ui.intersect(a,this,this.options.tolerance),i=!j&&this.isover==1?"isout":j&&this.isover==0?"isover":null;if(!i){return}var h;if(this.options.greedy){var b=this.element.parents(":data(droppable):eq(0)");b.length&&(h=d.data(b[0],"droppable"),h.greedyChild=i=="isover"?1:0)}h&&i=="isover"&&(h.isover=0,h.isout=1,h._out.call(h,e)),this[i]=1,this[i=="isout"?"isover":"isout"]=0,this[i=="isover"?"_over":"_out"].call(this,e),h&&i=="isout"&&(h.isout=0,h.isover=1,h._over.call(h,e))}})},dragStop:function(a,e){a.element.parents(":not(body,html)").unbind("scroll.droppable"),a.options.refreshPositions||d.ui.ddmanager.prepareOffsets(a,e)}}}(jQuery),function(f,e){f.widget("ui.resizable",f.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var a=this,n=this.options;this.element.addClass("ui-resizable"),f.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(f('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(f(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var m=this.handles.split(",");this.handles={};for(var l=0;l<m.length;l++){var k=f.trim(m[l]),j="ui-resizable-"+k,i=f('<div class="ui-resizable-handle '+j+'"></div>');/sw|se|ne|nw/.test(k)&&i.css({zIndex:++n.zIndex}),"se"==k&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[k]=".ui-resizable-"+k,this.element.append(i)}}this._renderAxis=function(o){o=o||this.element;for(var s in this.handles){this.handles[s].constructor==String&&(this.handles[s]=f(this.handles[s],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=f(this.handles[s],this.element),q=0;q=/sw|ne|nw|se|n|s/.test(s)?r.outerHeight():r.outerWidth();var p=["padding",/ne|nw|n/.test(s)?"Top":/se|sw|s/.test(s)?"Bottom":/^e$/.test(s)?"Right":"Left"].join("");o.css(p,q),this._proportionallyResize()}if(!f(this.handles[s]).length){continue}}},this._renderAxis(this.element),this._handles=f(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!a.resizing){if(this.className){var b=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}a.axis=b&&b[1]?b[1]:"se"}}),n.autoHide&&(this._handles.hide(),f(this.element).addClass("ui-resizable-autohide").hover(function(){n.disabled||(f(this).removeClass("ui-resizable-autohide"),a._handles.show())},function(){n.disabled||a.resizing||(f(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var a=function(c){f(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){a(this.element);var d=this.element;d.after(this.originalElement.css({position:d.css("position"),width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement);return this},_mouseCapture:function(a){var j=!1;for(var i in this.handles){f(this.handles[i])[0]==a.target&&(j=!0)}return !this.options.disabled&&j},_mouseStart:function(a){var n=this.options,m=this.element.position(),l=this.element;this.resizing=!0,this.documentScroll={top:f(document).scrollTop(),left:f(document).scrollLeft()},(l.is(".ui-draggable")||/absolute/.test(l.css("position")))&&l.css({position:"absolute",top:m.top,left:m.left}),this._renderProxy();var k=h(this.helper.css("left")),j=h(this.helper.css("top"));n.containment&&(k+=f(n.containment).scrollLeft()||0,j+=f(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:k,top:j},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:k,top:j},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio=typeof n.aspectRatio=="number"?n.aspectRatio:this.originalSize.width/this.originalSize.height||1;var c=f(".ui-resizable-"+this.axis).css("cursor");f("body").css("cursor",c=="auto"?this.axis+"-resize":c),l.addClass("ui-resizable-resizing"),this._propagate("start",a);return !0},_mouseDrag:function(A){var z=this.helper,y=this.options,x={},w=this,v=this.originalMousePosition,u=this.axis,s=A.pageX-v.left||0,r=A.pageY-v.top||0,q=this._change[u];if(!q){return !1}var p=q.apply(this,[A,s,r]),o=f.browser.msie&&f.browser.version<7,a=this.sizeDiff;this._updateVirtualBoundaries(A.shiftKey);if(this._aspectRatio||A.shiftKey){p=this._updateRatio(p,A)}p=this._respectSize(p,A),this._propagate("resize",A),z.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(p),this._trigger("resize",A,this.ui());return !1},_mouseStop:function(u){this.resizing=!1;var s=this.options,r=this;if(this._helper){var q=this._proportionallyResizeElements,p=q.length&&/textarea/i.test(q[0].nodeName),o=p&&f.ui.hasScroll(q[0],"left")?0:r.sizeDiff.height,n=p?0:r.sizeDiff.width,m={width:r.helper.width()-n,height:r.helper.height()-o},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,a=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;s.animate||this.element.css(f.extend(m,{top:a,left:l})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!s.animate&&this._proportionallyResize()}f("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",u),this._helper&&this.helper.remove();return !1},_updateVirtualBoundaries:function(i){var d=this.options,n,m,l,k,j;j={minWidth:g(d.minWidth)?d.minWidth:0,maxWidth:g(d.maxWidth)?d.maxWidth:Infinity,minHeight:g(d.minHeight)?d.minHeight:0,maxHeight:g(d.maxHeight)?d.maxHeight:Infinity};if(this._aspectRatio||i){n=j.minHeight*this.aspectRatio,l=j.minWidth/this.aspectRatio,m=j.maxHeight*this.aspectRatio,k=j.maxWidth/this.aspectRatio,n>j.minWidth&&(j.minWidth=n),l>j.minHeight&&(j.minHeight=l),m<j.maxWidth&&(j.maxWidth=m),k<j.maxHeight&&(j.maxHeight=k)}this._vBoundaries=j},_updateCache:function(d){var c=this.options;this.offset=this.helper.offset(),g(d.left)&&(this.position.left=d.left),g(d.top)&&(this.position.top=d.top),g(d.height)&&(this.size.height=d.height),g(d.width)&&(this.size.width=d.width)},_updateRatio:function(i,d){var m=this.options,l=this.position,k=this.size,j=this.axis;g(i.height)?i.width=i.height*this.aspectRatio:g(i.width)&&(i.height=i.width/this.aspectRatio),j=="sw"&&(i.left=l.left+(k.width-i.width),i.top=null),j=="nw"&&(i.top=l.top+(k.height-i.height),i.left=l.left+(k.width-i.width));return i},_respectSize:function(E,D){var C=this.helper,B=this._vBoundaries,A=this._aspectRatio||D.shiftKey,z=this.axis,y=g(E.width)&&B.maxWidth&&B.maxWidth<E.width,x=g(E.height)&&B.maxHeight&&B.maxHeight<E.height,w=g(E.width)&&B.minWidth&&B.minWidth>E.width,v=g(E.height)&&B.minHeight&&B.minHeight>E.height;w&&(E.width=B.minWidth),v&&(E.height=B.minHeight),y&&(E.width=B.maxWidth),x&&(E.height=B.maxHeight);var u=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,r=/sw|nw|w/.test(z),q=/nw|ne|n/.test(z);w&&r&&(E.left=u-B.minWidth),y&&r&&(E.left=u-B.maxWidth),v&&q&&(E.top=s-B.minHeight),x&&q&&(E.top=s-B.maxHeight);var d=!E.width&&!E.height;d&&!E.left&&E.top?E.top=null:d&&!E.top&&E.left&&(E.left=null);return E},_proportionallyResize:function(){var a=this.options;if(!!this._proportionallyResizeElements.length){var m=this.helper||this.element;for(var l=0;l<this._proportionallyResizeElements.length;l++){var k=this._proportionallyResizeElements[l];if(!this.borderDif){var j=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")],i=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")];this.borderDif=f.map(j,function(o,n){var q=parseInt(o,10)||0,p=parseInt(i[n],10)||0;return q+p})}if(f.browser.msie&&(!!f(m).is(":hidden")||!!f(m).parents(":hidden").length)){continue}k.css({height:m.height()-this.borderDif[0]-this.borderDif[2]||0,width:m.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var a=this.element,l=this.options;this.elementOffset=a.offset();if(this._helper){this.helper=this.helper||f('<div style="overflow:hidden;"></div>');var k=f.browser.msie&&f.browser.version<7,j=k?1:0,i=k?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-j+"px",top:this.elementOffset.top-j+"px",zIndex:++l.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(i,d,j){return{width:this.originalSize.width+d}},w:function(j,i,n){var m=this.options,l=this.originalSize,k=this.originalPosition;return{left:k.left+i,width:l.width-i}},n:function(j,i,n){var m=this.options,l=this.originalSize,k=this.originalPosition;return{top:k.top+n,height:l.height-n}},s:function(i,d,j){return{height:this.originalSize.height+j}},se:function(a,j,i){return f.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,j,i]))},sw:function(a,j,i){return f.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,j,i]))},ne:function(a,j,i){return f.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,j,i]))},nw:function(a,j,i){return f.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,j,i]))}},_propagate:function(a,d){f.ui.plugin.call(this,a,[d,this.ui()]),a!="resize"&&this._trigger(a,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),f.extend(f.ui.resizable,{version:"1.8.18"}),f.ui.plugin.add("resizable","alsoResize",{start:function(a,l){var k=f(this).data("resizable"),j=k.options,i=function(c){f(c).each(function(){var d=f(this);d.data("resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10)})})};typeof j.alsoResize=="object"&&!j.alsoResize.parentNode?j.alsoResize.length?(j.alsoResize=j.alsoResize[0],i(j.alsoResize)):f.each(j.alsoResize,function(b){i(b)}):i(j.alsoResize)},resize:function(a,p){var o=f(this).data("resizable"),n=o.options,m=o.originalSize,l=o.originalPosition,k={height:o.size.height-m.height||0,width:o.size.width-m.width||0,top:o.position.top-l.top||0,left:o.position.left-l.left||0},j=function(c,i){f(c).each(function(){var d=f(this),s=f(this).data("resizable-alsoresize"),r={},q=i&&i.length?i:d.parents(p.originalElement[0]).length?["width","height"]:["width","height","top","left"];f.each(q,function(v,u){var w=(s[u]||0)+(k[u]||0);w&&w>=0&&(r[u]=w||null)}),d.css(r)})};typeof n.alsoResize=="object"&&!n.alsoResize.nodeType?f.each(n.alsoResize,function(d,c){j(d,c)}):j(n.alsoResize)},stop:function(a,d){f(this).removeData("resizable-alsoresize")}}),f.ui.plugin.add("resizable","animate",{stop:function(w,v){var u=f(this).data("resizable"),s=u.options,r=u._proportionallyResizeElements,q=r.length&&/textarea/i.test(r[0].nodeName),p=q&&f.ui.hasScroll(r[0],"left")?0:u.sizeDiff.height,o=q?0:u.sizeDiff.width,n={width:u.size.width-o,height:u.size.height-p},m=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,a=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null;u.element.animate(f.extend(n,a&&m?{top:a,left:m}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var b={width:parseInt(u.element.css("width"),10),height:parseInt(u.element.css("height"),10),top:parseInt(u.element.css("top"),10),left:parseInt(u.element.css("left"),10)};r&&r.length&&f(r[0]).css({width:b.width,height:b.height}),u._updateCache(b),u._propagate("resize",w)}})}}),f.ui.plugin.add("resizable","containment",{start:function(C,B){var A=f(this).data("resizable"),z=A.options,y=A.element,x=z.containment,w=x instanceof f?x.get(0):/parent/.test(x)?y.parent().get(0):x;if(!!w){A.containerElement=f(w);if(/document/.test(x)||x==document){A.containerOffset={left:0,top:0},A.containerPosition={left:0,top:0},A.parentData={element:f(document),left:0,top:0,width:f(document).width(),height:f(document).height()||document.body.parentNode.scrollHeight}}else{var v=f(w),u=[];f(["Top","Right","Left","Bottom"]).each(function(i,d){u[i]=h(v.css("padding"+d))}),A.containerOffset=v.offset(),A.containerPosition=v.position(),A.containerSize={height:v.innerHeight()-u[3],width:v.innerWidth()-u[1]};var s=A.containerOffset,r=A.containerSize.height,q=A.containerSize.width,c=f.ui.hasScroll(w,"left")?w.scrollWidth:q,a=f.ui.hasScroll(w)?w.scrollHeight:r;A.parentData={element:w,left:s.left,top:s.top,width:c,height:a}}}},resize:function(E,D){var C=f(this).data("resizable"),B=C.options,A=C.containerSize,z=C.containerOffset,y=C.size,x=C.position,w=C._aspectRatio||E.shiftKey,v={top:0,left:0},u=C.containerElement;u[0]!=document&&/static/.test(u.css("position"))&&(v=z),x.left<(C._helper?z.left:0)&&(C.size.width=C.size.width+(C._helper?C.position.left-z.left:C.position.left-v.left),w&&(C.size.height=C.size.width/B.aspectRatio),C.position.left=B.helper?z.left:0),x.top<(C._helper?z.top:0)&&(C.size.height=C.size.height+(C._helper?C.position.top-z.top:C.position.top),w&&(C.size.width=C.size.height*B.aspectRatio),C.position.top=C._helper?z.top:0),C.offset.left=C.parentData.left+C.position.left,C.offset.top=C.parentData.top+C.position.top;var s=Math.abs((C._helper?C.offset.left-v.left:C.offset.left-v.left)+C.sizeDiff.width),r=Math.abs((C._helper?C.offset.top-v.top:C.offset.top-z.top)+C.sizeDiff.height),q=C.containerElement.get(0)==C.element.parent().get(0),a=/relative|absolute/.test(C.containerElement.css("position"));q&&a&&(s-=C.parentData.left),s+C.size.width>=C.parentData.width&&(C.size.width=C.parentData.width-s,w&&(C.size.height=C.size.width/C.aspectRatio)),r+C.size.height>=C.parentData.height&&(C.size.height=C.parentData.height-r,w&&(C.size.width=C.size.height*C.aspectRatio))},stop:function(y,x){var w=f(this).data("resizable"),v=w.options,u=w.position,s=w.containerOffset,r=w.containerPosition,q=w.containerElement,p=f(w.helper),o=p.offset(),n=p.outerWidth()-w.sizeDiff.width,a=p.outerHeight()-w.sizeDiff.height;w._helper&&!v.animate&&/relative/.test(q.css("position"))&&f(this).css({left:o.left-r.left-s.left,width:n,height:a}),w._helper&&!v.animate&&/static/.test(q.css("position"))&&f(this).css({left:o.left-r.left-s.left,width:n,height:a})}}),f.ui.plugin.add("resizable","ghost",{start:function(a,l){var k=f(this).data("resizable"),j=k.options,i=k.size;k.ghost=k.originalElement.clone(),k.ghost.css({opacity:0.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof j.ghost=="string"?j.ghost:""),k.ghost.appendTo(k.helper)},resize:function(a,k){var j=f(this).data("resizable"),i=j.options;j.ghost&&j.ghost.css({position:"relative",height:j.size.height,width:j.size.width})},stop:function(a,k){var j=f(this).data("resizable"),i=j.options;j.ghost&&j.helper&&j.helper.get(0).removeChild(j.ghost.get(0))}}),f.ui.plugin.add("resizable","grid",{resize:function(w,v){var u=f(this).data("resizable"),s=u.options,r=u.size,q=u.originalSize,p=u.originalPosition,o=u.axis,n=s._aspectRatio||w.shiftKey;s.grid=typeof s.grid=="number"?[s.grid,s.grid]:s.grid;var m=Math.round((r.width-q.width)/(s.grid[0]||1))*(s.grid[0]||1),a=Math.round((r.height-q.height)/(s.grid[1]||1))*(s.grid[1]||1);/^(se|s|e)$/.test(o)?(u.size.width=q.width+m,u.size.height=q.height+a):/^(ne)$/.test(o)?(u.size.width=q.width+m,u.size.height=q.height+a,u.position.top=p.top-a):/^(sw)$/.test(o)?(u.size.width=q.width+m,u.size.height=q.height+a,u.position.left=p.left-m):(u.size.width=q.width+m,u.size.height=q.height+a,u.position.top=p.top-a,u.position.left=p.left-m)}});var h=function(b){return parseInt(b,10)||0},g=function(b){return !isNaN(parseInt(b,10))}}(jQuery),function(d,c){d.widget("ui.selectable",d.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var a=this;this.element.addClass("ui-selectable"),this.dragged=!1;var e;this.refresh=function(){e=d(a.options.filter,a.element[0]),e.addClass("ui-selectee"),e.each(function(){var f=d(this),g=f.offset();d.data(this,"selectable-item",{element:this,$element:f,left:g.left,top:g.top,right:g.left+f.outerWidth(),bottom:g.top+f.outerHeight(),startselected:!1,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=d("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy();return this},_mouseStart:function(a){var f=this;this.opos=[a.pageX,a.pageY];if(!this.options.disabled){var e=this.options;this.selectees=d(e.filter,this.element[0]),this._trigger("start",a),d(e.appendTo).append(this.helper),this.helper.css({left:a.clientX,top:a.clientY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var b=d.data(this,"selectable-item");b.startselected=!0,!a.metaKey&&!a.ctrlKey&&(b.$element.removeClass("ui-selected"),b.selected=!1,b.$element.addClass("ui-unselecting"),b.unselecting=!0,f._trigger("unselecting",a,{unselecting:b.element}))}),d(a.target).parents().andSelf().each(function(){var g=d.data(this,"selectable-item");if(g){var b=!a.metaKey&&!a.ctrlKey||!g.$element.hasClass("ui-selected");g.$element.removeClass(b?"ui-unselecting":"ui-selected").addClass(b?"ui-selecting":"ui-unselecting"),g.unselecting=!b,g.selecting=b,g.selected=b,b?f._trigger("selecting",a,{selecting:g.element}):f._trigger("unselecting",a,{unselecting:g.element});return !1}})}},_mouseDrag:function(a){var p=this;this.dragged=!0;if(!this.options.disabled){var o=this.options,n=this.opos[0],m=this.opos[1],l=a.pageX,k=a.pageY;if(n>l){var j=l;l=n,n=j}if(m>k){var j=k;k=m,m=j}this.helper.css({left:n,top:m,width:l-n,height:k-m}),this.selectees.each(function(){var e=d.data(this,"selectable-item");if(!!e&&e.element!=p.element[0]){var b=!1;o.tolerance=="touch"?b=!(e.left>l||e.right<n||e.top>k||e.bottom<m):o.tolerance=="fit"&&(b=e.left>n&&e.right<l&&e.top>m&&e.bottom<k),b?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,p._trigger("selecting",a,{selecting:e.element}))):(e.selecting&&((a.metaKey||a.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),p._trigger("unselecting",a,{unselecting:e.element}))),e.selected&&!a.metaKey&&!a.ctrlKey&&!e.startselected&&(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,p._trigger("unselecting",a,{unselecting:e.element})))}});return !1}},_mouseStop:function(a){var f=this;this.dragged=!1;var e=this.options;d(".ui-unselecting",this.element[0]).each(function(){var b=d.data(this,"selectable-item");b.$element.removeClass("ui-unselecting"),b.unselecting=!1,b.startselected=!1,f._trigger("unselected",a,{unselected:b.element})}),d(".ui-selecting",this.element[0]).each(function(){var b=d.data(this,"selectable-item");b.$element.removeClass("ui-selecting").addClass("ui-selected"),b.selecting=!1,b.selected=!0,b.startselected=!0,f._trigger("selected",a,{selected:b.element})}),this._trigger("stop",a),this.helper.remove();return !1}}),d.extend(d.ui.selectable,{version:"1.8.18"})}(jQuery),function(d,c){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var b=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?b.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){d.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData(this.widgetName+"-item")}return this},_setOption:function(a,e){a==="disabled"?(this.options[a]=e,this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")):d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,n){var m=this;if(this.reverting){return !1}if(this.options.disabled||this.options.type=="static"){return !1}this._refreshItems(a);var l=null,k=this,j=d(a.target).parents().each(function(){if(d.data(this,m.widgetName+"-item")==k){l=d(this);return !1}});d.data(a.target,m.widgetName+"-item")==k&&(l=d(a.target));if(!l){return !1}if(this.options.handle&&!n){var i=!1;d(this.options.handle,l).find("*").andSelf().each(function(){this==a.target&&(i=!0)});if(!i){return !1}}this.currentItem=l,this._removeCurrentsFromItems();return !0},_mouseStart:function(a,l,k){var j=this.options,i=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,j.cursorAt&&this._adjustOffsetFromHelper(j.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),j.containment&&this._setContainment(),j.cursor&&(d("body").css("cursor")&&(this._storedCursor=d("body").css("cursor")),d("body").css("cursor",j.cursor)),j.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",j.opacity)),j.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",j.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!k){for(var h=this.containers.length-1;h>=0;h--){this.containers[h]._trigger("activate",a,i._uiHash(this))}}d.ui.ddmanager&&(d.ui.ddmanager.current=this),d.ui.ddmanager&&!j.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a);return !0},_mouseDrag:function(a){this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var n=this.options,m=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=m=this.scrollParent[0].scrollTop+n.scrollSpeed:a.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=m=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=m=this.scrollParent[0].scrollLeft+n.scrollSpeed:a.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=m=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(a.pageY-d(document).scrollTop()<n.scrollSensitivity?m=d(document).scrollTop(d(document).scrollTop()-n.scrollSpeed):d(window).height()-(a.pageY-d(document).scrollTop())<n.scrollSensitivity&&(m=d(document).scrollTop(d(document).scrollTop()+n.scrollSpeed)),a.pageX-d(document).scrollLeft()<n.scrollSensitivity?m=d(document).scrollLeft(d(document).scrollLeft()-n.scrollSpeed):d(window).width()-(a.pageX-d(document).scrollLeft())<n.scrollSensitivity&&(m=d(document).scrollLeft(d(document).scrollLeft()+n.scrollSpeed))),m!==!1&&d.ui.ddmanager&&!n.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var l=this.items.length-1;l>=0;l--){var k=this.items[l],j=k.item[0],i=this._intersectsWithPointer(k);if(!i){continue}if(j!=this.currentItem[0]&&this.placeholder[i==1?"next":"prev"]()[0]!=j&&!d.ui.contains(this.placeholder[0],j)&&(this.options.type=="semi-dynamic"?!d.ui.contains(this.element[0],j):!0)){this.direction=i==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(k)){this._rearrange(a,k)}else{break}this._trigger("change",a,this._uiHash());break}}this._contactContainers(a),d.ui.ddmanager&&d.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs;return !1},_mouseStop:function(a,h){if(!!a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var g=this,f=g.placeholder.offset();g.reverting=!0,d(this.helper).animate({left:f.left-this.offset.parent.left-g.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-g.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){g._clear(a)})}else{this._clear(a,h)}return !1}},cancel:function(){var a=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,a._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,a._uiHash(this)),this.containers[e].containerCache.over=0)}}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),d.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(a){var f=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{},d(f).each(function(){var b=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);b&&e.push((a.key||b[1]+"[]")+"="+(a.key&&a.expression?b[1]:b[2]))}),!e.length&&a.key&&e.push(a.key+"=");return e.join("&")},toArray:function(a){var f=this._getItemsAsjQuery(a&&a.connected),e=[];a=a||{},f.each(function(){e.push(d(a.item||this).attr(a.attribute||"id")||"")});return e},_intersectsWith:function(y){var x=this.positionAbs.left,w=x+this.helperProportions.width,v=this.positionAbs.top,u=v+this.helperProportions.height,s=y.left,r=s+y.width,q=y.top,p=q+y.height,o=this.offset.click.top,n=this.offset.click.left,m=v+o>q&&v+o<p&&x+n>s&&x+n<r;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>y[this.floating?"width":"height"]?m:s<x+this.helperProportions.width/2&&w-this.helperProportions.width/2<r&&q<v+this.helperProportions.height/2&&u-this.helperProportions.height/2<p},_intersectsWithPointer:function(a){var l=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),k=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),j=l&&k,i=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();if(!j){return !1}return this.floating?h&&h=="right"||i=="down"?2:1:i&&(i=="down"?2:1)},_intersectsWithSides:function(a){var j=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),i=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),h=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return this.floating&&g?g=="right"&&i||g=="left"&&!i:h&&(h=="down"&&j||h=="up"&&!j)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b),this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(r){var q=this,p=[],o=[],n=this._connectWith();if(n&&r){for(var m=n.length-1;m>=0;m--){var l=d(n[m]);for(var k=l.length-1;k>=0;k--){var a=d.data(l[k],this.widgetName);a&&a!=this&&!a.options.disabled&&o.push([d.isFunction(a.options.items)?a.options.items.call(a.element):d(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}}o.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var m=o.length-1;m>=0;m--){o[m][0].each(function(){p.push(this)})}return d(p)},_removeCurrentsFromItems:function(){var f=this.currentItem.find(":data("+this.widgetName+"-item)");for(var e=0;e<this.items.length;e++){for(var g=0;g<f.length;g++){f[g]==this.items[e].item[0]&&this.items.splice(e,1)}}},_refreshItems:function(A){this.items=[],this.containers=[this];var z=this.items,y=this,x=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],A,{item:this.currentItem}):d(this.options.items,this.element),this]],w=this._connectWith();if(w&&this.ready){for(var v=w.length-1;v>=0;v--){var u=d(w[v]);for(var s=u.length-1;s>=0;s--){var r=d.data(u[s],this.widgetName);r&&r!=this&&!r.options.disabled&&(x.push([d.isFunction(r.options.items)?r.options.items.call(r.element[0],A,{item:this.currentItem}):d(r.options.items,r.element),r]),this.containers.push(r))}}}for(var v=x.length-1;v>=0;v--){var q=x[v][1],p=x[v][0];for(var s=0,o=p.length;s<o;s++){var a=d(p[s]);a.data(this.widgetName+"-item",q),z.push({item:a,instance:q,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var j=this.items.length-1;j>=0;j--){var i=this.items[j];if(i.instance!=this.currentContainer&&this.currentContainer&&i.item[0]!=this.currentItem[0]){continue}var h=this.options.toleranceElement?d(this.options.toleranceElement,i.item):i.item;a||(i.width=h.outerWidth(),i.height=h.outerHeight());var g=h.offset();i.left=g.left,i.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var j=this.containers.length-1;j>=0;j--){var g=this.containers[j].element.offset();this.containers[j].containerCache.left=g.left,this.containers[j].containerCache.top=g.top,this.containers[j].containerCache.width=this.containers[j].element.outerWidth(),this.containers[j].containerCache.height=this.containers[j].element.outerHeight()}}return this},_createPlaceholder:function(a){var h=a||this,g=h.options;if(!g.placeholder||g.placeholder.constructor==String){var f=g.placeholder;g.placeholder={element:function(){var e=d(document.createElement(h.currentItem[0].nodeName)).addClass(f||h.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];f||(e.style.visibility="hidden");return e},update:function(i,e){if(!f||!!g.forcePlaceholderSize){e.height()||e.height(h.currentItem.innerHeight()-parseInt(h.currentItem.css("paddingTop")||0,10)-parseInt(h.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(h.currentItem.innerWidth()-parseInt(h.currentItem.css("paddingLeft")||0,10)-parseInt(h.currentItem.css("paddingRight")||0,10))}}}}h.placeholder=d(g.placeholder.element.call(h.element,h.currentItem)),h.currentItem.after(h.placeholder),g.placeholder.update(h,h.placeholder)},_contactContainers:function(r){var q=null,p=null;for(var o=this.containers.length-1;o>=0;o--){if(d.ui.contains(this.currentItem[0],this.containers[o].element[0])){continue}if(this._intersectsWith(this.containers[o].containerCache)){if(q&&d.ui.contains(this.containers[o].element[0],q.element[0])){continue}q=this.containers[o],p=o}else{this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",r,this._uiHash(this)),this.containers[o].containerCache.over=0)}}if(!!q){if(this.containers.length===1){this.containers[p]._trigger("over",r,this._uiHash(this)),this.containers[p].containerCache.over=1}else{if(this.currentContainer!=this.containers[p]){var n=10000,m=null,l=this.positionAbs[this.containers[p].floating?"left":"top"];for(var k=this.items.length-1;k>=0;k--){if(!d.ui.contains(this.containers[p].element[0],this.items[k].item[0])){continue}var a=this.items[k][this.containers[p].floating?"left":"top"];Math.abs(a-l)<n&&(n=Math.abs(a-l),m=this.items[k])}if(!m&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[p],m?this._rearrange(r,m,null,!0):this._rearrange(r,null,this.containers[p].element,!0),this._trigger("change",r,this._uiHash()),this.containers[p]._trigger("change",r,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",r,this._uiHash(this)),this.containers[p].containerCache.over=1}}}},_createHelper:function(a){var f=this.options,e=d.isFunction(f.helper)?d(f.helper.apply(this.element[0],[a,this.currentItem])):f.helper=="clone"?this.currentItem.clone():this.currentItem;e.parents("body").length||d(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0]),e[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(e[0].style.width==""||f.forceHelperSize)&&e.width(this.currentItem.width()),(e[0].style.height==""||f.forceHelperSize)&&e.height(this.currentItem.height());return e},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),d.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;a.containment=="parent"&&(a.containment=this.helper[0].parentNode);if(a.containment=="document"||a.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(a.containment)){var h=d(a.containment)[0],g=d(a.containment).offset(),f=d(h).css("overflow")!="hidden";this.containment=[g.left+(parseInt(d(h).css("borderLeftWidth"),10)||0)+(parseInt(d(h).css("paddingLeft"),10)||0)-this.margins.left,g.top+(parseInt(d(h).css("borderTopWidth"),10)||0)+(parseInt(d(h).css("paddingTop"),10)||0)-this.margins.top,g.left+(f?Math.max(h.scrollWidth,h.offsetWidth):h.offsetWidth)-(parseInt(d(h).css("borderLeftWidth"),10)||0)-(parseInt(d(h).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,g.top+(f?Math.max(h.scrollHeight,h.offsetHeight):h.offsetHeight)-(parseInt(d(h).css("borderTopWidth"),10)||0)-(parseInt(d(h).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,l){l||(l=this.position);var k=a=="absolute"?1:-1,j=this.options,i=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(i[0].tagName);return{top:l.top+this.offset.relative.top*k+this.offset.parent.top*k-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:i.scrollTop())*k),left:l.left+this.offset.relative.left*k+this.offset.parent.left*k-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:i.scrollLeft())*k)}},_generatePosition:function(a){var p=this.options,o=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,n=/(html|body)/i.test(o[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var m=a.pageX,l=a.pageY;if(this.originalPosition){this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(m=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(l=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(m=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(l=this.containment[3]+this.offset.click.top));if(p.grid){var k=this.originalPageY+Math.round((l-this.originalPageY)/p.grid[1])*p.grid[1];l=this.containment?k-this.offset.click.top<this.containment[1]||k-this.offset.click.top>this.containment[3]?k-this.offset.click.top<this.containment[1]?k+p.grid[1]:k-p.grid[1]:k:k;var j=this.originalPageX+Math.round((m-this.originalPageX)/p.grid[0])*p.grid[0];m=this.containment?j-this.offset.click.left<this.containment[0]||j-this.offset.click.left>this.containment[2]?j-this.offset.click.left<this.containment[0]?j+p.grid[0]:j-p.grid[0]:j:j}}return{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():n?0:o.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():n?0:o.scrollLeft())}},_rearrange:function(h,g,l,k){l?l[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?g.item[0]:g.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var j=this,i=this.counter;window.setTimeout(function(){i==j.counter&&j.refreshPositions(!k)},0)},_clear:function(a,j){this.reverting=!1;var i=[],h=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var g in this._storedCSS){if(this._storedCSS[g]=="auto"||this._storedCSS[g]=="static"){this._storedCSS[g]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!j&&i.push(function(b){this._trigger("receive",b,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!j&&i.push(function(b){this._trigger("update",b,this._uiHash())});if(!d.ui.contains(this.element[0],this.currentItem[0])){j||i.push(function(b){this._trigger("remove",b,this._uiHash())});for(var g=this.containers.length-1;g>=0;g--){d.ui.contains(this.containers[g].element[0],this.currentItem[0])&&!j&&(i.push(function(b){return function(e){b._trigger("receive",e,this._uiHash(this))}}.call(this,this.containers[g])),i.push(function(b){return function(e){b._trigger("update",e,this._uiHash(this))}}.call(this,this.containers[g])))}}for(var g=this.containers.length-1;g>=0;g--){j||i.push(function(b){return function(e){b._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[g])),this.containers[g].containerCache.over&&(i.push(function(b){return function(e){b._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[g])),this.containers[g].containerCache.over=0)}this._storedCursor&&d("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!j){this._trigger("beforeStop",a,this._uiHash());for(var g=0;g<i.length;g++){i[g].call(this,a)}this._trigger("stop",a,this._uiHash())}return !1}j||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!j){for(var g=0;g<i.length;g++){i[g].call(this,a)}this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return !0},_trigger:function(){d.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(a){var e=a||this;return{helper:e.helper,placeholder:e.placeholder||d([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:a?a.element:null}}}),d.extend(d.ui.sortable,{version:"1.8.18"})}(jQuery),jQuery.effects||function(y,x){function m(a){if(!a||typeof a=="number"||y.fx.speeds[a]){return !0}if(typeof a=="string"&&!y.effects[a]){return !0}return !1}function n(a,h,g,f){typeof a=="object"&&(f=h,g=null,h=a,a=h.effect),y.isFunction(h)&&(f=h,g=null,h={});if(typeof h=="number"||y.fx.speeds[h]){f=g,g=h,h={}}y.isFunction(g)&&(f=g,g=null),h=h||{},g=g||h.duration,g=y.fx.off?0:typeof g=="number"?g:g in y.fx.speeds?y.fx.speeds[g]:y.fx.speeds._default,f=f||h.complete;return[a,h,g,f]}function o(f,e){var h={_:0},g;for(g in e){f[g]!=e[g]&&(h[g]=e[g])}return h}function p(a){var f,e;for(f in a){e=a[f],(e==null||y.isFunction(e)||f in r||/scrollbar/.test(f)||!/color/i.test(f)&&isNaN(parseFloat(e)))&&delete a[f]}return a}function q(){var g=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,f={},j,i;if(g&&g.length&&g[0]&&g[g[0]]){var h=g.length;while(h--){j=g[h],typeof g[j]=="string"&&(i=j.replace(/\-(\w)/g,function(d,c){return c.toUpperCase()}),f[i]=g[j])}}else{for(j in g){typeof g[j]=="string"&&(f[j]=g[j])}}return f}function v(a,f){var c;do{c=y.curCSS(a,f);if(c!=""&&c!="transparent"||y.nodeName(a,"body")){break}f="backgroundColor"}while(a=a.parentNode);return w(c)}function w(a){var d;if(a&&a.constructor==Array&&a.length==3){return a}if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10)]}if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(d[1])*2.55,parseFloat(d[2])*2.55,parseFloat(d[3])*2.55]}if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}if(d=/rgba\(0, 0, 0, 0\)/.exec(a)){return u.transparent}return u[y.trim(a).toLowerCase()]}y.effects={},y.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(a,c){y.fx.step[c]=function(b){b.colorInit||(b.start=v(b.elem,c),b.end=w(b.end),b.colorInit=!0),b.elem.style[c]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var u={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},s=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};y.effects.animateClass=function(a,h,g,f){y.isFunction(g)&&(f=g,g=null);return this.queue(function(){var e=y(this),d=e.attr("style")||" ",c=p(q.call(this)),b,i=e.attr("class");y.each(s,function(j,k){a[k]&&e[k+"Class"](a[k])}),b=p(q.call(this)),e.attr("class",i),e.animate(o(c,b),{queue:!1,duration:h,easing:g,complete:function(){y.each(s,function(j,k){a[k]&&e[k+"Class"](a[k])}),typeof e.attr("style")=="object"?(e.attr("style").cssText="",e.attr("style").cssText=d):e.attr("style",d),f&&f.apply(this,arguments),y.dequeue(this)}})})},y.fn.extend({_addClass:y.fn.addClass,addClass:function(a,h,g,f){return h?y.effects.animateClass.apply(this,[{add:a},h,g,f]):this._addClass(a)},_removeClass:y.fn.removeClass,removeClass:function(a,h,g,f){return h?y.effects.animateClass.apply(this,[{remove:a},h,g,f]):this._removeClass(a)},_toggleClass:y.fn.toggleClass,toggleClass:function(j,i,h,b,a){return typeof i=="boolean"||i===x?h?y.effects.animateClass.apply(this,[i?{add:j}:{remove:j},h,b,a]):this._toggleClass(j,i):y.effects.animateClass.apply(this,[{toggle:j},i,h,b])},switchClass:function(a,j,i,h,g){return y.effects.animateClass.apply(this,[{add:j,remove:a},i,h,g])}}),y.extend(y.effects,{version:"1.8.18",save:function(e,d){for(var f=0;f<d.length;f++){d[f]!==null&&e.data("ec.storage."+d[f],e[0].style[d[f]])}},restore:function(e,d){for(var f=0;f<d.length;f++){d[f]!==null&&e.css(d[f],e.data("ec.storage."+d[f]))}},setMode:function(d,c){c=="toggle"&&(c=d.is(":hidden")?"show":"hide");return c},getBaseline:function(f,e){var h,g;switch(f[0]){case"top":h=0;break;case"middle":h=0.5;break;case"bottom":h=1;break;default:h=f[0]/e.height}switch(f[1]){case"left":g=0;break;case"center":g=0.5;break;case"right":g=1;break;default:g=f[1]/e.width}return{x:g,y:h}},createWrapper:function(a){if(a.parent().is(".ui-effects-wrapper")){return a.parent()}var h={width:a.outerWidth(!0),height:a.outerHeight(!0),"float":a.css("float")},g=y("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f=document.activeElement;a.wrap(g),(a[0]===f||y.contains(a[0],f))&&y(f).focus(),g=a.parent(),a.css("position")=="static"?(g.css({position:"relative"}),a.css({position:"relative"})):(y.extend(h,{position:a.css("position"),zIndex:a.css("z-index")}),y.each(["top","left","bottom","right"],function(b,c){h[c]=a.css(c),isNaN(parseInt(h[c],10))&&(h[c]="auto")}),a.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return g.css(h).show()},removeWrapper:function(a){var f,e=document.activeElement;if(a.parent().is(".ui-effects-wrapper")){f=a.parent().replaceWith(a),(a[0]===e||y.contains(a[0],e))&&y(e).focus();return f}return a},setTransition:function(a,h,g,f){f=f||{},y.each(h,function(b,d){unit=a.cssUnit(d),unit[0]>0&&(f[d]=unit[0]*g+unit[1])});return f}}),y.fn.extend({effect:function(a,C,B,A){var z=n.apply(this,arguments),l={options:z[1],duration:z[2],callback:z[3]},k=l.options.mode,j=y.effects[a];if(y.fx.off||!j){return k?this[k](l.duration,l.callback):this.each(function(){l.callback&&l.callback.call(this)})}return j.call(this,l)},_show:y.fn.show,show:function(d){if(m(d)){return this._show.apply(this,arguments)}var c=n.apply(this,arguments);c[1].mode="show";return this.effect.apply(this,c)},_hide:y.fn.hide,hide:function(d){if(m(d)){return this._hide.apply(this,arguments)}var c=n.apply(this,arguments);c[1].mode="hide";return this.effect.apply(this,c)},__toggle:y.fn.toggle,toggle:function(a){if(m(a)||typeof a=="boolean"||y.isFunction(a)){return this.__toggle.apply(this,arguments)}var d=n.apply(this,arguments);d[1].mode="toggle";return this.effect.apply(this,d)},cssUnit:function(a){var f=this.css(a),e=[];y.each(["em","px","%","pt"],function(d,c){f.indexOf(c)>0&&(e=[parseFloat(f),c])});return e}}),y.easing.jswing=y.easing.swing,y.extend(y.easing,{def:"easeOutQuad",swing:function(a,j,i,h,g){return y.easing[y.easing.def](a,j,i,h,g)},easeInQuad:function(g,f,j,i,h){return i*(f/=h)*f+j},easeOutQuad:function(g,f,j,i,h){return -i*(f/=h)*(f-2)+j},easeInOutQuad:function(g,f,j,i,h){if((f/=h/2)<1){return i/2*f*f+j}return -i/2*(--f*(f-2)-1)+j},easeInCubic:function(g,f,j,i,h){return i*(f/=h)*f*f+j},easeOutCubic:function(g,f,j,i,h){return i*((f=f/h-1)*f*f+1)+j},easeInOutCubic:function(g,f,j,i,h){if((f/=h/2)<1){return i/2*f*f*f+j}return i/2*((f-=2)*f*f+2)+j},easeInQuart:function(g,f,j,i,h){return i*(f/=h)*f*f*f+j},easeOutQuart:function(g,f,j,i,h){return -i*((f=f/h-1)*f*f*f-1)+j},easeInOutQuart:function(g,f,j,i,h){if((f/=h/2)<1){return i/2*f*f*f*f+j}return -i/2*((f-=2)*f*f*f-2)+j},easeInQuint:function(g,f,j,i,h){return i*(f/=h)*f*f*f*f+j},easeOutQuint:function(g,f,j,i,h){return i*((f=f/h-1)*f*f*f*f+1)+j},easeInOutQuint:function(g,f,j,i,h){if((f/=h/2)<1){return i/2*f*f*f*f*f+j}return i/2*((f-=2)*f*f*f*f+2)+j},easeInSine:function(g,f,j,i,h){return -i*Math.cos(f/h*(Math.PI/2))+i+j},easeOutSine:function(g,f,j,i,h){return i*Math.sin(f/h*(Math.PI/2))+j},easeInOutSine:function(g,f,j,i,h){return -i/2*(Math.cos(Math.PI*f/h)-1)+j},easeInExpo:function(g,f,j,i,h){return f==0?j:i*Math.pow(2,10*(f/h-1))+j},easeOutExpo:function(g,f,j,i,h){return f==h?j+i:i*(-Math.pow(2,-10*f/h)+1)+j},easeInOutExpo:function(g,f,j,i,h){if(f==0){return j}if(f==h){return j+i}if((f/=h/2)<1){return i/2*Math.pow(2,10*(f-1))+j}return i/2*(-Math.pow(2,-10*--f)+2)+j},easeInCirc:function(g,f,j,i,h){return -i*(Math.sqrt(1-(f/=h)*f)-1)+j},easeOutCirc:function(g,f,j,i,h){return i*Math.sqrt(1-(f=f/h-1)*f)+j},easeInOutCirc:function(g,f,j,i,h){if((f/=h/2)<1){return -i/2*(Math.sqrt(1-f*f)-1)+j}return i/2*(Math.sqrt(1-(f-=2)*f)+1)+j},easeInElastic:function(j,i,C,B,A){var z=1.70158,l=0,k=B;if(i==0){return C}if((i/=A)==1){return C+B}l||(l=A*0.3);if(k<Math.abs(B)){k=B;var z=l/4}else{var z=l/(2*Math.PI)*Math.asin(B/k)}return -(k*Math.pow(2,10*(i-=1))*Math.sin((i*A-z)*2*Math.PI/l))+C},easeOutElastic:function(j,i,C,B,A){var z=1.70158,l=0,k=B;if(i==0){return C}if((i/=A)==1){return C+B}l||(l=A*0.3);if(k<Math.abs(B)){k=B;var z=l/4}else{var z=l/(2*Math.PI)*Math.asin(B/k)}return k*Math.pow(2,-10*i)*Math.sin((i*A-z)*2*Math.PI/l)+B+C},easeInOutElastic:function(j,i,C,B,A){var z=1.70158,l=0,k=B;if(i==0){return C}if((i/=A/2)==2){return C+B}l||(l=A*0.3*1.5);if(k<Math.abs(B)){k=B;var z=l/4}else{var z=l/(2*Math.PI)*Math.asin(B/k)}if(i<1){return -0.5*k*Math.pow(2,10*(i-=1))*Math.sin((i*A-z)*2*Math.PI/l)+C}return k*Math.pow(2,-10*(i-=1))*Math.sin((i*A-z)*2*Math.PI/l)*0.5+B+C},easeInBack:function(b,l,k,j,i,h){h==x&&(h=1.70158);return j*(l/=i)*l*((h+1)*l-h)+k},easeOutBack:function(b,l,k,j,i,h){h==x&&(h=1.70158);return j*((l=l/i-1)*l*((h+1)*l+h)+1)+k},easeInOutBack:function(b,l,k,j,i,h){h==x&&(h=1.70158);if((l/=i/2)<1){return j/2*l*l*(((h*=1.525)+1)*l-h)+k}return j/2*((l-=2)*l*(((h*=1.525)+1)*l+h)+2)+k},easeInBounce:function(a,j,i,h,g){return h-y.easing.easeOutBounce(a,g-j,0,h,g)+i},easeOutBounce:function(g,f,j,i,h){return(f/=h)<1/2.75?i*7.5625*f*f+j:f<2/2.75?i*(7.5625*(f-=1.5/2.75)*f+0.75)+j:f<2.5/2.75?i*(7.5625*(f-=2.25/2.75)*f+0.9375)+j:i*(7.5625*(f-=2.625/2.75)*f+0.984375)+j},easeInOutBounce:function(a,j,i,h,g){if(j<g/2){return y.easing.easeInBounce(a,j*2,0,h,g)*0.5+i}return y.easing.easeOutBounce(a,j*2-g,0,h,g)*0.5+h*0.5+i}})}(jQuery),function(d,c){d.effects.blind=function(a){return this.queue(function(){var q=d(this),p=["position","top","bottom","left","right"],o=d.effects.setMode(q,a.options.mode||"hide"),n=a.options.direction||"vertical";d.effects.save(q,p),q.show();var m=d.effects.createWrapper(q).css({overflow:"hidden"}),l=n=="vertical"?"height":"width",k=n=="vertical"?m.height():m.width();o=="show"&&m.css(l,0);var b={};b[l]=o=="show"?k:0,m.animate(b,a.duration,a.options.easing,function(){o=="hide"&&q.hide(),d.effects.restore(q,p),d.effects.removeWrapper(q),a.callback&&a.callback.apply(q[0],arguments),q.dequeue()})})}}(jQuery),function(d,c){d.effects.bounce=function(a){return this.queue(function(){var B=d(this),A=["position","top","bottom","left","right"],z=d.effects.setMode(B,a.options.mode||"effect"),y=a.options.direction||"up",x=a.options.distance||20,w=a.options.times||5,v=a.duration||250;/show|hide/.test(z)&&A.push("opacity"),d.effects.save(B,A),B.show(),d.effects.createWrapper(B);var u=y=="up"||y=="down"?"top":"left",s=y=="up"||y=="left"?"pos":"neg",x=a.options.distance||(u=="top"?B.outerHeight({margin:!0})/3:B.outerWidth({margin:!0})/3);z=="show"&&B.css("opacity",0).css(u,s=="pos"?-x:x),z=="hide"&&(x=x/(w*2)),z!="hide"&&w--;if(z=="show"){var r={opacity:1};r[u]=(s=="pos"?"+=":"-=")+x,B.animate(r,v/2,a.options.easing),x=x/2,w--}for(var q=0;q<w;q++){var o={},b={};o[u]=(s=="pos"?"-=":"+=")+x,b[u]=(s=="pos"?"+=":"-=")+x,B.animate(o,v/2,a.options.easing).animate(b,v/2,a.options.easing),x=z=="hide"?x*2:x/2}if(z=="hide"){var r={opacity:0};r[u]=(s=="pos"?"-=":"+=")+x,B.animate(r,v/2,a.options.easing,function(){B.hide(),d.effects.restore(B,A),d.effects.removeWrapper(B),a.callback&&a.callback.apply(this,arguments)})}else{var o={},b={};o[u]=(s=="pos"?"-=":"+=")+x,b[u]=(s=="pos"?"+=":"-=")+x,B.animate(o,v/2,a.options.easing).animate(b,v/2,a.options.easing,function(){d.effects.restore(B,A),d.effects.removeWrapper(B),a.callback&&a.callback.apply(this,arguments)})}B.queue("fx",function(){B.dequeue()}),B.dequeue()})}}(jQuery),function(d,c){d.effects.clip=function(a){return this.queue(function(){var s=d(this),r=["position","top","bottom","left","right","height","width"],q=d.effects.setMode(s,a.options.mode||"hide"),p=a.options.direction||"vertical";d.effects.save(s,r),s.show();var o=d.effects.createWrapper(s).css({overflow:"hidden"}),n=s[0].tagName=="IMG"?o:s,m={size:p=="vertical"?"height":"width",position:p=="vertical"?"top":"left"},l=p=="vertical"?n.height():n.width();q=="show"&&(n.css(m.size,0),n.css(m.position,l/2));var b={};b[m.size]=q=="show"?l:0,b[m.position]=q=="show"?0:l/2,n.animate(b,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){q=="hide"&&s.hide(),d.effects.restore(s,r),d.effects.removeWrapper(s),a.callback&&a.callback.apply(s[0],arguments),s.dequeue()}})})}}(jQuery),function(d,c){d.effects.drop=function(a){return this.queue(function(){var q=d(this),p=["position","top","bottom","left","right","opacity"],o=d.effects.setMode(q,a.options.mode||"hide"),n=a.options.direction||"left";d.effects.save(q,p),q.show(),d.effects.createWrapper(q);var m=n=="up"||n=="down"?"top":"left",l=n=="up"||n=="left"?"pos":"neg",k=a.options.distance||(m=="top"?q.outerHeight({margin:!0})/2:q.outerWidth({margin:!0})/2);o=="show"&&q.css("opacity",0).css(m,l=="pos"?-k:k);var b={opacity:o=="show"?1:0};b[m]=(o=="show"?l=="pos"?"+=":"-=":l=="pos"?"-=":"+=")+k,q.animate(b,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){o=="hide"&&q.hide(),d.effects.restore(q,p),d.effects.removeWrapper(q),a.callback&&a.callback.apply(this,arguments),q.dequeue()}})})}}(jQuery),function(d,c){d.effects.explode=function(a){return this.queue(function(){var q=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3,p=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3;a.options.mode=a.options.mode=="toggle"?d(this).is(":visible")?"hide":"show":a.options.mode;var o=d(this).show().css("visibility","hidden"),n=o.offset();n.top-=parseInt(o.css("marginTop"),10)||0,n.left-=parseInt(o.css("marginLeft"),10)||0;var m=o.outerWidth(!0),l=o.outerHeight(!0);for(var k=0;k<q;k++){for(var b=0;b<p;b++){o.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-b*(m/p),top:-k*(l/q)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m/p,height:l/q,left:n.left+b*(m/p)+(a.options.mode=="show"?(b-Math.floor(p/2))*(m/p):0),top:n.top+k*(l/q)+(a.options.mode=="show"?(k-Math.floor(q/2))*(l/q):0),opacity:a.options.mode=="show"?0:1}).animate({left:n.left+b*(m/p)+(a.options.mode=="show"?0:(b-Math.floor(p/2))*(m/p)),top:n.top+k*(l/q)+(a.options.mode=="show"?0:(k-Math.floor(q/2))*(l/q)),opacity:a.options.mode=="show"?1:0},a.duration||500)}}setTimeout(function(){a.options.mode=="show"?o.css({visibility:"visible"}):o.css({visibility:"visible"}).hide(),a.callback&&a.callback.apply(o[0]),o.dequeue(),d("div.ui-effects-explode").remove()},a.duration||500)})}}(jQuery),function(d,c){d.effects.fade=function(a){return this.queue(function(){var e=d(this),b=d.effects.setMode(e,a.options.mode||"hide");e.animate({opacity:b},{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){a.callback&&a.callback.apply(this,arguments),e.dequeue()}})})}}(jQuery),function(d,c){d.effects.fold=function(a){return this.queue(function(){var B=d(this),A=["position","top","bottom","left","right"],z=d.effects.setMode(B,a.options.mode||"hide"),y=a.options.size||15,x=!!a.options.horizFirst,w=a.duration?a.duration/2:d.fx.speeds._default/2;d.effects.save(B,A),B.show();var v=d.effects.createWrapper(B).css({overflow:"hidden"}),u=z=="show"!=x,s=u?["width","height"]:["height","width"],r=u?[v.width(),v.height()]:[v.height(),v.width()],q=/([0-9]+)%/.exec(y);q&&(y=parseInt(q[1],10)/100*r[z=="hide"?0:1]),z=="show"&&v.css(x?{height:0,width:y}:{height:y,width:0});var o={},b={};o[s[0]]=z=="show"?r[0]:y,b[s[1]]=z=="show"?r[1]:0,v.animate(o,w,a.options.easing).animate(b,w,a.options.easing,function(){z=="hide"&&B.hide(),d.effects.restore(B,A),d.effects.removeWrapper(B),a.callback&&a.callback.apply(B[0],arguments),B.dequeue()})})}}(jQuery),function(d,c){d.effects.highlight=function(a){return this.queue(function(){var i=d(this),h=["backgroundImage","backgroundColor","opacity"],g=d.effects.setMode(i,a.options.mode||"show"),b={backgroundColor:i.css("backgroundColor")};g=="hide"&&(b.opacity=0),d.effects.save(i,h),i.show().css({backgroundImage:"none",backgroundColor:a.options.color||"#ffff99"}).animate(b,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){g=="hide"&&i.hide(),d.effects.restore(i,h),g=="show"&&!d.support.opacity&&this.style.removeAttribute("filter"),a.callback&&a.callback.apply(this,arguments),i.dequeue()}})})}}(jQuery),function(d,c){d.effects.pulsate=function(a){return this.queue(function(){var g=d(this),f=d.effects.setMode(g,a.options.mode||"show");times=(a.options.times||5)*2-1,duration=a.duration?a.duration/2:d.fx.speeds._default/2,isVisible=g.is(":visible"),animateTo=0,isVisible||(g.css("opacity",0).show(),animateTo=1),(f=="hide"&&isVisible||f=="show"&&!isVisible)&&times--;for(var b=0;b<times;b++){g.animate({opacity:animateTo},duration,a.options.easing),animateTo=(animateTo+1)%2}g.animate({opacity:animateTo},duration,a.options.easing,function(){animateTo==0&&g.hide(),a.callback&&a.callback.apply(this,arguments)}),g.queue("fx",function(){g.dequeue()}).dequeue()})}}(jQuery),function(d,c){d.effects.puff=function(a){return this.queue(function(){var k=d(this),j=d.effects.setMode(k,a.options.mode||"hide"),i=parseInt(a.options.percent,10)||150,h=i/100,b={height:k.height(),width:k.width()};d.extend(a.options,{fade:!0,mode:j,percent:j=="hide"?i:100,from:j=="hide"?b:{height:b.height*h,width:b.width*h}}),k.effect("scale",a.options,a.duration,a.callback),k.dequeue()})},d.effects.scale=function(a){return this.queue(function(){var q=d(this),p=d.extend(!0,{},a.options),o=d.effects.setMode(q,a.options.mode||"effect"),n=parseInt(a.options.percent,10)||(parseInt(a.options.percent,10)==0?0:o=="hide"?0:100),m=a.options.direction||"both",l=a.options.origin;o!="effect"&&(p.origin=l||["middle","center"],p.restore=!0);var k={height:q.height(),width:q.width()};q.from=a.options.from||(o=="show"?{height:0,width:0}:k);var b={y:m!="horizontal"?n/100:1,x:m!="vertical"?n/100:1};q.to={height:k.height*b.y,width:k.width*b.x},a.options.fade&&(o=="show"&&(q.from.opacity=0,q.to.opacity=1),o=="hide"&&(q.from.opacity=1,q.to.opacity=0)),p.from=q.from,p.to=q.to,p.mode=o,q.effect("size",p,a.duration,a.callback),q.dequeue()})},d.effects.size=function(a){return this.queue(function(){var D=d(this),C=["position","top","bottom","left","right","width","height","overflow","opacity"],B=["position","top","bottom","left","right","overflow","opacity"],A=["width","height","overflow"],z=["fontSize"],y=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],x=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=d.effects.setMode(D,a.options.mode||"effect"),v=a.options.restore||!1,u=a.options.scale||"both",s=a.options.origin,r={height:D.height(),width:D.width()};D.from=a.options.from||r,D.to=a.options.to||r;if(s){var o=d.effects.getBaseline(s,r);D.from.top=(r.height-D.from.height)*o.y,D.from.left=(r.width-D.from.width)*o.x,D.to.top=(r.height-D.to.height)*o.y,D.to.left=(r.width-D.to.width)*o.x}var b={from:{y:D.from.height/r.height,x:D.from.width/r.width},to:{y:D.to.height/r.height,x:D.to.width/r.width}};if(u=="box"||u=="both"){b.from.y!=b.to.y&&(C=C.concat(y),D.from=d.effects.setTransition(D,y,b.from.y,D.from),D.to=d.effects.setTransition(D,y,b.to.y,D.to)),b.from.x!=b.to.x&&(C=C.concat(x),D.from=d.effects.setTransition(D,x,b.from.x,D.from),D.to=d.effects.setTransition(D,x,b.to.x,D.to))}(u=="content"||u=="both")&&b.from.y!=b.to.y&&(C=C.concat(z),D.from=d.effects.setTransition(D,z,b.from.y,D.from),D.to=d.effects.setTransition(D,z,b.to.y,D.to)),d.effects.save(D,v?C:B),D.show(),d.effects.createWrapper(D),D.css("overflow","hidden").css(D.from);if(u=="content"||u=="both"){y=y.concat(["marginTop","marginBottom"]).concat(z),x=x.concat(["marginLeft","marginRight"]),A=C.concat(y).concat(x),D.find("*[width]").each(function(){child=d(this),v&&d.effects.save(child,A);var e={height:child.height(),width:child.width()};child.from={height:e.height*b.from.y,width:e.width*b.from.x},child.to={height:e.height*b.to.y,width:e.width*b.to.x},b.from.y!=b.to.y&&(child.from=d.effects.setTransition(child,y,b.from.y,child.from),child.to=d.effects.setTransition(child,y,b.to.y,child.to)),b.from.x!=b.to.x&&(child.from=d.effects.setTransition(child,x,b.from.x,child.from),child.to=d.effects.setTransition(child,x,b.to.x,child.to)),child.css(child.from),child.animate(child.to,a.duration,a.options.easing,function(){v&&d.effects.restore(child,A)})})}D.animate(D.to,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){D.to.opacity===0&&D.css("opacity",D.from.opacity),w=="hide"&&D.hide(),d.effects.restore(D,v?C:B),d.effects.removeWrapper(D),a.callback&&a.callback.apply(this,arguments),D.dequeue()}})})}}(jQuery),function(d,c){d.effects.shake=function(a){return this.queue(function(){var B=d(this),A=["position","top","bottom","left","right"],z=d.effects.setMode(B,a.options.mode||"effect"),y=a.options.direction||"left",x=a.options.distance||20,w=a.options.times||3,v=a.duration||a.options.duration||140;d.effects.save(B,A),B.show(),d.effects.createWrapper(B);var u=y=="up"||y=="down"?"top":"left",s=y=="up"||y=="left"?"pos":"neg",r={},q={},o={};r[u]=(s=="pos"?"-=":"+=")+x,q[u]=(s=="pos"?"+=":"-=")+x*2,o[u]=(s=="pos"?"-=":"+=")+x*2,B.animate(r,v,a.options.easing);for(var b=1;b<w;b++){B.animate(q,v,a.options.easing).animate(o,v,a.options.easing)}B.animate(q,v,a.options.easing).animate(r,v/2,a.options.easing,function(){d.effects.restore(B,A),d.effects.removeWrapper(B),a.callback&&a.callback.apply(this,arguments)}),B.queue("fx",function(){B.dequeue()}),B.dequeue()})}}(jQuery),function(d,c){d.effects.slide=function(a){return this.queue(function(){var q=d(this),p=["position","top","bottom","left","right"],o=d.effects.setMode(q,a.options.mode||"show"),n=a.options.direction||"left";d.effects.save(q,p),q.show(),d.effects.createWrapper(q).css({overflow:"hidden"});var m=n=="up"||n=="down"?"top":"left",l=n=="up"||n=="left"?"pos":"neg",k=a.options.distance||(m=="top"?q.outerHeight({margin:!0}):q.outerWidth({margin:!0}));o=="show"&&q.css(m,l=="pos"?isNaN(k)?"-"+k:-k:k);var b={};b[m]=(o=="show"?l=="pos"?"+=":"-=":l=="pos"?"-=":"+=")+k,q.animate(b,{queue:!1,duration:a.duration,easing:a.options.easing,complete:function(){o=="hide"&&q.hide(),d.effects.restore(q,p),d.effects.removeWrapper(q),a.callback&&a.callback.apply(this,arguments),q.dequeue()}})})}}(jQuery),function(d,c){d.effects.transfer=function(a){return this.queue(function(){var m=d(this),l=d(a.options.to),k=l.offset(),j={top:k.top,left:k.left,height:l.innerHeight(),width:l.innerWidth()},i=m.offset(),b=d('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.options.className).css({top:i.top,left:i.left,height:m.innerHeight(),width:m.innerWidth(),position:"absolute"}).animate(j,a.duration,a.options.easing,function(){b.remove(),a.callback&&a.callback.apply(m[0],arguments),m.dequeue()})})}}(jQuery),function(d,c){d.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var a=this,h=a.options;a.running=0,a.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),a.headers=a.element.find(h.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){h.disabled||d(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){h.disabled||d(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){h.disabled||d(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){h.disabled||d(this).removeClass("ui-state-focus")}),a.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(h.navigation){var g=a.element.find("a").filter(h.navigationFilter).eq(0);if(g.length){var f=g.closest(".ui-accordion-header");f.length?a.active=f:a.active=g.closest(".ui-accordion-content").prev()}}a.active=a._findActive(a.active||h.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),a.active.next().addClass("ui-accordion-content-active"),a._createIcons(),a.resize(),a.element.attr("role","tablist"),a.headers.attr("role","tab").bind("keydown.accordion",function(b){return a._keydown(b)}).next().attr("role","tabpanel"),a.headers.not(a.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),a.active.length?a.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):a.headers.eq(0).attr("tabIndex",0),d.browser.safari||a.headers.find("a").attr("tabIndex",-1),h.event&&a.headers.bind(h.event.split(" ").join(".accordion ")+".accordion",function(b){a._clickHandler.call(a,b,this),b.preventDefault()})},_createIcons:function(){var a=this.options;a.icons&&(d("<span></span>").addClass("ui-icon "+a.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(a.icons.header).toggleClass(a.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var a=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var e=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(a.autoHeight||a.fillHeight)&&e.css("height","");return d.Widget.prototype.destroy.call(this)},_setOption:function(a,e){d.Widget.prototype._setOption.apply(this,arguments),a=="active"&&this.activate(e),a=="icons"&&(this._destroyIcons(),e&&this._createIcons()),a=="disabled"&&this.headers.add(this.headers.next())[e?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(a){if(!(this.options.disabled||a.altKey||a.ctrlKey)){var j=d.ui.keyCode,i=this.headers.length,h=this.headers.index(a.target),g=!1;switch(a.keyCode){case j.RIGHT:case j.DOWN:g=this.headers[(h+1)%i];break;case j.LEFT:case j.UP:g=this.headers[(h-1+i)%i];break;case j.SPACE:case j.ENTER:this._clickHandler({target:a.target},a.target),a.preventDefault()}if(g){d(a.target).attr("tabIndex",-1),d(g).attr("tabIndex",0),g.focus();return !1}return !0}},resize:function(){var a=this.options,f;if(a.fillSpace){if(d.browser.msie){var e=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}f=this.element.parent().height(),d.browser.msie&&this.element.parent().css("overflow",e),this.headers.each(function(){f-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,f-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else{a.autoHeight&&(f=0,this.headers.next().each(function(){f=Math.max(f,d(this).height("").height())}).height(f))}return this},activate:function(f){this.options.active=f;var e=this._findActive(f)[0];this._clickHandler({target:e},e);return this},_findActive:function(a){return a?typeof a=="number"?this.headers.filter(":eq("+a+")"):this.headers.not(this.headers.not(a)):a===!1?d([]):this.headers.filter(":eq(0)")},_clickHandler:function(u,s){var r=this.options;if(!r.disabled){if(!u.target){if(!r.collapsible){return}this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),this.active.next().addClass("ui-accordion-content-active");var q=this.active.next(),p={options:r,newHeader:d([]),oldHeader:r.active,newContent:d([]),oldContent:q},o=this.active=d([]);this._toggle(o,q,p);return}var n=d(u.currentTarget||s),m=n[0]===this.active[0];r.active=r.collapsible&&m?!1:this.headers.index(n);if(this.running||!r.collapsible&&m){return}var l=this.active,o=n.next(),q=this.active.next(),p={options:r,newHeader:m&&r.collapsible?d([]):n,oldHeader:this.active,newContent:m&&r.collapsible?d([]):o,oldContent:q},a=this.headers.index(this.active[0])>this.headers.index(n[0]);this.active=m?d([]):n,this._toggle(o,q,p,m,a),l.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(r.icons.headerSelected).addClass(r.icons.header),m||(n.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(r.icons.header).addClass(r.icons.headerSelected),n.next().addClass("ui-accordion-content-active"));return}},_toggle:function(y,x,w,v,u){var s=this,r=s.options;s.toShow=y,s.toHide=x,s.data=w;var q=function(){if(!!s){return s._completed.apply(s,arguments)}};s._trigger("changestart",null,s.data),s.running=x.size()===0?y.size():x.size();if(r.animated){var p={};r.collapsible&&v?p={toShow:d([]),toHide:x,complete:q,down:u,autoHeight:r.autoHeight||r.fillSpace}:p={toShow:y,toHide:x,complete:q,down:u,autoHeight:r.autoHeight||r.fillSpace},r.proxied||(r.proxied=r.animated),r.proxiedDuration||(r.proxiedDuration=r.duration),r.animated=d.isFunction(r.proxied)?r.proxied(p):r.proxied,r.duration=d.isFunction(r.proxiedDuration)?r.proxiedDuration(p):r.proxiedDuration;var o=d.ui.accordion.animations,n=r.duration,a=r.animated;a&&!o[a]&&!d.easing[a]&&(a="slide"),o[a]||(o[a]=function(b){this.slide(b,{easing:a,duration:n||700})}),o[a](p)}else{r.collapsible&&v?y.toggle():(x.hide(),y.show()),q(!0)}x.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),y.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(b){this.running=b?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),d.extend(d.ui.accordion,{version:"1.8.18",animations:{slide:function(r,q){r=d.extend({easing:"swing",duration:300},r,q);if(!r.toHide.size()){r.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},r)}else{if(!r.toShow.size()){r.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},r);return}var p=r.toShow.css("overflow"),o=0,n={},m={},l=["height","paddingTop","paddingBottom"],k,a=r.toShow;k=a[0].style.width,a.width(a.parent().width()-parseFloat(a.css("paddingLeft"))-parseFloat(a.css("paddingRight"))-(parseFloat(a.css("borderLeftWidth"))||0)-(parseFloat(a.css("borderRightWidth"))||0)),d.each(l,function(g,f){m[f]="hide";var b=(""+d.css(r.toShow[0],f)).match(/^([\d+-.]+)(.*)$/);n[f]={value:b[1],unit:b[2]||"px"}}),r.toShow.css({height:0,overflow:"hidden"}).show(),r.toHide.filter(":hidden").each(r.complete).end().filter(":visible").animate(m,{step:function(b,e){e.prop=="height"&&(o=e.end-e.start===0?0:(e.now-e.start)/(e.end-e.start)),r.toShow[0].style[e.prop]=o*n[e.prop].value+n[e.prop].unit},duration:r.duration,easing:r.easing,complete:function(){r.autoHeight||r.toShow.css("height",""),r.toShow.css({width:k,overflow:p}),r.complete()}})}},bounceslide:function(b){this.slide(b,{easing:b.down?"easeOutBounce":"swing",duration:b.down?1000:200})}}})}(jQuery),function(e,d){var f=0;e.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,h=this.element[0].ownerDocument,g;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(i){if(!a.options.disabled&&!a.element.propAttr("readOnly")){g=!1;var b=e.ui.keyCode;switch(i.keyCode){case b.PAGE_UP:a._move("previousPage",i);break;case b.PAGE_DOWN:a._move("nextPage",i);break;case b.UP:a._move("previous",i),i.preventDefault();break;case b.DOWN:a._move("next",i),i.preventDefault();break;case b.ENTER:case b.NUMPAD_ENTER:a.menu.active&&(g=!0,i.preventDefault());case b.TAB:if(!a.menu.active){return}a.menu.select(i);break;case b.ESCAPE:a.element.val(a.term),a.close(i);break;default:clearTimeout(a.searching),a.searching=setTimeout(function(){a.term!=a.element.val()&&(a.selectedItem=null,a.search(null,i))},a.options.delay)}}}).bind("keypress.autocomplete",function(b){g&&(g=!1,b.preventDefault())}).bind("focus.autocomplete",function(){a.options.disabled||(a.selectedItem=null,a.previous=a.element.val())}).bind("blur.autocomplete",function(b){a.options.disabled||(clearTimeout(a.searching),a.closing=setTimeout(function(){a.close(b),a._change(b)},150))}),this._initSource(),this.response=function(){return a._response.apply(a,arguments)},this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",h)[0]).mousedown(function(i){var b=a.menu.element[0];e(i.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(j){j.target!==a.element[0]&&j.target!==b&&!e.ui.contains(b,j.target)&&a.close()})},1),setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(b,j){var i=j.item.data("item.autocomplete");!1!==a._trigger("focus",b,{item:i})&&/^key/.test(b.originalEvent.type)&&a.element.val(i.value)},selected:function(b,j){var i=j.item.data("item.autocomplete"),c=a.previous;a.element[0]!==h.activeElement&&(a.element.focus(),a.previous=c,setTimeout(function(){a.previous=c,a.selectedItem=i},1)),!1!==a._trigger("select",b,{item:i})&&a.element.val(i.value),a.term=a.element.val(),a.close(b),a.selectedItem=i},blur:function(b,i){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),e.fn.bgiframe&&this.menu.element.bgiframe(),a.beforeunloadHandler=function(){a.element.removeAttr("autocomplete")},e(window).bind("beforeunload",a.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),e(window).unbind("beforeunload",this.beforeunloadHandler),e.Widget.prototype.destroy.call(this)},_setOption:function(a,g){e.Widget.prototype._setOption.apply(this,arguments),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(e(g||"body",this.element[0].ownerDocument)[0]),a==="disabled"&&g&&this.xhr&&this.xhr.abort()},_initSource:function(){var a=this,g,c;e.isArray(this.options.source)?(g=this.options.source,this.source=function(h,i){i(e.ui.autocomplete.filter(g,h.term))}):typeof this.options.source=="string"?(c=this.options.source,this.source=function(h,b){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:c,data:h,dataType:"json",context:{autocompleteRequest:++f},success:function(j,i){this.autocompleteRequest===f&&b(j)},error:function(){this.autocompleteRequest===f&&b([])}})}):this.source=this.options.source},search:function(g,c){g=g!=null?g:this.element.val(),this.term=this.element.val();if(g.length<this.options.minLength){return this.close(c)}clearTimeout(this.closing);if(this._trigger("search",c)!==!1){return this._search(g)}},_search:function(b){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:b},this.response)},_response:function(b){!this.options.disabled&&b&&b.length?(b=this._normalize(b),this._suggest(b),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(b){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",b))},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(a){if(a.length&&a[0].label&&a[0].value){return a}return e.map(a,function(c){if(typeof c=="string"){return{label:c,value:c}}return e.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(a){var g=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(g,a),this.menu.deactivate(),this.menu.refresh(),g.show(),this._resizeMenu(),g.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,h){var g=this;e.each(h,function(b,i){g._renderItem(a,i)})},_renderItem:function(a,g){return e("<li></li>").data("item.autocomplete",g).append(e("<a></a>").text(g.label)).appendTo(a)},_move:function(g,c){if(!this.menu.element.is(":visible")){this.search(null,c)}else{if(this.menu.first()&&/^previous/.test(g)||this.menu.last()&&/^next/.test(g)){this.element.val(this.term),this.menu.deactivate();return}this.menu[g](c)}},widget:function(){return this.menu.element}}),e.extend(e.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(a,h){var g=new RegExp(e.ui.autocomplete.escapeRegex(h),"i");return e.grep(a,function(b){return g.test(b.label||b.value||b)})}})}(jQuery),function(b){b.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(d){!b(d.target).closest(".ui-menu-item a").length||(d.preventDefault(),a.select(d))}),this.refresh()},refresh:function(){var a=this,d=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");d.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(e){a.activate(e,b(this).parent())}).mouseleave(function(){a.deactivate()})},activate:function(g,f){this.deactivate();if(this.hasScroll()){var j=f.offset().top-this.element.offset().top,i=this.element.scrollTop(),h=this.element.height();j<0?this.element.scrollTop(i+j):j>=h&&this.element.scrollTop(i+j-h+f.height())}this.active=f.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",g,{item:f})},deactivate:function(){!this.active||(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(c){this.move("next",".ui-menu-item:first",c)},previous:function(c){this.move("prev",".ui-menu-item:last",c)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(f,e,h){if(!this.active){this.activate(h,this.element.children(e))}else{var g=this.active[f+"All"](".ui-menu-item").eq(0);g.length?this.activate(h,g):this.activate(h,this.element.children(e))}},nextPage:function(a){if(this.hasScroll()){if(!this.active||this.last()){this.activate(a,this.element.children(".ui-menu-item:first"));return}var h=this.active.offset().top,g=this.element.height(),f=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-h-g+b(this).height();return c<10&&c>-10});f.length||(f=this.element.children(".ui-menu-item:last")),this.activate(a,f)}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(a){if(this.hasScroll()){if(!this.active||this.first()){this.activate(a,this.element.children(".ui-menu-item:last"));return}var f=this.active.offset().top,e=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var c=b(this).offset().top-f+e-b(this).height();return c<10&&c>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(a,result)}else{this.activate(a,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(c){this._trigger("selected",c,{item:this.active})}})}(jQuery),function(w,v){var u,s,r,q,p="ui-button ui-widget ui-state-default ui-corner-all",o="ui-state-hover ui-state-active ",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var a=w(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},l=function(a){var h=a.name,g=a.form,f=w([]);h&&(g?f=w(g).find("[name='"+h+"']"):f=w("[name='"+h+"']",a.ownerDocument).filter(function(){return !this.form}));return f};w.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",m),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var c=this,f=this.options,e=this.type==="checkbox"||this.type==="radio",d="ui-state-hover"+(e?"":" ui-state-active"),a="ui-state-focus";f.label===null&&(f.label=this.buttonElement.html()),this.buttonElement.addClass(p).attr("role","button").bind("mouseenter.button",function(){f.disabled||(w(this).addClass("ui-state-hover"),this===u&&w(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){f.disabled||w(this).removeClass(d)}).bind("click.button",function(b){f.disabled&&(b.preventDefault(),b.stopImmediatePropagation())}),this.element.bind("focus.button",function(){c.buttonElement.addClass(a)}).bind("blur.button",function(){c.buttonElement.removeClass(a)}),e&&(this.element.bind("change.button",function(){q||c.refresh()}),this.buttonElement.bind("mousedown.button",function(b){f.disabled||(q=!1,s=b.pageX,r=b.pageY)}).bind("mouseup.button",function(b){!f.disabled&&(s!==b.pageX||r!==b.pageY)&&(q=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(f.disabled||q){return !1}w(this).toggleClass("ui-state-active"),c.buttonElement.attr("aria-pressed",c.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(f.disabled||q){return !1}w(this).addClass("ui-state-active"),c.buttonElement.attr("aria-pressed","true");var b=c.element[0];l(b).not(b).map(function(){return w(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(f.disabled){return !1}w(this).addClass("ui-state-active"),u=this,w(document).one("mouseup",function(){u=null})}).bind("mouseup.button",function(){if(f.disabled){return !1}w(this).removeClass("ui-state-active")}).bind("keydown.button",function(g){if(f.disabled){return !1}(g.keyCode==w.ui.keyCode.SPACE||g.keyCode==w.ui.keyCode.ENTER)&&w(this).addClass("ui-state-active")}).bind("keyup.button",function(){w(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(g){g.keyCode===w.ui.keyCode.SPACE&&w(this).click()})),this._setOption("disabled",f.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var e=this.element.parents().filter(":last"),d="label[for='"+this.element.attr("id")+"']";this.buttonElement=e.find(d),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(d),this.buttonElement.length||(this.buttonElement=e.find(d))),this.element.addClass("ui-helper-hidden-accessible");var f=this.element.is(":checked");f&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",f)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(p+" "+o+" "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),w.Widget.prototype.destroy.call(this)},_setOption:function(a,d){w.Widget.prototype._setOption.apply(this,arguments);a==="disabled"?d?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a),this.type==="radio"?l(this.element[0]).each(function(){w(this).is(":checked")?w(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):w(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label)}else{var a=this.buttonElement.removeClass(n),j=w("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),i=this.options.icons,h=i.primary&&i.secondary,g=[];i.primary||i.secondary?(this.options.text&&g.push("ui-button-text-icon"+(h?"s":i.primary?"-primary":"-secondary")),i.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(g.push(h?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",j))):g.push("ui-button-text-only"),a.addClass(g.join(" "))}}}),w.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,d){a==="disabled"&&this.buttons.button("option",a,d),w.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var a=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return w(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return w(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),w.Widget.prototype.destroy.call(this)}})}(jQuery),function($,undefined){function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}function extendRemove(a,b){$.extend(a,b);for(var c in b){if(b[c]==null||b[c]==undefined){a[c]=b[c]}}return a}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);!c.length||c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);!$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])&&!!d.length&&(d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover"))})}function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend($.ui,{datepicker:{version:"1.8.18"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){extendRemove(this._defaults,a||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){$.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]);return !1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++){a[d].length>b&&(b=a[d].length,c=d)}return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f);return this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d=="input"){a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d=="input"){a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return !1}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return !0}}return !1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null}var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing){switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else{$.datepicker._hideDatepicker()}return !1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}}else{a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1}c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal){try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}}return !0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if(!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1){return}extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){e|=$(this).css("position")=="fixed";return !e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0);return b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a))){a=a[c?"previousSibling":"nextSibling"]}var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=this,f=function(){$.datepicker._tidyDialog(b),e._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,f):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1;var g=this._get(b,"onClose");g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!!$.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay){c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear}else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();b.setMonth(0),b.setDate(1);return Math.floor(Math.round((c-b)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;c&&s++;return c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f){throw"Missing number at position "+r}r+=f[0].length;return parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return -(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase()){f=c[0],r+=d.length;return !1}});if(f!=-1){return f+1}throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s)){throw"Unexpected literal at position "+r}r++},r=0;for(var s=0;s<a.length;s++){if(m){a.charAt(s)=="'"&&!n("'")?m=!1:q()}else{switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/10000);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}}}if(r<b.length){throw"Extra/unparsed characters found in date: "+b.substring(r)}i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;for(;;){var u=this._getDaysInMonth(i,j-1);if(k<=u){break}j++,k-=u}}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k){throw"Invalid date"}return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;c&&m++;return c},i=function(a,b,c){var d=""+b;if(h(a)){while(d.length<c){d="0"+d}}return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b){for(var m=0;m<a.length;m++){if(l){a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m)}else{switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*10000+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}}}}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;c&&e++;return c};for(var e=0;e<a.length;e++){if(c){a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e)}else{switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}}}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0));return this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p){n--,n<0&&(n=11,o--)}}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\" title=\""+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\" title=\""+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1){switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1;return K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i){m+='<span class="ui-datepicker-month">'+g[b]+"</span>"}else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" >";for(var p=0;p<12;p++){(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>")}m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j){l+='<span class="ui-datepicker-year">'+c+"</span>"}else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" >";for(;t<=u;t++){a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>"}a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>";return l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;e=d&&e>d?d:e;return e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth()));return this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length){return this}$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return $.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)})},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.18",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(h,g){var l="ui-dialog ui-widget ui-widget-content ui-corner-all ",k={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},j={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},i=h.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};h.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(a){var d=h(this).css(a).offset().top;d<0&&h(this).css("top",a.top-d)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var u=this,s=u.options,r=s.title||"&#160;",q=h.ui.dialog.getTitleId(u.element),p=(u.uiDialog=h("<div></div>")).appendTo(document.body).hide().addClass(l+s.dialogClass).css({zIndex:s.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(b){s.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===h.ui.keyCode.ESCAPE&&(u.close(b),b.preventDefault())}).attr({role:"dialog","aria-labelledby":q}).mousedown(function(b){u.moveToTop(!1,b)}),o=u.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(p),n=(u.uiDialogTitlebar=h("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(p),m=h('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){m.addClass("ui-state-hover")},function(){m.removeClass("ui-state-hover")}).focus(function(){m.addClass("ui-state-focus")}).blur(function(){m.removeClass("ui-state-focus")}).click(function(b){u.close(b);return !1}).appendTo(n),c=(u.uiDialogTitlebarCloseText=h("<span></span>")).addClass("ui-icon ui-icon-closethick").text(s.closeText).appendTo(m),a=h("<span></span>").addClass("ui-dialog-title").attr("id",q).html(r).prependTo(n);h.isFunction(s.beforeclose)&&!h.isFunction(s.beforeClose)&&(s.beforeClose=s.beforeclose),n.find("*").add(n).disableSelection(),s.draggable&&h.fn.draggable&&u._makeDraggable(),s.resizable&&h.fn.resizable&&u._makeResizable(),u._createButtons(s.buttons),u._isOpen=!1,h.fn.bgiframe&&p.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var b=this;b.overlay&&b.overlay.destroy(),b.uiDialog.hide(),b.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),b.uiDialog.remove(),b.originalTitle&&b.element.attr("title",b.originalTitle);return b},widget:function(){return this.uiDialog},close:function(a){var n=this,m,f;if(!1!==n._trigger("beforeClose",a)){n.overlay&&n.overlay.destroy(),n.uiDialog.unbind("keypress.ui-dialog"),n._isOpen=!1,n.options.hide?n.uiDialog.hide(n.options.hide,function(){n._trigger("close",a)}):(n.uiDialog.hide(),n._trigger("close",a)),h.ui.dialog.overlay.resize(),n.options.modal&&(m=0,h(".ui-dialog").each(function(){this!==n.uiDialog[0]&&(f=h(this).css("z-index"),isNaN(f)||(m=Math.max(m,f)))}),h.ui.dialog.maxZ=m);return n}},isOpen:function(){return this._isOpen},moveToTop:function(a,p){var o=this,n=o.options,m;if(n.modal&&!a||!n.stack&&!n.modal){return o._trigger("focus",p)}n.zIndex>h.ui.dialog.maxZ&&(h.ui.dialog.maxZ=n.zIndex),o.overlay&&(h.ui.dialog.maxZ+=1,o.overlay.$el.css("z-index",h.ui.dialog.overlay.maxZ=h.ui.dialog.maxZ)),m={scrollTop:o.element.scrollTop(),scrollLeft:o.element.scrollLeft()},h.ui.dialog.maxZ+=1,o.uiDialog.css("z-index",h.ui.dialog.maxZ),o.element.attr(m),o._trigger("focus",p);return o},open:function(){if(!this._isOpen){var a=this,f=a.options,e=a.uiDialog;a.overlay=f.modal?new h.ui.dialog.overlay(a):null,a._size(),a._position(f.position),e.show(f.show),a.moveToTop(!0),f.modal&&e.bind("keydown.ui-dialog",function(m){if(m.keyCode===h.ui.keyCode.TAB){var p=h(":tabbable",this),o=p.filter(":first"),n=p.filter(":last");if(m.target===n[0]&&!m.shiftKey){o.focus(1);return !1}if(m.target===o[0]&&m.shiftKey){n.focus(1);return !1}}}),h(a.element.find(":tabbable").get().concat(e.find(".ui-dialog-buttonpane :tabbable").get().concat(e.get()))).eq(0).focus(),a._isOpen=!0,a._trigger("open");return a}},_createButtons:function(a){var o=this,n=!1,m=h("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=h("<div></div>").addClass("ui-dialog-buttonset").appendTo(m);o.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof a=="object"&&a!==null&&h.each(a,function(){return !(n=!0)}),n&&(h.each(a,function(c,q){q=h.isFunction(q)?{click:q,text:c}:q;var p=h('<button type="button"></button>').click(function(){q.click.apply(o.element[0],arguments)}).appendTo(f);h.each(q,function(e,d){e!=="click"&&(e in i?p[e](d):p.attr(e,d))}),h.fn.button&&p.button()}),m.appendTo(o.uiDialog))},_makeDraggable:function(){function m(b){return{position:b.position,offset:b.offset}}var a=this,p=a.options,o=h(document),n;a.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,b){n=p.height==="auto"?"auto":h(this).height(),h(this).height(h(this).height()).addClass("ui-dialog-dragging"),a._trigger("dragStart",c,m(b))},drag:function(b,d){a._trigger("drag",b,m(d))},stop:function(c,b){p.position=[b.position.left-o.scrollLeft(),b.position.top-o.scrollTop()],h(this).removeClass("ui-dialog-dragging").height(n),a._trigger("dragStop",c,m(b)),h.ui.dialog.overlay.resize()}})},_makeResizable:function(p){function a(c){return{originalPosition:c.originalPosition,originalSize:c.originalSize,position:c.position,size:c.size}}p=p===g?this.options.resizable:p;var o=this,n=o.options,m=o.uiDialog.css("position"),b=typeof p=="string"?p:"n,e,s,w,se,sw,ne,nw";o.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:o.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:o._minHeight(),handles:b,start:function(d,e){h(this).addClass("ui-dialog-resizing"),o._trigger("resizeStart",d,a(e))},resize:function(d,c){o._trigger("resize",d,a(c))},stop:function(d,e){h(this).removeClass("ui-dialog-resizing"),n.height=h(this).height(),n.width=h(this).width(),o._trigger("resizeStop",d,a(e)),h.ui.dialog.overlay.resize()}}).css("position",m).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var b=this.options;return b.height==="auto"?b.minHeight:Math.min(b.minHeight,b.height)},_position:function(a){var n=[],m=[0,0],f;if(a){if(typeof a=="string"||typeof a=="object"&&"0" in a){n=a.split?a.split(" "):[a[0],a[1]],n.length===1&&(n[1]=n[0]),h.each(["left","top"],function(d,c){+n[d]===n[d]&&(m[d]=n[d],n[d]=c)}),a={my:n.join(" "),at:n.join(" "),offset:m.join(" ")}}a=h.extend({},h.ui.dialog.prototype.options.position,a)}else{a=h.ui.dialog.prototype.options.position}f=this.uiDialog.is(":visible"),f||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(h.extend({of:window},a)),f||this.uiDialog.hide()},_setOptions:function(a){var m=this,e={},d=!1;h.each(a,function(f,c){m._setOption(f,c),f in k&&(d=!0),f in j&&(e[f]=c)}),d&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,p){var o=this,n=o.uiDialog;switch(a){case"beforeclose":a="beforeClose";break;case"buttons":o._createButtons(p);break;case"closeText":o.uiDialogTitlebarCloseText.text(""+p);break;case"dialogClass":n.removeClass(o.options.dialogClass).addClass(l+p);break;case"disabled":p?n.addClass("ui-dialog-disabled"):n.removeClass("ui-dialog-disabled");break;case"draggable":var m=n.is(":data(draggable)");m&&!p&&n.draggable("destroy"),!m&&p&&o._makeDraggable();break;case"position":o._position(p);break;case"resizable":var c=n.is(":data(resizable)");c&&!p&&n.resizable("destroy"),c&&typeof p=="string"&&n.resizable("option","handles",p),!c&&p!==!1&&o._makeResizable(p);break;case"title":h(".ui-dialog-title",o.uiDialogTitlebar).html(""+(p||"&#160;"))}h.Widget.prototype._setOption.apply(o,arguments)},_size:function(){var a=this.options,p,o,n=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),a.minWidth>a.width&&(a.width=a.minWidth),p=this.uiDialog.css({height:"auto",width:a.width}).height(),o=Math.max(0,a.minHeight-p);if(a.height==="auto"){if(h.support.minHeight){this.element.css({minHeight:o,height:"auto"})}else{this.uiDialog.show();var m=this.element.css("height","auto").height();n||this.uiDialog.hide(),this.element.height(Math.max(m,o))}}else{this.element.height(Math.max(a.height-p,0))}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),h.extend(h.ui.dialog,{version:"1.8.18",uuid:0,maxZ:0,getTitleId:function(d){var c=d.attr("id");c||(this.uuid+=1,c=this.uuid);return"ui-dialog-title-"+c},overlay:function(a){this.$el=h.ui.dialog.overlay.create(a)}}),h.extend(h.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:h.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(b){return b+".dialog-overlay"}).join(" "),create:function(a){this.instances.length===0&&(setTimeout(function(){h.ui.dialog.overlay.instances.length&&h(document).bind(h.ui.dialog.overlay.events,function(c){if(h(c.target).zIndex()<h.ui.dialog.overlay.maxZ){return !1}})},1),h(document).bind("keydown.dialog-overlay",function(b){a.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===h.ui.keyCode.ESCAPE&&(a.close(b),b.preventDefault())}),h(window).bind("resize.dialog-overlay",h.ui.dialog.overlay.resize));var d=(this.oldInstances.pop()||h("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});h.fn.bgiframe&&d.bgiframe(),this.instances.push(d);return d},destroy:function(a){var f=h.inArray(a,this.instances);f!=-1&&this.oldInstances.push(this.instances.splice(f,1)[0]),this.instances.length===0&&h([document,window]).unbind(".dialog-overlay"),a.remove();var e=0;h.each(this.instances,function(){e=Math.max(e,this.css("z-index"))}),this.maxZ=e},height:function(){var a,d;if(h.browser.msie&&h.browser.version<7){a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),d=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return a<d?h(window).height()+"px":a+"px"}return h(document).height()+"px"},width:function(){var a,d;if(h.browser.msie){a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),d=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return a<d?h(window).width()+"px":a+"px"}return h(document).width()+"px"},resize:function(){var a=h([]);h.each(h.ui.dialog.overlay.instances,function(){a=a.add(this)}),a.css({width:0,height:0}).css({width:h.ui.dialog.overlay.width(),height:h.ui.dialog.overlay.height()})}}),h.extend(h.ui.dialog.overlay.prototype,{destroy:function(){h.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(j,i){j.ui=j.ui||{};var p=/left|center|right/,o=/top|center|bottom/,n="center",m={},l=j.fn.position,k=j.fn.offset;j.fn.position=function(c){if(!c||!c.of){return l.apply(this,arguments)}c=j.extend({},c);var q=j(c.of),g=q[0],f=(c.collision||"flip").split(" "),e=c.offset?c.offset.split(" "):[0,0],d,a,r;g.nodeType===9?(d=q.width(),a=q.height(),r={top:0,left:0}):g.setTimeout?(d=q.width(),a=q.height(),r={top:q.scrollTop(),left:q.scrollLeft()}):g.preventDefault?(c.at="left top",d=a=0,r={top:c.of.pageY,left:c.of.pageX}):(d=q.outerWidth(),a=q.outerHeight(),r=q.offset()),j.each(["my","at"],function(){var b=(c[this]||"").split(" ");b.length===1&&(b=p.test(b[0])?b.concat([n]):o.test(b[0])?[n].concat(b):[n,n]),b[0]=p.test(b[0])?b[0]:n,b[1]=o.test(b[1])?b[1]:n,c[this]=b}),f.length===1&&(f[1]=f[0]),e[0]=parseInt(e[0],10)||0,e.length===1&&(e[1]=e[0]),e[1]=parseInt(e[1],10)||0,c.at[0]==="right"?r.left+=d:c.at[0]===n&&(r.left+=d/2),c.at[1]==="bottom"?r.top+=a:c.at[1]===n&&(r.top+=a/2),r.left+=e[0],r.top+=e[1];return this.each(function(){var A=j(this),z=A.outerWidth(),y=A.outerHeight(),x=parseInt(j.curCSS(this,"marginLeft",!0))||0,w=parseInt(j.curCSS(this,"marginTop",!0))||0,v=z+x+(parseInt(j.curCSS(this,"marginRight",!0))||0),u=y+w+(parseInt(j.curCSS(this,"marginBottom",!0))||0),s=j.extend({},r),b;c.my[0]==="right"?s.left-=z:c.my[0]===n&&(s.left-=z/2),c.my[1]==="bottom"?s.top-=y:c.my[1]===n&&(s.top-=y/2),m.fractions||(s.left=Math.round(s.left),s.top=Math.round(s.top)),b={left:s.left-x,top:s.top-w},j.each(["left","top"],function(B,h){j.ui.position[f[B]]&&j.ui.position[f[B]][h](s,{targetWidth:d,targetHeight:a,elemWidth:z,elemHeight:y,collisionPosition:b,collisionWidth:v,collisionHeight:u,offset:e,my:c.my,at:c.at})}),j.fn.bgiframe&&A.bgiframe(),A.offset(j.extend(s,{using:c.using}))})},j.ui.position={fit:{left:function(a,h){var g=j(window),f=h.collisionPosition.left+h.collisionWidth-g.width()-g.scrollLeft();a.left=f>0?a.left-f:Math.max(a.left-h.collisionPosition.left,a.left)},top:function(a,h){var g=j(window),f=h.collisionPosition.top+h.collisionHeight-g.height()-g.scrollTop();a.top=f>0?a.top-f:Math.max(a.top-h.collisionPosition.top,a.top)}},flip:{left:function(a,v){if(v.at[0]!==n){var u=j(window),s=v.collisionPosition.left+v.collisionWidth-u.width()-u.scrollLeft(),r=v.my[0]==="left"?-v.elemWidth:v.my[0]==="right"?v.elemWidth:0,q=v.at[0]==="left"?v.targetWidth:-v.targetWidth,e=-2*v.offset[0];a.left+=v.collisionPosition.left<0?r+q+e:s>0?r+q+e:0}},top:function(a,v){if(v.at[1]!==n){var u=j(window),s=v.collisionPosition.top+v.collisionHeight-u.height()-u.scrollTop(),r=v.my[1]==="top"?-v.elemHeight:v.my[1]==="bottom"?v.elemHeight:0,q=v.at[1]==="top"?v.targetHeight:-v.targetHeight,e=-2*v.offset[1];a.top+=v.collisionPosition.top<0?r+q+e:s>0?r+q+e:0}}}},j.offset.setOffset||(j.offset.setOffset=function(a,w){/static/.test(j.curCSS(a,"position"))&&(a.style.position="relative");var v=j(a),u=v.offset(),s=parseInt(j.curCSS(a,"top",!0),10)||0,r=parseInt(j.curCSS(a,"left",!0),10)||0,q={top:w.top-u.top+s,left:w.left-u.left+r};"using" in w?w.using.call(a,q):v.css(q)},j.fn.offset=function(a){var d=this[0];if(!d||!d.ownerDocument){return null}if(a){return this.each(function(){j.offset.setOffset(this,a)})}return k.call(this)}),function(){var a=document.getElementsByTagName("body")[0],w=document.createElement("div"),v,u,s,r,q;v=document.createElement(a?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&j.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(var f in s){v.style[f]=s[f]}v.appendChild(w),u=a||document.documentElement,u.insertBefore(v,u.firstChild),w.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",r=j(w).offset(function(d,c){return c}).offset(),v.innerHTML="",u.removeChild(v),q=r.top+r.left+(a?2000:0),m.fractions=q>21&&q<22}()}(jQuery),function(d,c){d.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=d("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),d.Widget.prototype.destroy.apply(this,arguments)},value:function(b){if(b===c){return this._value()}this._setOption("value",b);return this},_setOption:function(a,e){a==="value"&&(this.options.value=e,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),d.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var b=this.options.value;typeof b!="number"&&(b=0);return Math.min(this.options.max,Math.max(this.min,b))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var f=this.value(),e=this._percentage();this.oldValue!==f&&(this.oldValue=f,this._trigger("change")),this.valueDiv.toggle(f>this.min).toggleClass("ui-corner-right",f===this.options.max).width(e.toFixed(0)+"%"),this.element.attr("aria-valuenow",f)}}),d.extend(d.ui.progressbar,{version:"1.8.18"})}(jQuery),function(e,d){var f=5;e.widget("ui.slider",e.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var a=this,n=this.options,m=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),l="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",k=n.values&&n.values.length||1,j=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(n.disabled?" ui-slider-disabled ui-disabled":"")),this.range=e([]),n.range&&(n.range===!0&&(n.values||(n.values=[this._valueMin(),this._valueMin()]),n.values.length&&n.values.length!==2&&(n.values=[n.values[0],n.values[0]])),this.range=e("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(n.range==="min"||n.range==="max"?" ui-slider-range-"+n.range:"")));for(var c=m.length;c<k;c+=1){j.push(l)}this.handles=m.add(e(j.join("")).appendTo(a.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(b){b.preventDefault()}).hover(function(){n.disabled||e(this).addClass("ui-state-hover")},function(){e(this).removeClass("ui-state-hover")}).focus(function(){n.disabled?e(this).blur():(e(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),e(this).addClass("ui-state-focus"))}).blur(function(){e(this).removeClass("ui-state-focus")}),this.handles.each(function(g){e(this).data("index.ui-slider-handle",g)}),this.handles.keydown(function(s){var r=e(this).data("index.ui-slider-handle"),q,p,o,b;if(!a.options.disabled){switch(s.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:s.preventDefault();if(!a._keySliding){a._keySliding=!0,e(this).addClass("ui-state-active"),q=a._start(s,r);if(q===!1){return}}}b=a.options.step,a.options.values&&a.options.values.length?p=o=a.values(r):p=o=a.value();switch(s.keyCode){case e.ui.keyCode.HOME:o=a._valueMin();break;case e.ui.keyCode.END:o=a._valueMax();break;case e.ui.keyCode.PAGE_UP:o=a._trimAlignValue(p+(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.PAGE_DOWN:o=a._trimAlignValue(p-(a._valueMax()-a._valueMin())/f);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(p===a._valueMax()){return}o=a._trimAlignValue(p+b);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(p===a._valueMin()){return}o=a._trimAlignValue(p-b)}a._slide(s,r,o)}}).keyup(function(g){var b=e(this).data("index.ui-slider-handle");a._keySliding&&(a._keySliding=!1,a._stop(g,b),a._change(g,b),e(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(w){var v=this.options,u,s,r,q,p,o,n,m,a;if(v.disabled){return !1}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),u={x:w.pageX,y:w.pageY},s=this._normValueFromMouse(u),r=this._valueMax()-this._valueMin()+1,p=this,this.handles.each(function(g){var h=Math.abs(s-p.values(g));r>h&&(r=h,q=e(this),o=g)}),v.range===!0&&this.values(1)===v.min&&(o+=1,q=e(this.handles[o])),n=this._start(w,o);if(n===!1){return !1}this._mouseSliding=!0,p._handleIndex=o,q.addClass("ui-state-active").focus(),m=q.offset(),a=!e(w.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:w.pageX-m.left-q.width()/2,top:w.pageY-m.top-q.height()/2-(parseInt(q.css("borderTopWidth"),10)||0)-(parseInt(q.css("borderBottomWidth"),10)||0)+(parseInt(q.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(w,o,s),this._animateOff=!0;return !0},_mouseStart:function(b){return !0},_mouseDrag:function(h){var g={x:h.pageX,y:h.pageY},i=this._normValueFromMouse(g);this._slide(h,this._handleIndex,i);return !1},_mouseStop:function(b){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(b,this._handleIndex),this._change(b,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return !1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(h){var g,l,k,j,i;this.orientation==="horizontal"?(g=this.elementSize.width,l=h.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(g=this.elementSize.height,l=h.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),k=l/g,k>1&&(k=1),k<0&&(k=0),this.orientation==="vertical"&&(k=1-k),j=this._valueMax()-this._valueMin(),i=this._valueMin()+k*j;return this._trimAlignValue(i)},_start:function(h,g){var i={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(g),i.values=this.values());return this._trigger("start",h,i)},_slide:function(h,g,l){var k,j,i;this.options.values&&this.options.values.length?(k=this.values(g?0:1),this.options.values.length===2&&this.options.range===!0&&(g===0&&l>k||g===1&&l<k)&&(l=k),l!==this.values(g)&&(j=this.values(),j[g]=l,i=this._trigger("slide",h,{handle:this.handles[g],value:l,values:j}),k=this.values(g?0:1),i!==!1&&this.values(g,l,!0))):l!==this.value()&&(i=this._trigger("slide",h,{handle:this.handles[g],value:l}),i!==!1&&this.value(l))},_stop:function(h,g){var i={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(g),i.values=this.values()),this._trigger("stop",h,i)},_change:function(h,g){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[g],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(g),i.values=this.values()),this._trigger("change",h,i)}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b),this._refreshValue(),this._change(null,0)}else{return this._value()}},values:function(a,j){var i,h,g;if(arguments.length>1){this.options.values[a]=this._trimAlignValue(j),this._refreshValue(),this._change(null,a)}else{if(!arguments.length){return this._values()}if(!e.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(a):this.value()}i=this.options.values,h=arguments[0];for(g=0;g<i.length;g+=1){i[g]=this._trimAlignValue(h[g]),this._change(null,g)}this._refreshValue()}},_setOption:function(a,i){var h,g=0;e.isArray(this.options.values)&&(g=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(a){case"disabled":i?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(h=0;h<g;h+=1){this._change(null,h)}this._animateOff=!1}},_value:function(){var b=this.options.value;b=this._trimAlignValue(b);return b},_values:function(h){var g,j,i;if(arguments.length){g=this.options.values[h],g=this._trimAlignValue(g);return g}j=this.options.values.slice();for(i=0;i<j.length;i+=1){j[i]=this._trimAlignValue(j[i])}return j},_trimAlignValue:function(h){if(h<=this._valueMin()){return this._valueMin()}if(h>=this._valueMax()){return this._valueMax()}var g=this.options.step>0?this.options.step:1,j=(h-this._valueMin())%g,i=h-j;Math.abs(j)*2>=g&&(i+=j>0?g:-g);return parseFloat(i.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var u=this.options.range,s=this.options,r=this,q=this._animateOff?!1:s.animate,p,o={},n,m,l,a;this.options.values&&this.options.values.length?this.handles.each(function(c,g){p=(r.values(c)-r._valueMin())/(r._valueMax()-r._valueMin())*100,o[r.orientation==="horizontal"?"left":"bottom"]=p+"%",e(this).stop(1,1)[q?"animate":"css"](o,s.animate),r.options.range===!0&&(r.orientation==="horizontal"?(c===0&&r.range.stop(1,1)[q?"animate":"css"]({left:p+"%"},s.animate),c===1&&r.range[q?"animate":"css"]({width:p-n+"%"},{queue:!1,duration:s.animate})):(c===0&&r.range.stop(1,1)[q?"animate":"css"]({bottom:p+"%"},s.animate),c===1&&r.range[q?"animate":"css"]({height:p-n+"%"},{queue:!1,duration:s.animate}))),n=p}):(m=this.value(),l=this._valueMin(),a=this._valueMax(),p=a!==l?(m-l)/(a-l)*100:0,o[r.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[q?"animate":"css"](o,s.animate),u==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[q?"animate":"css"]({width:p+"%"},s.animate),u==="max"&&this.orientation==="horizontal"&&this.range[q?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:s.animate}),u==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[q?"animate":"css"]({height:p+"%"},s.animate),u==="max"&&this.orientation==="vertical"&&this.range[q?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:s.animate}))}}),e.extend(e.ui.slider,{version:"1.8.18"})}(jQuery),function(h,g){function i(){return ++k}function j(){return ++l}var l=0,k=0;h.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(d,c){if(d=="selected"){if(this.options.collapsible&&c==this.options.selected){return}this.select(c)}else{this.options[d]=c,this._tabify()}},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+j()},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var a=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+i());return h.cookie.apply(null,[a].concat(h.makeArray(arguments)))},_ui:function(d,c){return{tab:d,panel:c,index:this.anchors.index(d)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var a=h(this);a.html(a.data("label.tabs")).removeData("label.tabs")})},_tabify:function(A){function p(d,e){d.css("display",""),!h.support.opacity&&e.opacity&&d[0].style.removeAttribute("filter")}var z=this,y=this.options,x=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=h(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return h("a",this)[0]}),this.panels=h([]),this.anchors.each(function(d,B){var o=h(B).attr("href"),n=o.split("#")[0],m;n&&(n===location.toString().split("#")[0]||(m=h("base")[0])&&n===m.href)&&(o=B.hash,B.href=o);if(x.test(o)){z.panels=z.panels.add(z.element.find(z._sanitizeSelector(o)))}else{if(o&&o!=="#"){h.data(B,"href.tabs",o),h.data(B,"load.tabs",o.replace(/#.*$/,""));var f=z._tabId(B);B.href="#"+f;var e=z.element.find("#"+f);e.length||(e=h(y.panelTemplate).attr("id",f).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(z.panels[d-1]||z.list),e.data("destroy.tabs",!0)),z.panels=z.panels.add(e)}else{y.disabled.push(d)}}}),A?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),y.selected===g?(location.hash&&this.anchors.each(function(d,c){if(c.hash==location.hash){y.selected=d;return !1}}),typeof y.selected!="number"&&y.cookie&&(y.selected=parseInt(z._cookie(),10)),typeof y.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(y.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),y.selected=y.selected||(this.lis.length?0:-1)):y.selected===null&&(y.selected=-1),y.selected=y.selected>=0&&this.anchors[y.selected]||y.selected<0?y.selected:0,y.disabled=h.unique(y.disabled.concat(h.map(this.lis.filter(".ui-state-disabled"),function(d,c){return z.lis.index(d)}))).sort(),h.inArray(y.selected,y.disabled)!=-1&&y.disabled.splice(h.inArray(y.selected,y.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),y.selected>=0&&this.anchors.length&&(z.element.find(z._sanitizeSelector(z.anchors[y.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(y.selected).addClass("ui-tabs-selected ui-state-active"),z.element.queue("tabs",function(){z._trigger("show",null,z._ui(z.anchors[y.selected],z.element.find(z._sanitizeSelector(z.anchors[y.selected].hash))[0]))}),this.load(y.selected)),h(window).bind("unload",function(){z.lis.add(z.anchors).unbind(".tabs"),z.lis=z.anchors=z.panels=null})):y.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[y.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),y.cookie&&this._cookie(y.selected,y.cookie);for(var w=0,v;v=this.lis[w];w++){h(v)[h.inArray(w,y.disabled)!=-1&&!h(v).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}y.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(y.event!=="mouseover"){var u=function(d,c){c.is(":not(.ui-state-disabled)")&&c.addClass("ui-state-"+d)},s=function(d,c){c.removeClass("ui-state-"+d)};this.lis.bind("mouseover.tabs",function(){u("hover",h(this))}),this.lis.bind("mouseout.tabs",function(){s("hover",h(this))}),this.anchors.bind("focus.tabs",function(){u("focus",h(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){s("focus",h(this).closest("li"))})}var r,q;y.fx&&(h.isArray(y.fx)?(r=y.fx[0],q=y.fx[1]):r=q=y.fx);var b=q?function(d,e){h(d).closest("li").addClass("ui-tabs-selected ui-state-active"),e.hide().removeClass("ui-tabs-hide").animate(q,q.duration||"normal",function(){p(e,q),z._trigger("show",null,z._ui(d,e[0]))})}:function(d,e){h(d).closest("li").addClass("ui-tabs-selected ui-state-active"),e.removeClass("ui-tabs-hide"),z._trigger("show",null,z._ui(d,e[0]))},a=r?function(d,c){c.animate(r,r.duration||"normal",function(){z.lis.removeClass("ui-tabs-selected ui-state-active"),c.addClass("ui-tabs-hide"),p(c,r),z.element.dequeue("tabs")})}:function(e,d,f){z.lis.removeClass("ui-tabs-selected ui-state-active"),d.addClass("ui-tabs-hide"),z.element.dequeue("tabs")};this.anchors.bind(y.event+".tabs",function(){var d=this,n=h(d).closest("li"),m=z.panels.filter(":not(.ui-tabs-hide)"),e=z.element.find(z._sanitizeSelector(d.hash));if(n.hasClass("ui-tabs-selected")&&!y.collapsible||n.hasClass("ui-state-disabled")||n.hasClass("ui-state-processing")||z.panels.filter(":animated").length||z._trigger("select",null,z._ui(this,e[0]))===!1){this.blur();return !1}y.selected=z.anchors.index(this),z.abort();if(y.collapsible){if(n.hasClass("ui-tabs-selected")){y.selected=-1,y.cookie&&z._cookie(y.selected,y.cookie),z.element.queue("tabs",function(){a(d,m)}).dequeue("tabs"),this.blur();return !1}if(!m.length){y.cookie&&z._cookie(y.selected,y.cookie),z.element.queue("tabs",function(){b(d,e)}),z.load(z.anchors.index(this)),this.blur();return !1}}y.cookie&&z._cookie(y.selected,y.cookie);if(e.length){m.length&&z.element.queue("tabs",function(){a(d,m)}),z.element.queue("tabs",function(){b(d,e)}),z.load(z.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}h.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return !1})},_getIndex:function(b){typeof b=="string"&&(b=this.anchors.index(this.anchors.filter("[href$="+b+"]")));return b},destroy:function(){var a=this.options;this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var d=h.data(this,"href.tabs");d&&(this.href=d);var e=h(this).unbind(".tabs");h.each(["href","load","cache"],function(f,c){e.removeData(c+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){h.data(this,"destroy.tabs")?h(this).remove():h(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),a.cookie&&this._cookie(null,a.cookie);return this},add:function(r,q,p){p===g&&(p=this.anchors.length);var o=this,n=this.options,m=h(n.tabTemplate.replace(/#\{href\}/g,r).replace(/#\{label\}/g,q)),b=r.indexOf("#")?this._tabId(h("a",m)[0]):r.replace("#","");m.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var a=o.element.find("#"+b);a.length||(a=h(n.panelTemplate).attr("id",b).data("destroy.tabs",!0)),a.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),p>=this.lis.length?(m.appendTo(this.list),a.appendTo(this.list[0].parentNode)):(m.insertBefore(this.lis[p]),a.insertBefore(this.panels[p])),n.disabled=h.map(n.disabled,function(d,c){return d>=p?++d:d}),this._tabify(),this.anchors.length==1&&(n.selected=0,m.addClass("ui-tabs-selected ui-state-active"),a.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[p],this.panels[p]));return this},remove:function(a){a=this._getIndex(a);var n=this.options,m=this.lis.eq(a).remove(),f=this.panels.eq(a).remove();m.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(a+(a+1<this.anchors.length?1:-1)),n.disabled=h.map(h.grep(n.disabled,function(b,d){return b!=a}),function(b,d){return b>=a?--b:b}),this._tabify(),this._trigger("remove",null,this._ui(m.find("a")[0],f[0]));return this},enable:function(a){a=this._getIndex(a);var d=this.options;if(h.inArray(a,d.disabled)!=-1){this.lis.eq(a).removeClass("ui-state-disabled"),d.disabled=h.grep(d.disabled,function(b,e){return b!=a}),this._trigger("enable",null,this._ui(this.anchors[a],this.panels[a]));return this}},disable:function(e){e=this._getIndex(e);var d=this,f=this.options;e!=f.selected&&(this.lis.eq(e).addClass("ui-state-disabled"),f.disabled.push(e),f.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e])));return this},select:function(b){b=this._getIndex(b);if(b==-1){if(this.options.collapsible&&this.options.selected!=-1){b=this.options.selected}else{return this}}this.anchors.eq(b).trigger(this.options.event+".tabs");return this},load:function(a){a=this._getIndex(a);var q=this,p=this.options,o=this.anchors.eq(a)[0],n=h.data(o,"load.tabs");this.abort();if(!n||this.element.queue("tabs").length!==0&&h.data(o,"cache.tabs")){this.element.dequeue("tabs")}else{this.lis.eq(a).addClass("ui-state-processing");if(p.spinner){var m=h("span",o);m.data("label.tabs",m.html()).html(p.spinner)}this.xhr=h.ajax(h.extend({},p.ajaxOptions,{url:n,success:function(d,c){q.element.find(q._sanitizeSelector(o.hash)).html(d),q._cleanup(),p.cache&&h.data(o,"cache.tabs",!0),q._trigger("load",null,q._ui(q.anchors[a],q.panels[a]));try{p.ajaxOptions.success(d,c)}catch(b){}},error:function(b,d,c){q._cleanup(),q._trigger("load",null,q._ui(q.anchors[a],q.panels[a]));try{p.ajaxOptions.error(b,d,a,o)}catch(c){}}})),q.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup();return this},url:function(d,c){this.anchors.eq(d).removeData("cache.tabs").data("load.tabs",c);return this},length:function(){return this.anchors.length}}),h.extend(h.ui.tabs,{version:"1.8.18"}),h.extend(h.ui.tabs.prototype,{rotation:null,rotate:function(n,m){var r=this,q=this.options,p=r._rotate||(r._rotate=function(a){clearTimeout(r.rotation),r.rotation=setTimeout(function(){var b=q.selected;r.select(++b<r.anchors.length?b:0)},n),a&&a.stopPropagation()}),o=r._unrotate||(r._unrotate=m?function(b){t=q.selected,p()}:function(b){b.clientX&&r.rotate(null)});n?(this.element.bind("tabsshow",p),this.anchors.bind(q.event+".tabs",o),p()):(clearTimeout(r.rotation),this.element.unbind("tabsshow",p),this.anchors.unbind(q.event+".tabs",o),delete this._rotate,delete this._unrotate);return this}})}(jQuery);(function(d){var c={create:function(a){return this.each(function(){function o(){u.show_track&&r.fadeOut(u.fade_out_time,function(){d.browser.msie&&this.style.removeAttribute("filter")}),q.fadeOut(u.fade_out_time,function(){d.browser.msie&&this.style.removeAttribute("filter")})}function n(g){var e,i,h;return e=g.originalEvent,i=e.wheelDelta?-e.wheelDelta:e.detail,i/=Math.abs(i),h=w.scrollTop()+i*u.mousewheel_step,w.scrollTop(h),q.css({top:u.margin+w.scrollTop()/(u._scrollableHeight-u._containerHeight)*(r.height()-q.height())+"px"}),w.scrollTop()<=0||w.scrollTop()>=u._scrollableHeight-u._containerHeight}function b(){u._scrollableHeight>u._containerHeight&&(u.show_track&&r.fadeIn(u.fade_in_time,function(){d.browser.msie&&this.style.removeAttribute("filter")}),q.fadeIn(u.fade_in_time,function(){d.browser.msie&&this.style.removeAttribute("filter")}))}var w,v,u,t,s,r,q,p;v={align:"right",fade:!0,fade_in_time:150,fade_out_time:500,margin:0,mousewheel:!0,mousewheel_step:32,show_track:!1,thumb_class:"scrollable_thumb",track_class:"scrollable_track",track_width:8,wrapper_class:"scrollable_wrapper"},w=d(this),u=d.extend(v,a),w.scrollable("destroy"),w.data("scrollable",u),u._containerHeight=w.height(),t=d("<div></div>").addClass(u.wrapper_class).css({height:u._containerHeight,overflow:"hidden",position:"relative",width:w.outerWidth()}),w.wrap(t),s=w.parent(),r=d("<div></div>").addClass(u.track_class).css({bottom:u.margin+"px",display:!u.fade&&u.show_track?"block":"none",left:u.align==="left"?u.margin+"px":"auto",position:"absolute",right:u.align==="right"?u.margin+"px":"auto",top:u.margin+"px",width:u.track_width+"px",zIndex:1000}),q=d("<div></div>").addClass(u.thumb_class).css({display:u.fade?"none":"block",left:u.align==="left"?u.margin+"px":"auto",position:"absolute",right:u.align==="right"?u.margin+"px":"auto",top:u.margin+"px",width:u.track_width+"px",zIndex:2000}),u._track=r,u._thumb=q,w.scrollable("refresh"),p=r.clone().css({display:"block",visibility:"hidden",zIndex:0}),s.append(p).append(r).append(q),q.draggable({axis:"y",containment:p,start:function(){d(this).data("dragging",!0)},stop:function(){d(this).data("dragging",!1),s.data("hovering")!==!0&&u.fade===!0&&o()},drag:function(){var e=(d(this).position().top-u.margin)/(r.height()-q.height())*(u._scrollableHeight-u._containerHeight);w.scrollTop(e)}}),u.fade===!0&&s.hover(function(){s.data("hovering",!0),b()},function(){s.data("hovering",!1),q.data("dragging")!==!0&&o()}),u.mousewheel===!0&&(s.on("DOMMouseScroll",n),s.on("mousewheel",n))})},destroy:function(){return this.each(function(){var a,e;a=d(this),e=a.data("scrollable"),e!==undefined&&(a.css({height:"",maxHeight:"",position:"",overflow:""}),a.parent().children().each(function(){d(this)[0]!==a[0]&&d(this).remove()}),a.unwrap(),d(window).unbind(".scrollable"),a.removeData("scrollable"))})},refresh:function(){return this.each(function(){var a,h,g,f;a=d(this),h=a.data("scrollable");if(h!==undefined){g=a.scrollTop(),a.css({height:"auto",maxHeight:"none",overflow:"visible"}),h._scrollableHeight=a.height(),a.css({height:"",maxHeight:"",overflow:"hidden"}),a.parent().css({height:a.height()}),h._containerHeight=a.height(),a.scrollTop(g),f=h._containerHeight*h._containerHeight/h._scrollableHeight,f<16&&(f=16),h._thumb.css({height:f+"px"}),h._thumb.css({top:h.margin+a.scrollTop()/(h._scrollableHeight-h._containerHeight)*(h._track.height()-h._thumb.height())+"px"});if(h._scrollableHeight<=h._containerHeight){h._track.hide(),h._thumb.hide()}else{if(h.fade!==!0||a.parent().data("hovering")===!0){h.show_track&&h._track.show(),h._thumb.show()}}}})}};d.fn.scrollable=function(a){if(c[a]){return c[a].apply(this,Array.prototype.slice.call(arguments,1))}if(typeof a=="object"||!a){return c.create.apply(this,arguments)}d.error("Method "+a+" does not exist on jQuery.scrollable")}})(jQuery);(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(G){var i=!1,u=!1,g=0,e=2000,k=0,m=["webkit","ms","moz","o"],r=window.requestAnimationFrame||!1,q=window.cancelAnimationFrame||!1;if(!r){for(var d in m){var p=m[d];r||(r=window[p+"RequestAnimationFrame"]);q||(q=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"])}}var n=window.MutationObserver||window.WebKitMutationObserver||!1,j={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:0.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var s=document.getElementsByTagName("script"),s=s[s.length-1].src.split("?")[0];return 0<s.split("/").length?s.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},o=!1,c=function(){if(o){return o}var v=document.createElement("DIV"),B=v.style,t=navigator.userAgent,s=navigator.platform,x={haspointerlock:"pointerLockElement" in document||"webkitPointerLockElement" in document||"mozPointerLockElement" in document};x.isopera="opera" in window;x.isopera12=x.isopera&&"getUserMedia" in navigator;x.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini);x.isie="all" in document&&"attachEvent" in v&&!x.isopera;x.isieold=x.isie&&!("msInterpolationMode" in B);x.isie7=x.isie&&!x.isieold&&(!("documentMode" in document)||7==document.documentMode);x.isie8=x.isie&&"documentMode" in document&&8==document.documentMode;x.isie9=x.isie&&"performance" in window&&9<=document.documentMode;x.isie10=x.isie&&"performance" in window&&10==document.documentMode;x.isie11="msRequestFullscreen" in v&&11<=document.documentMode;x.isie9mobile=/iemobile.9/i.test(t);x.isie9mobile&&(x.isie9=!1);x.isie7mobile=!x.isie9mobile&&x.isie7&&/iemobile/i.test(t);x.ismozilla="MozAppearance" in B;x.iswebkit="WebkitAppearance" in B;x.ischrome="chrome" in window;x.ischrome22=x.ischrome&&x.haspointerlock;x.ischrome26=x.ischrome&&"transition" in B;x.cantouch="ontouchstart" in document.documentElement||"ontouchstart" in window;x.hasmstouch=window.MSPointerEvent||!1;x.hasw3ctouch=window.PointerEvent||!1;x.ismac=/^mac$/i.test(s);x.isios=x.cantouch&&/iphone|ipad|ipod/i.test(s);x.isios4=x.isios&&!("seal" in Object);x.isios7=x.isios&&"webkitHidden" in document;x.isandroid=/android/i.test(t);x.haseventlistener="addEventListener" in v;x.trstyle=!1;x.hastransform=!1;x.hastranslate3d=!1;x.transitionstyle=!1;x.hastransition=!1;x.transitionend=!1;s=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(t=0;t<s.length;t++){if("undefined"!=typeof B[s[t]]){x.trstyle=s[t];break}}x.hastransform=!!x.trstyle;x.hastransform&&(B[x.trstyle]="translate3d(1px,2px,3px)",x.hastranslate3d=/translate3d/.test(B[x.trstyle]));x.transitionstyle=!1;x.prefixstyle="";x.transitionend=!1;for(var s="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),y=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),w="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),t=0;t<s.length;t++){if(s[t] in B){x.transitionstyle=s[t];x.prefixstyle=y[t];x.transitionend=w[t];break}}x.ischrome26&&(x.prefixstyle=y[1]);x.hastransition=x.transitionstyle;a:{t=["-webkit-grab","-moz-grab","grab"];if(x.ischrome&&!x.ischrome22||x.isie){t=[]}for(s=0;s<t.length;s++){if(y=t[s],B.cursor=y,B.cursor==y){B=y;break a}}B="url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}x.cursorgrabvalue=B;x.hasmousecapture="setCapture" in v;x.hasMutationObserver=!1!==n;return o=x},b=function(y,E){function B(){var w=H.doc.css(C.trstyle);return w&&"matrix"==w.substr(0,6)?w.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function x(){var w=H.win;if("zIndex" in w){return w.zIndex()}for(;0<w.length&&9!=w[0].nodeType;){var K=w.css("zIndex");if(!isNaN(K)&&0!=K){return parseInt(K)}w=w.parent()}return !1}function D(w,K,L){K=w.css(K);w=parseFloat(K);return isNaN(w)?(w=I[K]||0,L=3==w?L?H.win.outerHeight()-H.win.innerHeight():H.win.outerWidth()-H.win.innerWidth():1,H.isie8&&w&&(w+=1),L?w:0):w}function v(w,K,L,M){H._bind(w,K,function(N){N=N?N:window.event;var O={original:N,target:N.target||N.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==N.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){N.preventDefault?N.preventDefault():N.returnValue=!1;return !1},stopImmediatePropagation:function(){N.stopImmediatePropagation?N.stopImmediatePropagation():N.cancelBubble=!0}};"mousewheel"==K?(O.deltaY=-0.025*N.wheelDelta,N.wheelDeltaX&&(O.deltaX=-0.025*N.wheelDeltaX)):O.deltaY=N.detail;return L.call(w,O)},M)}function s(w,K,N){var M,L;0==w.deltaMode?(M=-Math.floor(H.opt.mousescrollstep/54*w.deltaX),L=-Math.floor(H.opt.mousescrollstep/54*w.deltaY)):1==w.deltaMode&&(M=-Math.floor(w.deltaX*H.opt.mousescrollstep),L=-Math.floor(w.deltaY*H.opt.mousescrollstep));K&&H.opt.oneaxismousemode&&0==M&&L&&(M=L,L=0,N&&(0>M?H.getScrollLeft()>=H.page.maxw:0>=H.getScrollLeft())&&(L=M,M=0));M&&(H.scrollmom&&H.scrollmom.stop(),H.lastdeltax+=M,H.debounced("mousewheelx",function(){var O=H.lastdeltax;H.lastdeltax=0;H.rail.drag||H.doScrollLeftBy(O)},15));if(L){if(H.opt.nativeparentscrolling&&N&&!H.ispage&&!H.zoomactive){if(0>L){if(H.getScrollTop()>=H.page.maxh){return !0}}else{if(0>=H.getScrollTop()){return !0}}}H.scrollmom&&H.scrollmom.stop();H.lastdeltay+=L;H.debounced("mousewheely",function(){var O=H.lastdeltay;H.lastdeltay=0;H.rail.drag||H.doScrollBy(O)},15)}w.stopImmediatePropagation();return w.preventDefault()}var H=this;this.version="3.6.0";this.name="nicescroll";this.me=E;this.opt={doc:G("body"),win:!1};G.extend(this.opt,j);this.opt.snapbackspeed=80;if(y){for(var J in H.opt){"undefined"!=typeof y[J]&&(H.opt[J]=y[J])}}this.iddoc=(this.doc=H.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/^BODY|HTML/.test(H.opt.win?H.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==H.opt.win;this.win=H.opt.win||(this.ispage?G(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?G(window):this.win;this.body=G("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=H.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode;this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do{this.id="ascrail"+e++}while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=this.railslocked=!1;this.cursoractive=!0;this.wheelprevented=!1;this.overflowx=H.opt.overflowx;this.overflowy=H.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=c();var C=G.extend({},this.detected);this.ishwscroll=(this.canhwscroll=C.hastransform&&H.opt.hwacceleration)&&H.haswrapper;this.hasreversehr=this.isrtlmode&&!C.iswebkit;this.istouchcapable=!1;!C.cantouch||C.isios||C.isandroid||!C.iswebkit&&!C.ismozilla||(this.istouchcapable=!0,C.cantouch=!1);H.opt.enablemouselockapi||(C.hasmousecapture=!1,C.haspointerlock=!1);this.debounced=function(w,K,M){var L=H.delaylist[w];H.delaylist[w]=K;L||setTimeout(function(){var N=H.delaylist[w];H.delaylist[w]=!1;N.call(H)},M)};var f=!1;this.synched=function(w,K){H.synclist[w]=K;(function(){f||(r(function(){f=!1;for(var L in H.synclist){var M=H.synclist[L];M&&M.call(H);H.synclist[L]=!1}}),f=!0)})();return w};this.unsynched=function(w){H.synclist[w]&&(H.synclist[w]=!1)};this.css=function(w,K){for(var L in K){H.saved.css.push([w,L,w.css(L)]),w.css(L,K[L])}};this.scrollTop=function(w){return"undefined"==typeof w?H.getScrollTop():H.setScrollTop(w)};this.scrollLeft=function(w){return"undefined"==typeof w?H.getScrollLeft():H.setScrollLeft(w)};var t=function(w,L,P,O,N,M,K){this.st=w;this.ed=L;this.spd=P;this.p1=O||0;this.p2=N||1;this.p3=M||0;this.p4=K||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};t.prototype={B2:function(w){return 3*w*w*(1-w)},B3:function(w){return 3*w*(1-w)*(1-w)},B4:function(w){return(1-w)*(1-w)*(1-w)},getNow:function(){var w=1-((new Date).getTime()-this.ts)/this.spd,K=this.B2(w)+this.B3(w)+this.B4(w);return 0>w?this.ed:this.st+Math.round(this.df*K)},update:function(w,K){this.st=this.getNow();this.ed=w;this.spd=K;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};C.hastranslate3d&&C.isios&&this.doc.css("-webkit-backface-visibility","hidden");this.getScrollTop=function(w){if(!w){if(w=B()){return 16==w.length?-w[13]:-w[5]}if(H.timerscroll&&H.timerscroll.bz){return H.timerscroll.bz.getNow()}}return H.doc.translate.y};this.getScrollLeft=function(w){if(!w){if(w=B()){return 16==w.length?-w[12]:-w[4]}if(H.timerscroll&&H.timerscroll.bh){return H.timerscroll.bh.getNow()}}return H.doc.translate.x};this.notifyScrollEvent=function(w){var K=document.createEvent("UIEvents");K.initUIEvent("scroll",!1,!0,window,1);K.niceevent=!0;w.dispatchEvent(K)};var F=this.isrtlmode?1:-1;C.hastranslate3d&&H.opt.enabletranslate3d?(this.setScrollTop=function(w,K){H.doc.translate.y=w;H.doc.translate.ty=-1*w+"px";H.doc.css(C.trstyle,"translate3d("+H.doc.translate.tx+","+H.doc.translate.ty+",0px)");K||H.notifyScrollEvent(H.win[0])},this.setScrollLeft=function(w,K){H.doc.translate.x=w;H.doc.translate.tx=w*F+"px";H.doc.css(C.trstyle,"translate3d("+H.doc.translate.tx+","+H.doc.translate.ty+",0px)");K||H.notifyScrollEvent(H.win[0])}):(this.setScrollTop=function(w,K){H.doc.translate.y=w;H.doc.translate.ty=-1*w+"px";H.doc.css(C.trstyle,"translate("+H.doc.translate.tx+","+H.doc.translate.ty+")");K||H.notifyScrollEvent(H.win[0])},this.setScrollLeft=function(w,K){H.doc.translate.x=w;H.doc.translate.tx=w*F+"px";H.doc.css(C.trstyle,"translate("+H.doc.translate.tx+","+H.doc.translate.ty+")");K||H.notifyScrollEvent(H.win[0])})}else{this.getScrollTop=function(){return H.docscroll.scrollTop()},this.setScrollTop=function(w){return H.docscroll.scrollTop(w)},this.getScrollLeft=function(){return H.detected.ismozilla&&H.isrtlmode?Math.abs(H.docscroll.scrollLeft()):H.docscroll.scrollLeft()},this.setScrollLeft=function(w){return H.docscroll.scrollLeft(H.detected.ismozilla&&H.isrtlmode?-w:w)}}this.getTarget=function(w){return w?w.target?w.target:w.srcElement?w.srcElement:!1:!1};this.hasParent=function(w,K){if(!w){return !1}for(var L=w.target||w.srcElement||w||!1;L&&L.id!=K;){L=L.parentNode||!1}return !1!==L};var I={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}};this.getOffset=function(){if(H.isfixed){var w=H.win.offset(),K=H.getDocumentScrollOffset();w.top-=K.top;w.left-=K.left;return w}w=H.win.offset();if(!H.viewport){return w}K=H.viewport.offset();return{top:w.top-K.top,left:w.left-K.left}};this.updateScrollBar=function(w){if(H.ishwscroll){H.rail.css({height:H.win.innerHeight()-(H.opt.railpadding.top+H.opt.railpadding.bottom)}),H.railh&&H.railh.css({width:H.win.innerWidth()-(H.opt.railpadding.left+H.opt.railpadding.right)})}else{var K=H.getOffset(),N=K.top,M=K.left-(H.opt.railpadding.left+H.opt.railpadding.right),N=N+D(H.win,"border-top-width",!0),M=M+(H.rail.align?H.win.outerWidth()-D(H.win,"border-right-width")-H.rail.width:D(H.win,"border-left-width")),L=H.opt.railoffset;L&&(L.top&&(N+=L.top),H.rail.align&&L.left&&(M+=L.left));H.railslocked||H.rail.css({top:N,left:M,height:(w?w.h:H.win.innerHeight())-(H.opt.railpadding.top+H.opt.railpadding.bottom)});H.zoom&&H.zoom.css({top:N+1,left:1==H.rail.align?M-20:M+H.rail.width+4});if(H.railh&&!H.railslocked){N=K.top;M=K.left;if(L=H.opt.railhoffset){L.top&&(N+=L.top),L.left&&(M+=L.left)}w=H.railh.align?N+D(H.win,"border-top-width",!0)+H.win.innerHeight()-H.railh.height:N+D(H.win,"border-top-width",!0);M+=D(H.win,"border-left-width");H.railh.css({top:w-(H.opt.railpadding.top+H.opt.railpadding.bottom),left:M,width:H.railh.width})}}};this.doRailClick=function(w,K,M){var L;H.railslocked||(H.cancelEvent(w),K?(K=M?H.doScrollLeft:H.doScrollTop,L=M?(w.pageX-H.railh.offset().left-H.cursorwidth/2)*H.scrollratio.x:(w.pageY-H.rail.offset().top-H.cursorheight/2)*H.scrollratio.y,K(L)):(K=M?H.doScrollLeftBy:H.doScrollBy,L=M?H.scroll.x:H.scroll.y,w=M?w.pageX-H.railh.offset().left:w.pageY-H.rail.offset().top,M=M?H.view.w:H.view.h,K(L>=w?M:-M)))};H.hasanimationframe=r;H.hascancelanimationframe=q;H.hasanimationframe?H.hascancelanimationframe||(q=function(){H.cancelAnimationFrame=!0}):(r=function(w){return setTimeout(w,15-Math.floor(+new Date/1000)%16)},q=clearInterval);this.init=function(){H.saved.css=[];if(C.isie7mobile||C.isoperamini){return !0}C.hasmstouch&&H.css(H.ispage?G("html"):H.win,{"-ms-touch-action":"none"});H.zindex="auto";H.zindex=H.ispage||"auto"!=H.opt.zindex?H.opt.zindex:x()||"auto";!H.ispage&&"auto"!=H.zindex&&H.zindex>k&&(k=H.zindex);H.isie&&0==H.zindex&&"auto"==H.opt.zindex&&(H.zindex="auto");if(!H.ispage||!C.cantouch&&!C.isieold&&!C.isie9mobile){var U=H.docscroll;H.ispage&&(U=H.haswrapper?H.win:H.doc);C.isie9mobile||H.css(U,{"overflow-y":"hidden"});H.ispage&&C.isie7&&("BODY"==H.doc[0].nodeName?H.css(G("html"),{"overflow-y":"hidden"}):"HTML"==H.doc[0].nodeName&&H.css(G("body"),{"overflow-y":"hidden"}));!C.isios||H.ispage||H.haswrapper||H.css(G("body"),{"-webkit-overflow-scrolling":"touch"});var Q=G(document.createElement("div"));Q.css({position:"relative",top:0,"float":"right",width:H.opt.cursorwidth,height:"0px","background-color":H.opt.cursorcolor,border:H.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":H.opt.cursorborderradius,"-moz-border-radius":H.opt.cursorborderradius,"border-radius":H.opt.cursorborderradius});Q.hborder=parseFloat(Q.outerHeight()-Q.innerHeight());Q.addClass("nicescroll-cursors");H.cursor=Q;var T=G(document.createElement("div"));T.attr("id",H.id);T.addClass("nicescroll-rails nicescroll-rails-vr");var S,P,O=["left","right","top","bottom"],V;for(V in O){P=O[V],(S=H.opt.railpadding[P])?T.css("padding-"+P,S+"px"):H.opt.railpadding[P]=0}T.append(Q);T.width=Math.max(parseFloat(H.opt.cursorwidth),Q.outerWidth());T.css({width:T.width+"px",zIndex:H.zindex,background:H.opt.background,cursor:"default"});T.visibility=!0;T.scrollable=!0;T.align="left"==H.opt.railalign?0:1;H.rail=T;Q=H.rail.drag=!1;!H.opt.boxzoom||H.ispage||C.isieold||(Q=document.createElement("div"),H.bind(Q,"click",H.doZoom),H.bind(Q,"mouseenter",function(){H.zoom.css("opacity",H.opt.cursoropacitymax)}),H.bind(Q,"mouseleave",function(){H.zoom.css("opacity",H.opt.cursoropacitymin)}),H.zoom=G(Q),H.zoom.css({cursor:"pointer","z-index":H.zindex,backgroundImage:"url("+H.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),H.opt.dblclickzoom&&H.bind(H.win,"dblclick",H.doZoom),C.cantouch&&H.opt.gesturezoom&&(H.ongesturezoom=function(M){1.5<M.scale&&H.doZoomIn(M);0.8>M.scale&&H.doZoomOut(M);return H.cancelEvent(M)},H.bind(H.win,"gestureend",H.ongesturezoom)));H.railh=!1;var N;H.opt.horizrailenabled&&(H.css(U,{"overflow-x":"hidden"}),Q=G(document.createElement("div")),Q.css({position:"absolute",top:0,height:H.opt.cursorwidth,width:"0px","background-color":H.opt.cursorcolor,border:H.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":H.opt.cursorborderradius,"-moz-border-radius":H.opt.cursorborderradius,"border-radius":H.opt.cursorborderradius}),C.isieold&&Q.css({overflow:"hidden"}),Q.wborder=parseFloat(Q.outerWidth()-Q.innerWidth()),Q.addClass("nicescroll-cursors"),H.cursorh=Q,N=G(document.createElement("div")),N.attr("id",H.id+"-hr"),N.addClass("nicescroll-rails nicescroll-rails-hr"),N.height=Math.max(parseFloat(H.opt.cursorwidth),Q.outerHeight()),N.css({height:N.height+"px",zIndex:H.zindex,background:H.opt.background}),N.append(Q),N.visibility=!0,N.scrollable=!0,N.align="top"==H.opt.railvalign?0:1,H.railh=N,H.railh.drag=!1);H.ispage?(T.css({position:"fixed",top:"0px",height:"100%"}),T.align?T.css({right:"0px"}):T.css({left:"0px"}),H.body.append(T),H.railh&&(N.css({position:"fixed",left:"0px",width:"100%"}),N.align?N.css({bottom:"0px"}):N.css({top:"0px"}),H.body.append(N))):(H.ishwscroll?("static"==H.win.css("position")&&H.css(H.win,{position:"relative"}),U="HTML"==H.win[0].nodeName?H.body:H.win,G(U).scrollTop(0).scrollLeft(0),H.zoom&&(H.zoom.css({position:"absolute",top:1,right:0,"margin-right":T.width+4}),U.append(H.zoom)),T.css({position:"absolute",top:0}),T.align?T.css({right:0}):T.css({left:0}),U.append(T),N&&(N.css({position:"absolute",left:0,bottom:0}),N.align?N.css({bottom:0}):N.css({top:0}),U.append(N))):(H.isfixed="fixed"==H.win.css("position"),U=H.isfixed?"fixed":"absolute",H.isfixed||(H.viewport=H.getViewport(H.win[0])),H.viewport&&(H.body=H.viewport,0==/fixed|absolute/.test(H.viewport.css("position"))&&H.css(H.viewport,{position:"relative"})),T.css({position:U}),H.zoom&&H.zoom.css({position:U}),H.updateScrollBar(),H.body.append(T),H.zoom&&H.body.append(H.zoom),H.railh&&(N.css({position:U}),H.body.append(N))),C.isios&&H.css(H.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),C.isie&&H.opt.disableoutline&&H.win.attr("hideFocus","true"),C.iswebkit&&H.opt.disableoutline&&H.win.css({outline:"none"}));!1===H.opt.autohidemode?(H.autohidedom=!1,H.rail.css({opacity:H.opt.cursoropacitymax}),H.railh&&H.railh.css({opacity:H.opt.cursoropacitymax})):!0===H.opt.autohidemode||"leave"===H.opt.autohidemode?(H.autohidedom=G().add(H.rail),C.isie8&&(H.autohidedom=H.autohidedom.add(H.cursor)),H.railh&&(H.autohidedom=H.autohidedom.add(H.railh)),H.railh&&C.isie8&&(H.autohidedom=H.autohidedom.add(H.cursorh))):"scroll"==H.opt.autohidemode?(H.autohidedom=G().add(H.rail),H.railh&&(H.autohidedom=H.autohidedom.add(H.railh))):"cursor"==H.opt.autohidemode?(H.autohidedom=G().add(H.cursor),H.railh&&(H.autohidedom=H.autohidedom.add(H.cursorh))):"hidden"==H.opt.autohidemode&&(H.autohidedom=!1,H.hide(),H.railslocked=!1);if(C.isie9mobile){H.scrollmom=new h(H),H.onmangotouch=function(){var M=H.getScrollTop(),ab=H.getScrollLeft();if(M==H.scrollmom.lastscrolly&&ab==H.scrollmom.lastscrollx){return !0}var W=M-H.mangotouch.sy,Z=ab-H.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(Z,2)+Math.pow(W,2)))){var aa=0>W?-1:1,Y=0>Z?-1:1,X=+new Date;H.mangotouch.lazy&&clearTimeout(H.mangotouch.lazy);80<X-H.mangotouch.tm||H.mangotouch.dry!=aa||H.mangotouch.drx!=Y?(H.scrollmom.stop(),H.scrollmom.reset(ab,M),H.mangotouch.sy=M,H.mangotouch.ly=M,H.mangotouch.sx=ab,H.mangotouch.lx=ab,H.mangotouch.dry=aa,H.mangotouch.drx=Y,H.mangotouch.tm=X):(H.scrollmom.stop(),H.scrollmom.update(H.mangotouch.sx-Z,H.mangotouch.sy-W),H.mangotouch.tm=X,W=Math.max(Math.abs(H.mangotouch.ly-M),Math.abs(H.mangotouch.lx-ab)),H.mangotouch.ly=M,H.mangotouch.lx=ab,2<W&&(H.mangotouch.lazy=setTimeout(function(){H.mangotouch.lazy=!1;H.mangotouch.dry=0;H.mangotouch.drx=0;H.mangotouch.tm=0;H.scrollmom.doMomentum(30)},100)))}},T=H.getScrollTop(),N=H.getScrollLeft(),H.mangotouch={sy:T,ly:T,dry:0,sx:N,lx:N,drx:0,lazy:!1,tm:0},H.bind(H.docscroll,"scroll",H.onmangotouch)}else{if(C.cantouch||H.istouchcapable||H.opt.touchbehavior||C.hasmstouch){H.scrollmom=new h(H);H.ontouchstart=function(M){if(M.pointerType&&2!=M.pointerType&&"touch"!=M.pointerType){return !1}H.hasmoving=!1;if(!H.railslocked){var aa;if(C.hasmstouch){for(aa=M.target?M.target:!1;aa;){var X=G(aa).getNiceScroll();if(0<X.length&&X[0].me==H.me){break}if(0<X.length){return !1}if("DIV"==aa.nodeName&&aa.id==H.id){break}aa=aa.parentNode?aa.parentNode:!1}}H.cancelScroll();if((aa=H.getTarget(M))&&/INPUT/i.test(aa.nodeName)&&/range/i.test(aa.type)){return H.stopPropagation(M)}!("clientX" in M)&&"changedTouches" in M&&(M.clientX=M.changedTouches[0].clientX,M.clientY=M.changedTouches[0].clientY);H.forcescreen&&(X=M,M={original:M.original?M.original:M},M.clientX=X.screenX,M.clientY=X.screenY);H.rail.drag={x:M.clientX,y:M.clientY,sx:H.scroll.x,sy:H.scroll.y,st:H.getScrollTop(),sl:H.getScrollLeft(),pt:2,dl:!1};if(H.ispage||!H.opt.directionlockdeadzone){H.rail.drag.dl="f"}else{var X=G(window).width(),Z=G(window).height(),Y=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),W=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Z=Math.max(0,W-Z),X=Math.max(0,Y-X);H.rail.drag.ck=!H.rail.scrollable&&H.railh.scrollable?0<Z?"v":!1:H.rail.scrollable&&!H.railh.scrollable?0<X?"h":!1:!1;H.rail.drag.ck||(H.rail.drag.dl="f")}H.opt.touchbehavior&&H.isiframe&&C.isie&&(X=H.win.position(),H.rail.drag.x+=X.left,H.rail.drag.y+=X.top);H.hasmoving=!1;H.lastmouseup=!1;H.scrollmom.reset(M.clientX,M.clientY);if(!C.cantouch&&!this.istouchcapable&&!M.pointerType){if(!aa||!/INPUT|SELECT|TEXTAREA/i.test(aa.nodeName)){return !H.ispage&&C.hasmousecapture&&aa.setCapture(),H.opt.touchbehavior?(aa.onclick&&!aa._onclick&&(aa._onclick=aa.onclick,aa.onclick=function(ab){if(H.hasmoving){return !1}aa._onclick.call(this,ab)}),H.cancelEvent(M)):H.stopPropagation(M)}/SUBMIT|CANCEL|BUTTON/i.test(G(aa).attr("type"))&&(pc={tg:aa,click:!1},H.preventclick=pc)}}};H.ontouchend=function(M){if(!H.rail.drag){return !0}if(2==H.rail.drag.pt){if(M.pointerType&&2!=M.pointerType&&"touch"!=M.pointerType){return !1}H.scrollmom.doMomentum();H.rail.drag=!1;if(H.hasmoving&&(H.lastmouseup=!0,H.hideCursor(),C.hasmousecapture&&document.releaseCapture(),!C.cantouch)){return H.cancelEvent(M)}}else{if(1==H.rail.drag.pt){return H.onmouseup(M)}}};var L=H.opt.touchbehavior&&H.isiframe&&!C.hasmousecapture;H.ontouchmove=function(ad,ac){if(!H.rail.drag||ad.targetTouches&&H.opt.preventmultitouchscrolling&&1<ad.targetTouches.length||ad.pointerType&&2!=ad.pointerType&&"touch"!=ad.pointerType){return !1}if(2==H.rail.drag.pt){if(C.cantouch&&C.isios&&"undefined"==typeof ad.original){return !0}H.hasmoving=!0;H.preventclick&&!H.preventclick.click&&(H.preventclick.click=H.preventclick.tg.onclick||!1,H.preventclick.tg.onclick=H.onpreventclick);ad=G.extend({original:ad},ad);"changedTouches" in ad&&(ad.clientX=ad.changedTouches[0].clientX,ad.clientY=ad.changedTouches[0].clientY);if(H.forcescreen){var Z=ad;ad={original:ad.original?ad.original:ad};ad.clientX=Z.screenX;ad.clientY=Z.screenY}var aa,Z=aa=0;L&&!ac&&(aa=H.win.position(),Z=-aa.left,aa=-aa.top);var M=ad.clientY+aa;aa=M-H.rail.drag.y;var Y=ad.clientX+Z,ae=Y-H.rail.drag.x,X=H.rail.drag.st-aa;H.ishwscroll&&H.opt.bouncescroll?0>X?X=Math.round(X/2):X>H.page.maxh&&(X=H.page.maxh+Math.round((X-H.page.maxh)/2)):(0>X&&(M=X=0),X>H.page.maxh&&(X=H.page.maxh,M=0));var W;H.railh&&H.railh.scrollable&&(W=H.isrtlmode?ae-H.rail.drag.sl:H.rail.drag.sl-ae,H.ishwscroll&&H.opt.bouncescroll?0>W?W=Math.round(W/2):W>H.page.maxw&&(W=H.page.maxw+Math.round((W-H.page.maxw)/2)):(0>W&&(Y=W=0),W>H.page.maxw&&(W=H.page.maxw,Y=0)));Z=!1;if(H.rail.drag.dl){Z=!0,"v"==H.rail.drag.dl?W=H.rail.drag.sl:"h"==H.rail.drag.dl&&(X=H.rail.drag.st)}else{aa=Math.abs(aa);var ae=Math.abs(ae),ab=H.opt.directionlockdeadzone;if("v"==H.rail.drag.ck){if(aa>ab&&ae<=0.3*aa){return H.rail.drag=!1,!0}ae>ab&&(H.rail.drag.dl="f",G("body").scrollTop(G("body").scrollTop()))}else{if("h"==H.rail.drag.ck){if(ae>ab&&aa<=0.3*ae){return H.rail.drag=!1,!0}aa>ab&&(H.rail.drag.dl="f",G("body").scrollLeft(G("body").scrollLeft()))}}}H.synched("touchmove",function(){H.rail.drag&&2==H.rail.drag.pt&&(H.prepareTransition&&H.prepareTransition(0),H.rail.scrollable&&H.setScrollTop(X),H.scrollmom.update(Y,M),H.railh&&H.railh.scrollable?(H.setScrollLeft(W),H.showCursor(X,W)):H.showCursor(X),C.isie10&&document.selection.clear())});C.ischrome&&H.istouchcapable&&(Z=!1);if(Z){return H.cancelEvent(ad)}}else{if(1==H.rail.drag.pt){return H.onmousemove(ad)}}}}H.onmousedown=function(M,X){if(!H.rail.drag||1==H.rail.drag.pt){if(H.railslocked){return H.cancelEvent(M)}H.cancelScroll();H.rail.drag={x:M.clientX,y:M.clientY,sx:H.scroll.x,sy:H.scroll.y,pt:1,hr:!!X};var W=H.getTarget(M);!H.ispage&&C.hasmousecapture&&W.setCapture();H.isiframe&&!C.hasmousecapture&&(H.saved.csspointerevents=H.doc.css("pointer-events"),H.css(H.doc,{"pointer-events":"none"}));H.hasmoving=!1;return H.cancelEvent(M)}};H.onmouseup=function(M){if(H.rail.drag){if(1!=H.rail.drag.pt){return !0}C.hasmousecapture&&document.releaseCapture();H.isiframe&&!C.hasmousecapture&&H.doc.css("pointer-events",H.saved.csspointerevents);H.rail.drag=!1;H.hasmoving&&H.triggerScrollEnd();return H.cancelEvent(M)}};H.onmousemove=function(M){if(H.rail.drag&&1==H.rail.drag.pt){if(C.ischrome&&0==M.which){return H.onmouseup(M)}H.cursorfreezed=!0;H.hasmoving=!0;if(H.rail.drag.hr){H.scroll.x=H.rail.drag.sx+(M.clientX-H.rail.drag.x);0>H.scroll.x&&(H.scroll.x=0);var W=H.scrollvaluemaxw;H.scroll.x>W&&(H.scroll.x=W)}else{H.scroll.y=H.rail.drag.sy+(M.clientY-H.rail.drag.y),0>H.scroll.y&&(H.scroll.y=0),W=H.scrollvaluemax,H.scroll.y>W&&(H.scroll.y=W)}H.synched("mousemove",function(){H.rail.drag&&1==H.rail.drag.pt&&(H.showCursor(),H.rail.drag.hr?H.hasreversehr?H.doScrollLeft(H.scrollvaluemaxw-Math.round(H.scroll.x*H.scrollratio.x),H.opt.cursordragspeed):H.doScrollLeft(Math.round(H.scroll.x*H.scrollratio.x),H.opt.cursordragspeed):H.doScrollTop(Math.round(H.scroll.y*H.scrollratio.y),H.opt.cursordragspeed))});return H.cancelEvent(M)}};if(C.cantouch||H.opt.touchbehavior){H.onpreventclick=function(M){if(H.preventclick){return H.preventclick.tg.onclick=H.preventclick.click,H.preventclick=!1,H.cancelEvent(M)}},H.bind(H.win,"mousedown",H.ontouchstart),H.onclick=C.isios?!1:function(M){return H.lastmouseup?(H.lastmouseup=!1,H.cancelEvent(M)):!0},H.opt.grabcursorenabled&&C.cursorgrabvalue&&(H.css(H.ispage?H.doc:H.win,{cursor:C.cursorgrabvalue}),H.css(H.rail,{cursor:C.cursorgrabvalue}))}else{var K=function(M){if(H.selectiondrag){if(M){var W=H.win.outerHeight();M=M.pageY-H.selectiondrag.top;0<M&&M<W&&(M=0);M>=W&&(M-=W);H.selectiondrag.df=M}0!=H.selectiondrag.df&&(H.doScrollBy(2*-Math.floor(H.selectiondrag.df/6)),H.debounced("doselectionscroll",function(){K()},50))}};H.hasTextSelected="getSelection" in document?function(){return 0<document.getSelection().rangeCount}:"selection" in document?function(){return"None"!=document.selection.type}:function(){return !1};H.onselectionstart=function(M){H.ispage||(H.selectiondrag=H.win.offset())};H.onselectionend=function(M){H.selectiondrag=!1};H.onselectiondrag=function(M){H.selectiondrag&&H.hasTextSelected()&&H.debounced("selectionscroll",function(){K(M)},250)}}C.hasw3ctouch?(H.css(H.rail,{"touch-action":"none"}),H.css(H.cursor,{"touch-action":"none"}),H.bind(H.win,"pointerdown",H.ontouchstart),H.bind(document,"pointerup",H.ontouchend),H.bind(document,"pointermove",H.ontouchmove)):C.hasmstouch?(H.css(H.rail,{"-ms-touch-action":"none"}),H.css(H.cursor,{"-ms-touch-action":"none"}),H.bind(H.win,"MSPointerDown",H.ontouchstart),H.bind(document,"MSPointerUp",H.ontouchend),H.bind(document,"MSPointerMove",H.ontouchmove),H.bind(H.cursor,"MSGestureHold",function(M){M.preventDefault()}),H.bind(H.cursor,"contextmenu",function(M){M.preventDefault()})):this.istouchcapable&&(H.bind(H.win,"touchstart",H.ontouchstart),H.bind(document,"touchend",H.ontouchend),H.bind(document,"touchcancel",H.ontouchend),H.bind(document,"touchmove",H.ontouchmove));if(H.opt.cursordragontouch||!C.cantouch&&!H.opt.touchbehavior){H.rail.css({cursor:"default"}),H.railh&&H.railh.css({cursor:"default"}),H.jqbind(H.rail,"mouseenter",function(){if(!H.ispage&&!H.win.is(":visible")){return !1}H.canshowonmouseevent&&H.showCursor();H.rail.active=!0}),H.jqbind(H.rail,"mouseleave",function(){H.rail.active=!1;H.rail.drag||H.hideCursor()}),H.opt.sensitiverail&&(H.bind(H.rail,"click",function(M){H.doRailClick(M,!1,!1)}),H.bind(H.rail,"dblclick",function(M){H.doRailClick(M,!0,!1)}),H.bind(H.cursor,"click",function(M){H.cancelEvent(M)}),H.bind(H.cursor,"dblclick",function(M){H.cancelEvent(M)})),H.railh&&(H.jqbind(H.railh,"mouseenter",function(){if(!H.ispage&&!H.win.is(":visible")){return !1}H.canshowonmouseevent&&H.showCursor();H.rail.active=!0}),H.jqbind(H.railh,"mouseleave",function(){H.rail.active=!1;H.rail.drag||H.hideCursor()}),H.opt.sensitiverail&&(H.bind(H.railh,"click",function(M){H.doRailClick(M,!1,!0)}),H.bind(H.railh,"dblclick",function(M){H.doRailClick(M,!0,!0)}),H.bind(H.cursorh,"click",function(M){H.cancelEvent(M)}),H.bind(H.cursorh,"dblclick",function(M){H.cancelEvent(M)})))}C.cantouch||H.opt.touchbehavior?(H.bind(C.hasmousecapture?H.win:document,"mouseup",H.ontouchend),H.bind(document,"mousemove",H.ontouchmove),H.onclick&&H.bind(document,"click",H.onclick),H.opt.cursordragontouch&&(H.bind(H.cursor,"mousedown",H.onmousedown),H.bind(H.cursor,"mouseup",H.onmouseup),H.cursorh&&H.bind(H.cursorh,"mousedown",function(M){H.onmousedown(M,!0)}),H.cursorh&&H.bind(H.cursorh,"mouseup",H.onmouseup))):(H.bind(C.hasmousecapture?H.win:document,"mouseup",H.onmouseup),H.bind(document,"mousemove",H.onmousemove),H.onclick&&H.bind(document,"click",H.onclick),H.bind(H.cursor,"mousedown",H.onmousedown),H.bind(H.cursor,"mouseup",H.onmouseup),H.railh&&(H.bind(H.cursorh,"mousedown",function(M){H.onmousedown(M,!0)}),H.bind(H.cursorh,"mouseup",H.onmouseup)),!H.ispage&&H.opt.enablescrollonselection&&(H.bind(H.win[0],"mousedown",H.onselectionstart),H.bind(document,"mouseup",H.onselectionend),H.bind(H.cursor,"mouseup",H.onselectionend),H.cursorh&&H.bind(H.cursorh,"mouseup",H.onselectionend),H.bind(document,"mousemove",H.onselectiondrag)),H.zoom&&(H.jqbind(H.zoom,"mouseenter",function(){H.canshowonmouseevent&&H.showCursor();H.rail.active=!0}),H.jqbind(H.zoom,"mouseleave",function(){H.rail.active=!1;H.rail.drag||H.hideCursor()})));H.opt.enablemousewheel&&(H.isiframe||H.bind(C.isie&&H.ispage?document:H.win,"mousewheel",H.onmousewheel),H.bind(H.rail,"mousewheel",H.onmousewheel),H.railh&&H.bind(H.railh,"mousewheel",H.onmousewheelhr));H.ispage||C.cantouch||/HTML|^BODY/.test(H.win[0].nodeName)||(H.win.attr("tabindex")||H.win.attr({tabindex:g++}),H.jqbind(H.win,"focus",function(M){i=H.getTarget(M).id||!0;H.hasfocus=!0;H.canshowonmouseevent&&H.noticeCursor()}),H.jqbind(H.win,"blur",function(M){i=!1;H.hasfocus=!1}),H.jqbind(H.win,"mouseenter",function(M){u=H.getTarget(M).id||!0;H.hasmousefocus=!0;H.canshowonmouseevent&&H.noticeCursor()}),H.jqbind(H.win,"mouseleave",function(){u=!1;H.hasmousefocus=!1;H.rail.drag||H.hideCursor()}))}H.onkeypress=function(M){if(H.railslocked&&0==H.page.maxh){return !0}M=M?M:window.e;var Z=H.getTarget(M);if(Z&&/INPUT|TEXTAREA|SELECT|OPTION/.test(Z.nodeName)&&(!Z.getAttribute("type")&&!Z.type||!/submit|button|cancel/i.tp)||G(Z).attr("contenteditable")){return !0}if(H.hasfocus||H.hasmousefocus&&!i||H.ispage&&!i&&!u){Z=M.keyCode;if(H.railslocked&&27!=Z){return H.cancelEvent(M)}var W=M.ctrlKey||!1,Y=M.shiftKey||!1,X=!1;switch(Z){case 38:case 63233:H.doScrollBy(72);X=!0;break;case 40:case 63235:H.doScrollBy(-72);X=!0;break;case 37:case 63232:H.railh&&(W?H.doScrollLeft(0):H.doScrollLeftBy(72),X=!0);break;case 39:case 63234:H.railh&&(W?H.doScrollLeft(H.page.maxw):H.doScrollLeftBy(-72),X=!0);break;case 33:case 63276:H.doScrollBy(H.view.h);X=!0;break;case 34:case 63277:H.doScrollBy(-H.view.h);X=!0;break;case 36:case 63273:H.railh&&W?H.doScrollPos(0,0):H.doScrollTo(0);X=!0;break;case 35:case 63275:H.railh&&W?H.doScrollPos(H.page.maxw,H.page.maxh):H.doScrollTo(H.page.maxh);X=!0;break;case 32:H.opt.spacebarenabled&&(Y?H.doScrollBy(H.view.h):H.doScrollBy(-H.view.h),X=!0);break;case 27:H.zoomactive&&(H.doZoom(),X=!0)}if(X){return H.cancelEvent(M)}}};H.opt.enablekeyboard&&H.bind(document,C.isopera&&!C.isopera12?"keypress":"keydown",H.onkeypress);H.bind(document,"keydown",function(M){M.ctrlKey&&(H.wheelprevented=!0)});H.bind(document,"keyup",function(M){M.ctrlKey||(H.wheelprevented=!1)});H.bind(window,"blur",function(M){H.wheelprevented=!1});H.bind(window,"resize",H.lazyResize);H.bind(window,"orientationchange",H.lazyResize);H.bind(window,"load",H.lazyResize);if(C.ischrome&&!H.ispage&&!H.haswrapper){var w=H.win.attr("style"),T=parseFloat(H.win.css("width"))+1;H.win.css("width",T);H.synched("chromefix",function(){H.win.attr("style",w)})}H.onAttributeChange=function(M){H.lazyResize(H.isieold?250:30)};!1!==n&&(H.observerbody=new n(function(M){M.forEach(function(W){if("attributes"==W.type){return G("body").hasClass("modal-open")?H.hide():H.show()}});if(document.body.scrollHeight!=H.page.maxh){return H.lazyResize(30)}}),H.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]}));H.ispage||H.haswrapper||(!1!==n?(H.observer=new n(function(M){M.forEach(H.onAttributeChange)}),H.observer.observe(H.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),H.observerremover=new n(function(M){M.forEach(function(W){if(0<W.removedNodes.length){for(var X in W.removedNodes){if(H&&W.removedNodes[X]==H.win[0]){return H.remove()}}}})}),H.observerremover.observe(H.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(H.bind(H.win,C.isie&&!C.isie9?"propertychange":"DOMAttrModified",H.onAttributeChange),C.isie9&&H.win[0].attachEvent("onpropertychange",H.onAttributeChange),H.bind(H.win,"DOMNodeRemoved",function(M){M.target==H.win[0]&&H.remove()})));!H.ispage&&H.opt.boxzoom&&H.bind(window,"resize",H.resizeZoom);H.istextarea&&H.bind(H.win,"mouseup",H.lazyResize);H.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var R=function(){H.iframexd=!1;var M;try{M="contentDocument" in this?this.contentDocument:this.contentWindow.document}catch(X){H.iframexd=!0,M=!1}if(H.iframexd){return"console" in window&&console.log("NiceScroll error: policy restriced iframe"),!0}H.forcescreen=!0;H.isiframe&&(H.iframe={doc:G(M),html:H.doc.contents().find("html")[0],body:H.doc.contents().find("body")[0]},H.getContentSize=function(){return{w:Math.max(H.iframe.html.scrollWidth,H.iframe.body.scrollWidth),h:Math.max(H.iframe.html.scrollHeight,H.iframe.body.scrollHeight)}},H.docscroll=G(H.iframe.body));if(!C.isios&&H.opt.iframeautoresize&&!H.isiframe){H.win.scrollTop(0);H.doc.height("");var W=Math.max(M.getElementsByTagName("html")[0].scrollHeight,M.body.scrollHeight);H.doc.height(W)}H.lazyResize(30);C.isie7&&H.css(G(H.iframe.html),{"overflow-y":"hidden"});H.css(G(H.iframe.body),{"overflow-y":"hidden"});C.isios&&H.haswrapper&&H.css(G(M.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow" in this?H.bind(this.contentWindow,"scroll",H.onscroll):H.bind(M,"scroll",H.onscroll);H.opt.enablemousewheel&&H.bind(M,"mousewheel",H.onmousewheel);H.opt.enablekeyboard&&H.bind(M,C.isopera?"keypress":"keydown",H.onkeypress);if(C.cantouch||H.opt.touchbehavior){H.bind(M,"mousedown",H.ontouchstart),H.bind(M,"mousemove",function(Y){return H.ontouchmove(Y,!0)}),H.opt.grabcursorenabled&&C.cursorgrabvalue&&H.css(G(M.body),{cursor:C.cursorgrabvalue})}H.bind(M,"mouseup",H.ontouchend);H.zoom&&(H.opt.dblclickzoom&&H.bind(M,"dblclick",H.doZoom),H.ongesturezoom&&H.bind(M,"gestureend",H.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){R.call(H.doc[0],!1)},500);H.bind(this.doc,"load",R)}};this.showCursor=function(w,L){H.cursortimeout&&(clearTimeout(H.cursortimeout),H.cursortimeout=0);if(H.rail){H.autohidedom&&(H.autohidedom.stop().css({opacity:H.opt.cursoropacitymax}),H.cursoractive=!0);H.rail.drag&&1==H.rail.drag.pt||("undefined"!=typeof w&&!1!==w&&(H.scroll.y=Math.round(1*w/H.scrollratio.y)),"undefined"!=typeof L&&(H.scroll.x=Math.round(1*L/H.scrollratio.x)));H.cursor.css({height:H.cursorheight,top:H.scroll.y});if(H.cursorh){var K=H.hasreversehr?H.scrollvaluemaxw-H.scroll.x:H.scroll.x;!H.rail.align&&H.rail.visibility?H.cursorh.css({width:H.cursorwidth,left:K+H.rail.width}):H.cursorh.css({width:H.cursorwidth,left:K});H.cursoractive=!0}H.zoom&&H.zoom.stop().css({opacity:H.opt.cursoropacitymax})}};this.hideCursor=function(w){H.cursortimeout||!H.rail||!H.autohidedom||H.hasmousefocus&&"leave"==H.opt.autohidemode||(H.cursortimeout=setTimeout(function(){H.rail.active&&H.showonmouseevent||(H.autohidedom.stop().animate({opacity:H.opt.cursoropacitymin}),H.zoom&&H.zoom.stop().animate({opacity:H.opt.cursoropacitymin}),H.cursoractive=!1);H.cursortimeout=0},w||H.opt.hidecursordelay))};this.noticeCursor=function(w,L,K){H.showCursor(L,K);H.rail.active||H.hideCursor(w)};this.getContentSize=H.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:H.haswrapper?function(){return{w:H.doc.outerWidth()+parseInt(H.win.css("paddingLeft"))+parseInt(H.win.css("paddingRight")),h:H.doc.outerHeight()+parseInt(H.win.css("paddingTop"))+parseInt(H.win.css("paddingBottom"))}}:function(){return{w:H.docscroll[0].scrollWidth,h:H.docscroll[0].scrollHeight}};this.onResize=function(w,O){if(!H||!H.win){return !1}if(!H.haswrapper&&!H.ispage){if("none"==H.win.css("display")){return H.visibility&&H.hideRail().hideRailHr(),!1}H.hidden||H.visibility||H.showRail().showRailHr()}var N=H.page.maxh,M=H.page.maxw,L=H.view.h,K=H.view.w;H.view={w:H.ispage?H.win.width():parseInt(H.win[0].clientWidth),h:H.ispage?H.win.height():parseInt(H.win[0].clientHeight)};H.page=O?O:H.getContentSize();H.page.maxh=Math.max(0,H.page.h-H.view.h);H.page.maxw=Math.max(0,H.page.w-H.view.w);if(H.page.maxh==N&&H.page.maxw==M&&H.view.w==K&&H.view.h==L){if(H.ispage){return H}N=H.win.offset();if(H.lastposition&&(M=H.lastposition,M.top==N.top&&M.left==N.left)){return H}H.lastposition=N}0==H.page.maxh?(H.hideRail(),H.scrollvaluemax=0,H.scroll.y=0,H.scrollratio.y=0,H.cursorheight=0,H.setScrollTop(0),H.rail.scrollable=!1):(H.page.maxh-=H.opt.railpadding.top+H.opt.railpadding.bottom,H.rail.scrollable=!0);0==H.page.maxw?(H.hideRailHr(),H.scrollvaluemaxw=0,H.scroll.x=0,H.scrollratio.x=0,H.cursorwidth=0,H.setScrollLeft(0),H.railh.scrollable=!1):(H.page.maxw-=H.opt.railpadding.left+H.opt.railpadding.right,H.railh.scrollable=!0);H.railslocked=H.locked||0==H.page.maxh&&0==H.page.maxw;if(H.railslocked){return H.ispage||H.updateScrollBar(H.view),!1}H.hidden||H.visibility?H.hidden||H.railh.visibility||H.showRailHr():H.showRail().showRailHr();H.istextarea&&H.win.css("resize")&&"none"!=H.win.css("resize")&&(H.view.h-=20);H.cursorheight=Math.min(H.view.h,Math.round(H.view.h/H.page.h*H.view.h));H.cursorheight=H.opt.cursorfixedheight?H.opt.cursorfixedheight:Math.max(H.opt.cursorminheight,H.cursorheight);H.cursorwidth=Math.min(H.view.w,Math.round(H.view.w/H.page.w*H.view.w));H.cursorwidth=H.opt.cursorfixedheight?H.opt.cursorfixedheight:Math.max(H.opt.cursorminheight,H.cursorwidth);H.scrollvaluemax=H.view.h-H.cursorheight-H.cursor.hborder-(H.opt.railpadding.top+H.opt.railpadding.bottom);H.railh&&(H.railh.width=0<H.page.maxh?H.view.w-H.rail.width:H.view.w,H.scrollvaluemaxw=H.railh.width-H.cursorwidth-H.cursorh.wborder-(H.opt.railpadding.left+H.opt.railpadding.right));H.ispage||H.updateScrollBar(H.view);H.scrollratio={x:H.page.maxw/H.scrollvaluemaxw,y:H.page.maxh/H.scrollvaluemax};H.getScrollTop()>H.page.maxh?H.doScrollTop(H.page.maxh):(H.scroll.y=Math.round(H.getScrollTop()*(1/H.scrollratio.y)),H.scroll.x=Math.round(H.getScrollLeft()*(1/H.scrollratio.x)),H.cursoractive&&H.noticeCursor());H.scroll.y&&0==H.getScrollTop()&&H.doScrollTo(Math.floor(H.scroll.y*H.scrollratio.y));return H};this.resize=H.onResize;this.lazyResize=function(w){w=isNaN(w)?30:w;H.debounced("resize",H.resize,w);return H};this.jqbind=function(w,L,K){H.events.push({e:w,n:L,f:K,q:!0});G(w).bind(L,K)};this.bind=function(w,N,M,L){var K="jquery" in w?w[0]:w;"mousewheel"==N?window.addEventListener||"onwheel" in document?H._bind(K,"wheel",M,L||!1):(w="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(K,w,M,L||!1),"DOMMouseScroll"==w&&v(K,"MozMousePixelScroll",M,L||!1)):K.addEventListener?(C.cantouch&&/mouseup|mousedown|mousemove/.test(N)&&H._bind(K,"mousedown"==N?"touchstart":"mouseup"==N?"touchend":"touchmove",function(P){if(P.touches){if(2>P.touches.length){var O=P.touches.length?P.touches[0]:P;O.original=P;M.call(this,O)}}else{P.changedTouches&&(O=P.changedTouches[0],O.original=P,M.call(this,O))}},L||!1),H._bind(K,N,M,L||!1),C.cantouch&&"mouseup"==N&&H._bind(K,"touchcancel",M,L||!1)):H._bind(K,N,function(O){(O=O||window.event||!1)&&O.srcElement&&(O.target=O.srcElement);"pageY" in O||(O.pageX=O.clientX+document.documentElement.scrollLeft,O.pageY=O.clientY+document.documentElement.scrollTop);return !1===M.call(K,O)||!1===L?H.cancelEvent(O):!0})};C.haseventlistener?(this._bind=function(w,M,L,K){H.events.push({e:w,n:M,f:L,b:K,q:!1});w.addEventListener(M,L,K||!1)},this.cancelEvent=function(w){if(!w){return !1}w=w.original?w.original:w;w.preventDefault();w.stopPropagation();w.preventManipulation&&w.preventManipulation();return !1},this.stopPropagation=function(w){if(!w){return !1}w=w.original?w.original:w;w.stopPropagation();return !1},this._unbind=function(w,M,L,K){w.removeEventListener(M,L,K)}):(this._bind=function(w,M,L,K){H.events.push({e:w,n:M,f:L,b:K,q:!1});w.attachEvent?w.attachEvent("on"+M,L):w["on"+M]=L},this.cancelEvent=function(w){w=window.event||!1;if(!w){return !1}w.cancelBubble=!0;w.cancel=!0;return w.returnValue=!1},this.stopPropagation=function(w){w=window.event||!1;if(!w){return !1}w.cancelBubble=!0;return !1},this._unbind=function(w,M,L,K){w.detachEvent?w.detachEvent("on"+M,L):w["on"+M]=!1});this.unbindAll=function(){for(var w=0;w<H.events.length;w++){var K=H.events[w];K.q?K.e.unbind(K.n,K.f):H._unbind(K.e,K.n,K.f,K.b)}};this.showRail=function(){0==H.page.maxh||!H.ispage&&"none"==H.win.css("display")||(H.visibility=!0,H.rail.visibility=!0,H.rail.css("display","block"));return H};this.showRailHr=function(){if(!H.railh){return H}0==H.page.maxw||!H.ispage&&"none"==H.win.css("display")||(H.railh.visibility=!0,H.railh.css("display","block"));return H};this.hideRail=function(){H.visibility=!1;H.rail.visibility=!1;H.rail.css("display","none");return H};this.hideRailHr=function(){if(!H.railh){return H}H.railh.visibility=!1;H.railh.css("display","none");return H};this.show=function(){H.hidden=!1;H.railslocked=!1;return H.showRail().showRailHr()};this.hide=function(){H.hidden=!0;H.railslocked=!0;return H.hideRail().hideRailHr()};this.toggle=function(){return H.hidden?H.show():H.hide()};this.remove=function(){H.stop();H.cursortimeout&&clearTimeout(H.cursortimeout);H.doZoomOut();H.unbindAll();C.isie9&&H.win[0].detachEvent("onpropertychange",H.onAttributeChange);!1!==H.observer&&H.observer.disconnect();!1!==H.observerremover&&H.observerremover.disconnect();!1!==H.observerbody&&H.observerbody.disconnect();H.events=null;H.cursor&&H.cursor.remove();H.cursorh&&H.cursorh.remove();H.rail&&H.rail.remove();H.railh&&H.railh.remove();H.zoom&&H.zoom.remove();for(var w=0;w<H.saved.css.length;w++){var M=H.saved.css[w];M[0].css(M[1],"undefined"==typeof M[2]?"":M[2])}H.saved=!1;H.me.data("__nicescroll","");var L=G.nicescroll;L.each(function(N){if(this&&this.id===H.id){delete L[N];for(var O=++N;O<L.length;O++,N++){L[N]=L[O]}L.length--;L.length&&delete L[L.length]}});for(var K in H){H[K]=null,delete H[K]}H=null};this.scrollstart=function(w){this.onscrollstart=w;return H};this.scrollend=function(w){this.onscrollend=w;return H};this.scrollcancel=function(w){this.onscrollcancel=w;return H};this.zoomin=function(w){this.onzoomin=w;return H};this.zoomout=function(w){this.onzoomout=w;return H};this.isScrollable=function(w){w=w.target?w.target:w;if("OPTION"==w.nodeName){return !0}for(;w&&1==w.nodeType&&!/^BODY|HTML/.test(w.nodeName);){var K=G(w),K=K.css("overflowY")||K.css("overflowX")||K.css("overflow")||"";if(/scroll|auto/.test(K)){return w.clientHeight!=w.scrollHeight}w=w.parentNode?w.parentNode:!1}return !1};this.getViewport=function(w){for(w=w&&w.parentNode?w.parentNode:!1;w&&1==w.nodeType&&!/^BODY|HTML/.test(w.nodeName);){var L=G(w);if(/fixed|absolute/.test(L.css("position"))){return L}var K=L.css("overflowY")||L.css("overflowX")||L.css("overflow")||"";if(/scroll|auto/.test(K)&&w.clientHeight!=w.scrollHeight||0<L.getNiceScroll().length){return L}w=w.parentNode?w.parentNode:!1}return !1};this.triggerScrollEnd=function(){if(H.onscrollend){var w=H.getScrollLeft(),K=H.getScrollTop();H.onscrollend.call(H,{type:"scrollend",current:{x:w,y:K},end:{x:w,y:K}})}};this.onmousewheel=function(w){if(!H.wheelprevented){if(H.railslocked){return H.debounced("checkunlock",H.resize,250),!0}if(H.rail.drag){return H.cancelEvent(w)}"auto"==H.opt.oneaxismousemode&&0!=w.deltaX&&(H.opt.oneaxismousemode=!1);if(H.opt.oneaxismousemode&&0==w.deltaX&&!H.rail.scrollable){return H.railh&&H.railh.scrollable?H.onmousewheelhr(w):!0}var L=+new Date,K=!1;H.opt.preservenativescrolling&&H.checkarea+600<L&&(H.nativescrollingarea=H.isScrollable(w),K=!0);H.checkarea=L;if(H.nativescrollingarea){return !0}if(w=s(w,!1,K)){H.checkarea=0}return w}};this.onmousewheelhr=function(w){if(!H.wheelprevented){if(H.railslocked||!H.railh.scrollable){return !0}if(H.rail.drag){return H.cancelEvent(w)}var L=+new Date,K=!1;H.opt.preservenativescrolling&&H.checkarea+600<L&&(H.nativescrollingarea=H.isScrollable(w),K=!0);H.checkarea=L;return H.nativescrollingarea?!0:H.railslocked?H.cancelEvent(w):s(w,!0,K)}};this.stop=function(){H.cancelScroll();H.scrollmon&&H.scrollmon.stop();H.cursorfreezed=!1;H.scroll.y=Math.round(H.getScrollTop()*(1/H.scrollratio.y));H.noticeCursor();return H};this.getTransitionSpeed=function(w){var K=Math.round(10*H.opt.scrollspeed);w=Math.min(K,Math.round(w/20*H.opt.scrollspeed));return 20<w?w:0};H.opt.smoothscroll?H.ishwscroll&&C.hastransition&&H.opt.usetransition&&H.opt.smoothscroll?(this.prepareTransition=function(w,M){var L=M?20<w?w:0:H.getTransitionSpeed(w),K=L?C.prefixstyle+"transform "+L+"ms ease-out":"";H.lasttransitionstyle&&H.lasttransitionstyle==K||(H.lasttransitionstyle=K,H.doc.css(C.transitionstyle,K));return L},this.doScrollLeft=function(w,L){var K=H.scrollrunning?H.newscrolly:H.getScrollTop();H.doScrollPos(w,K,L)},this.doScrollTop=function(w,L){var K=H.scrollrunning?H.newscrollx:H.getScrollLeft();H.doScrollPos(K,w,L)},this.doScrollPos=function(w,N,M){var L=H.getScrollTop(),K=H.getScrollLeft();(0>(H.newscrolly-L)*(N-L)||0>(H.newscrollx-K)*(w-K))&&H.cancelScroll();0==H.opt.bouncescroll&&(0>N?N=0:N>H.page.maxh&&(N=H.page.maxh),0>w?w=0:w>H.page.maxw&&(w=H.page.maxw));if(H.scrollrunning&&w==H.newscrollx&&N==H.newscrolly){return !1}H.newscrolly=N;H.newscrollx=w;H.newscrollspeed=M||!1;if(H.timer){return !1}H.timer=setTimeout(function(){var R=H.getScrollTop(),Q=H.getScrollLeft(),P,O;P=w-Q;O=N-R;P=Math.round(Math.sqrt(Math.pow(P,2)+Math.pow(O,2)));P=H.newscrollspeed&&1<H.newscrollspeed?H.newscrollspeed:H.getTransitionSpeed(P);H.newscrollspeed&&1>=H.newscrollspeed&&(P*=H.newscrollspeed);H.prepareTransition(P,!0);H.timerscroll&&H.timerscroll.tm&&clearInterval(H.timerscroll.tm);0<P&&(!H.scrollrunning&&H.onscrollstart&&H.onscrollstart.call(H,{type:"scrollstart",current:{x:Q,y:R},request:{x:w,y:N},end:{x:H.newscrollx,y:H.newscrolly},speed:P}),C.transitionend?H.scrollendtrapped||(H.scrollendtrapped=!0,H.bind(H.doc,C.transitionend,H.onScrollTransitionEnd,!1)):(H.scrollendtrapped&&clearTimeout(H.scrollendtrapped),H.scrollendtrapped=setTimeout(H.onScrollTransitionEnd,P)),H.timerscroll={bz:new t(R,H.newscrolly,P,0,0,0.58,1),bh:new t(Q,H.newscrollx,P,0,0,0.58,1)},H.cursorfreezed||(H.timerscroll.tm=setInterval(function(){H.showCursor(H.getScrollTop(),H.getScrollLeft())},60)));H.synched("doScroll-set",function(){H.timer=0;H.scrollendtrapped&&(H.scrollrunning=!0);H.setScrollTop(H.newscrolly);H.setScrollLeft(H.newscrollx);if(!H.scrollendtrapped){H.onScrollTransitionEnd()}})},50)},this.cancelScroll=function(){if(!H.scrollendtrapped){return !0}var w=H.getScrollTop(),K=H.getScrollLeft();H.scrollrunning=!1;C.transitionend||clearTimeout(C.transitionend);H.scrollendtrapped=!1;H._unbind(H.doc[0],C.transitionend,H.onScrollTransitionEnd);H.prepareTransition(0);H.setScrollTop(w);H.railh&&H.setScrollLeft(K);H.timerscroll&&H.timerscroll.tm&&clearInterval(H.timerscroll.tm);H.timerscroll=!1;H.cursorfreezed=!1;H.showCursor(w,K);return H},this.onScrollTransitionEnd=function(){H.scrollendtrapped&&H._unbind(H.doc[0],C.transitionend,H.onScrollTransitionEnd);H.scrollendtrapped=!1;H.prepareTransition(0);H.timerscroll&&H.timerscroll.tm&&clearInterval(H.timerscroll.tm);H.timerscroll=!1;var w=H.getScrollTop(),K=H.getScrollLeft();H.setScrollTop(w);H.railh&&H.setScrollLeft(K);H.noticeCursor(!1,w,K);H.cursorfreezed=!1;0>w?w=0:w>H.page.maxh&&(w=H.page.maxh);0>K?K=0:K>H.page.maxw&&(K=H.page.maxw);if(w!=H.newscrolly||K!=H.newscrollx){return H.doScrollPos(K,w,H.opt.snapbackspeed)}H.onscrollend&&H.scrollrunning&&H.triggerScrollEnd();H.scrollrunning=!1}):(this.doScrollLeft=function(w,L){var K=H.scrollrunning?H.newscrolly:H.getScrollTop();H.doScrollPos(w,K,L)},this.doScrollTop=function(w,L){var K=H.scrollrunning?H.newscrollx:H.getScrollLeft();H.doScrollPos(K,w,L)},this.doScrollPos=function(S,R,Q){function P(){if(H.cancelAnimationFrame){return !0}H.scrollrunning=!0;if(w=1-w){return H.timer=r(P)||1}var T=0,W,V,U=V=H.getScrollTop();if(H.dst.ay){U=H.bzscroll?H.dst.py+H.bzscroll.getNow()*H.dst.ay:H.newscrolly;W=U-V;if(0>W&&U<H.newscrolly||0<W&&U>H.newscrolly){U=H.newscrolly}H.setScrollTop(U);U==H.newscrolly&&(T=1)}else{T=1}V=W=H.getScrollLeft();if(H.dst.ax){V=H.bzscroll?H.dst.px+H.bzscroll.getNow()*H.dst.ax:H.newscrollx;W=V-W;if(0>W&&V<H.newscrollx||0<W&&V>H.newscrollx){V=H.newscrollx}H.setScrollLeft(V);V==H.newscrollx&&(T+=1)}else{T+=1}2==T?(H.timer=0,H.cursorfreezed=!1,H.bzscroll=!1,H.scrollrunning=!1,0>U?U=0:U>H.page.maxh&&(U=H.page.maxh),0>V?V=0:V>H.page.maxw&&(V=H.page.maxw),V!=H.newscrollx||U!=H.newscrolly?H.doScrollPos(V,U):H.onscrollend&&H.triggerScrollEnd()):H.timer=r(P)||1}R="undefined"==typeof R||!1===R?H.getScrollTop(!0):R;if(H.timer&&H.newscrolly==R&&H.newscrollx==S){return !0}H.timer&&q(H.timer);H.timer=0;var O=H.getScrollTop(),N=H.getScrollLeft();(0>(H.newscrolly-O)*(R-O)||0>(H.newscrollx-N)*(S-N))&&H.cancelScroll();H.newscrolly=R;H.newscrollx=S;H.bouncescroll&&H.rail.visibility||(0>H.newscrolly?H.newscrolly=0:H.newscrolly>H.page.maxh&&(H.newscrolly=H.page.maxh));H.bouncescroll&&H.railh.visibility||(0>H.newscrollx?H.newscrollx=0:H.newscrollx>H.page.maxw&&(H.newscrollx=H.page.maxw));H.dst={};H.dst.x=S-N;H.dst.y=R-O;H.dst.px=N;H.dst.py=O;var M=Math.round(Math.sqrt(Math.pow(H.dst.x,2)+Math.pow(H.dst.y,2)));H.dst.ax=H.dst.x/M;H.dst.ay=H.dst.y/M;var L=0,K=M;0==H.dst.x?(L=O,K=R,H.dst.ay=1,H.dst.py=0):0==H.dst.y&&(L=N,K=S,H.dst.ax=1,H.dst.px=0);M=H.getTransitionSpeed(M);Q&&1>=Q&&(M*=Q);H.bzscroll=0<M?H.bzscroll?H.bzscroll.update(K,M):new t(L,K,M,0,1,0,1):!1;if(!H.timer){(O==H.page.maxh&&R>=H.page.maxh||N==H.page.maxw&&S>=H.page.maxw)&&H.checkContentSize();var w=1;H.cancelAnimationFrame=!1;H.timer=1;H.onscrollstart&&!H.scrollrunning&&H.onscrollstart.call(H,{type:"scrollstart",current:{x:N,y:O},request:{x:S,y:R},end:{x:H.newscrollx,y:H.newscrolly},speed:M});P();(O==H.page.maxh&&R>=O||N==H.page.maxw&&S>=N)&&H.checkContentSize();H.noticeCursor()}},this.cancelScroll=function(){H.timer&&q(H.timer);H.timer=0;H.bzscroll=!1;H.scrollrunning=!1;return H}):(this.doScrollLeft=function(w,L){var K=H.getScrollTop();H.doScrollPos(w,K,L)},this.doScrollTop=function(w,L){var K=H.getScrollLeft();H.doScrollPos(K,w,L)},this.doScrollPos=function(w,N,M){var L=w>H.page.maxw?H.page.maxw:w;0>L&&(L=0);var K=N>H.page.maxh?H.page.maxh:N;0>K&&(K=0);H.synched("scroll",function(){H.setScrollTop(K);H.setScrollLeft(L)})},this.cancelScroll=function(){});this.doScrollBy=function(w,M){var L=0,L=M?Math.floor((H.scroll.y-w)*H.scrollratio.y):(H.timer?H.newscrolly:H.getScrollTop(!0))-w;if(H.bouncescroll){var K=Math.round(H.view.h/2);L<-K?L=-K:L>H.page.maxh+K&&(L=H.page.maxh+K)}H.cursorfreezed=!1;K=H.getScrollTop(!0);if(0>L&&0>=K){return H.noticeCursor()}if(L>H.page.maxh&&K>=H.page.maxh){return H.checkContentSize(),H.noticeCursor()}H.doScrollTop(L)};this.doScrollLeftBy=function(w,M){var L=0,L=M?Math.floor((H.scroll.x-w)*H.scrollratio.x):(H.timer?H.newscrollx:H.getScrollLeft(!0))-w;if(H.bouncescroll){var K=Math.round(H.view.w/2);L<-K?L=-K:L>H.page.maxw+K&&(L=H.page.maxw+K)}H.cursorfreezed=!1;K=H.getScrollLeft(!0);if(0>L&&0>=K||L>H.page.maxw&&K>=H.page.maxw){return H.noticeCursor()}H.doScrollLeft(L)};this.doScrollTo=function(w,K){K&&Math.round(w*H.scrollratio.y);H.cursorfreezed=!1;H.doScrollTop(w)};this.checkContentSize=function(){var w=H.getContentSize();w.h==H.page.h&&w.w==H.page.w||H.resize(!1,w)};H.onscroll=function(w){H.rail.drag||H.cursorfreezed||H.synched("scroll",function(){H.scroll.y=Math.round(H.getScrollTop()*(1/H.scrollratio.y));H.railh&&(H.scroll.x=Math.round(H.getScrollLeft()*(1/H.scrollratio.x)));H.noticeCursor()})};H.bind(H.docscroll,"scroll",H.onscroll);this.doZoomIn=function(w){if(!H.zoomactive){H.zoomactive=!0;H.zoomrestore={style:{}};var N="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),M=H.win[0].style,L;for(L in N){var K=N[L];H.zoomrestore.style[K]="undefined"!=typeof M[K]?M[K]:""}H.zoomrestore.style.width=H.win.css("width");H.zoomrestore.style.height=H.win.css("height");H.zoomrestore.padding={w:H.win.outerWidth()-H.win.width(),h:H.win.outerHeight()-H.win.height()};C.isios4&&(H.zoomrestore.scrollTop=G(window).scrollTop(),G(window).scrollTop(0));H.win.css({position:C.isios4?"absolute":"fixed",top:0,left:0,"z-index":k+100,margin:"0px"});N=H.win.css("backgroundColor");(""==N||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(N))&&H.win.css("backgroundColor","#fff");H.rail.css({"z-index":k+101});H.zoom.css({"z-index":k+102});H.zoom.css("backgroundPosition","0px -18px");H.resizeZoom();H.onzoomin&&H.onzoomin.call(H);return H.cancelEvent(w)}};this.doZoomOut=function(w){if(H.zoomactive){return H.zoomactive=!1,H.win.css("margin",""),H.win.css(H.zoomrestore.style),C.isios4&&G(window).scrollTop(H.zoomrestore.scrollTop),H.rail.css({"z-index":H.zindex}),H.zoom.css({"z-index":H.zindex}),H.zoomrestore=!1,H.zoom.css("backgroundPosition","0px 0px"),H.onResize(),H.onzoomout&&H.onzoomout.call(H),H.cancelEvent(w)}};this.doZoom=function(w){return H.zoomactive?H.doZoomOut(w):H.doZoomIn(w)};this.resizeZoom=function(){if(H.zoomactive){var w=H.getScrollTop();H.win.css({width:G(window).width()-H.zoomrestore.padding.w+"px",height:G(window).height()-H.zoomrestore.padding.h+"px"});H.onResize();H.setScrollTop(Math.min(H.page.maxh,w))}};this.init();G.nicescroll.push(this)},h=function(s){var t=this;this.nc=s;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return +new Date};this.reset=function(w,v){t.stop();var x=t.time();t.steptime=0;t.lasttime=x;t.speedx=0;t.speedy=0;t.lastx=w;t.lasty=v;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(x,w){var B=t.time();t.steptime=B-t.lasttime;t.lasttime=B;var B=w-t.lasty,C=x-t.lastx,y=t.nc.getScrollTop(),v=t.nc.getScrollLeft(),y=y+B,v=v+C;t.snapx=0>v||v>t.nc.page.maxw;t.snapy=0>y||y>t.nc.page.maxh;t.speedx=C;t.speedy=B;t.lastx=x;t.lasty=w};this.stop=function(){t.nc.unsynched("domomentum2d");t.timer&&clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(w,v){var x=!1;0>v?(v=0,x=!0):v>t.nc.page.maxh&&(v=t.nc.page.maxh,x=!0);0>w?(w=0,x=!0):w>t.nc.page.maxw&&(w=t.nc.page.maxw,x=!0);x?t.nc.doScrollPos(w,v,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()};this.doMomentum=function(B){var y=t.time(),D=B?y+B:t.lasttime;B=t.nc.getScrollLeft();var x=t.nc.getScrollTop(),w=t.nc.page.maxh,E=t.nc.page.maxw;t.speedx=0<E?Math.min(60,t.speedx):0;t.speedy=0<w?Math.min(60,t.speedy):0;D=D&&60>=y-D;if(0>x||x>w||0>B||B>E){D=!1}B=t.speedx&&D?t.speedx:!1;if(t.speedy&&D&&t.speedy||B){var H=Math.max(16,t.steptime);50<H&&(B=H/50,t.speedx*=B,t.speedy*=B,H=50);t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var C=t.lastscrollx,v=t.lastscrolly,F=function(){var f=600<t.time()-y?0.04:0.02;t.speedx&&(C=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=C,0>C||C>E)&&(f=0.1);t.speedy&&(v=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=v,0>v||v>w)&&(f=0.1);t.demulxy=Math.min(1,t.demulxy+f);t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=C,t.nc.setScrollLeft(C));t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=v,t.nc.setScrollTop(v));t.timer||(t.nc.hideCursor(),t.doSnapy(C,v))});1>t.demulxy?t.timer=setTimeout(F,H):(t.stop(),t.nc.hideCursor(),t.doSnapy(C,v))};F()}else{t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}}},l=G.fn.scrollTop;G.cssHooks.pageYOffset={get:function(f,t,s){return(t=G.data(f,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollTop():l.call(f)},set:function(f,t){var s=G.data(f,"__nicescroll")||!1;s&&s.ishwscroll?s.setScrollTop(parseInt(t)):l.call(f,t);return this}};G.fn.scrollTop=function(f){if("undefined"==typeof f){var s=this[0]?G.data(this[0],"__nicescroll")||!1:!1;return s&&s.ishwscroll?s.getScrollTop():l.call(this)}return this.each(function(){var t=G.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(f)):l.call(G(this),f)})};var A=G.fn.scrollLeft;G.cssHooks.pageXOffset={get:function(f,t,s){return(t=G.data(f,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollLeft():A.call(f)},set:function(f,t){var s=G.data(f,"__nicescroll")||!1;s&&s.ishwscroll?s.setScrollLeft(parseInt(t)):A.call(f,t);return this}};G.fn.scrollLeft=function(f){if("undefined"==typeof f){var s=this[0]?G.data(this[0],"__nicescroll")||!1:!1;return s&&s.ishwscroll?s.getScrollLeft():A.call(this)}return this.each(function(){var t=G.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(f)):A.call(G(this),f)})};var z=function(s){var v=this;this.length=0;this.name="nicescrollarray";this.each=function(y){for(var x=0,w=0;x<v.length;x++){y.call(v[x],w++)}return v};this.push=function(w){v[v.length]=w;v.length++};this.eq=function(w){return v[w]};if(s){for(var t=0;t<s.length;t++){var f=G.data(s[t],"__nicescroll")||!1;f&&(this[this.length]=f,this.length++)}}return this};(function(v,w,t){for(var s=0;s<w.length;s++){t(v,w[s])}})(z.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(s,t){s[t]=function(){var v=arguments;return this.each(function(){this[t].apply(this,v)})}});G.fn.getNiceScroll=function(f){return"undefined"==typeof f?new z(this):this[f]&&G.data(this[f],"__nicescroll")||!1};G.extend(G.expr[":"],{nicescroll:function(f){return G.data(f,"__nicescroll")?!0:!1}});G.fn.niceScroll=function(s,v){"undefined"!=typeof v||"object"!=typeof s||"jquery" in s||(v=s,s=!1);v=G.extend({},v);var t=new z;"undefined"==typeof v&&(v={});s&&(v.doc=G(s),v.win=G(this));var f=!("doc" in v);f||"win" in v||(v.win=G(this));this.each(function(){var w=G(this).data("__nicescroll")||!1;w||(v.doc=f?G(this):v.doc,w=new b(v,G(this)),G(this).data("__nicescroll",w));t.push(w)});return 1==t.length?t[0]:t};window.NiceScroll={getjQuery:function(){return G}};G.nicescroll||(G.nicescroll=new z,G.nicescroll.options=j)});(function(F,V){var ac,Y=Array.prototype.slice,R=decodeURIComponent,ak=F.param,ai,Z,K,aj=F.bbq=F.bbq||{},T,L,ab,ag=F.event.special,ah="hashchange",U="querystring",P="fragment",H="elemUrlAttr",ae="location",aa="href",N="src",I=/^.*\?|#.*$/g,J=/^.*\#/,ad,Q={};function M(a){return typeof a==="string"}function S(a){var b=Y.call(arguments,1);return function(){return a.apply(this,b.concat(Y.call(arguments)))}}function X(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function W(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function af(h,c,j,g,i){var a,d,e,b,f;if(g!==ac){e=j.match(h?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);f=e[3]||"";if(i===2&&M(g)){d=g.replace(h?J:I,"")}else{b=Z(e[2]);g=M(g)?Z[h?P:U](g):g;d=i===2?g:i===1?F.extend({},g,b):F.extend({},b,g);d=ak(d);if(h){d=d.replace(ad,R)}}a=e[1]+(h?"#":d||!e[1]?"?":"")+d+f}else{a=c(j!==ac?j:V[ae][aa])}return a}ak[U]=S(af,0,W);ak[P]=ai=S(af,1,X);ai.noEscape=function(a){a=a||"";var b=F.map(a.split(""),encodeURIComponent);ad=new RegExp(b.join("|"),"g")};ai.noEscape(",/");F.deparam=Z=function(a,d){var b={},c={"true":!0,"false":!1,"null":null};F.each(a.replace(/\+/g," ").split("&"),function(k,f){var l=f.split("="),g=R(l[0]),m,h=b,j=0,e=g.split("]["),i=e.length-1;if(/\[/.test(e[0])&&/\]$/.test(e[i])){e[i]=e[i].replace(/\]$/,"");e=e.shift().split("[").concat(e);i=e.length-1}else{i=0}if(l.length===2){m=R(l[1]);if(d){m=m&&!isNaN(m)?+m:m==="undefined"?ac:c[m]!==ac?c[m]:m}if(i){for(;j<=i;j++){g=e[j]===""?h.length:e[j];h=h[g]=j<i?h[g]||(e[j+1]&&isNaN(e[j+1])?{}:[]):m}}else{if(F.isArray(b[g])){b[g].push(m)}else{if(b[g]!==ac){b[g]=[b[g],m]}else{b[g]=m}}}}else{if(g){b[g]=d?ac:""}}});return b};function G(a,c,b){if(c===ac||typeof c==="boolean"){b=c;c=ak[a?P:U]()}else{c=M(c)?c.replace(a?J:I,""):c}return Z(c,b)}Z[U]=S(G,0);Z[P]=K=S(G,1);F[H]||(F[H]=function(a){return F.extend(Q,a)})({a:aa,base:aa,iframe:N,img:N,input:N,form:"action",link:aa,script:N});ab=F[H];function O(a,c,b,d){if(!M(b)&&typeof b!=="object"){d=b;b=c;c=ac}return this.each(function(){var e=F(this),g=c||ab()[(this.nodeName||"").toLowerCase()]||"",f=g&&e.attr(g)||"";e.attr(g,ak[a](f,b,d))})}F.fn[U]=S(O,U);F.fn[P]=S(O,P);aj.pushState=T=function(a,d){if(M(a)&&/^#/.test(a)&&d===ac){d=2}var b=a!==ac,c=ai(V[ae][aa],b?a:{},b?d:2);V[ae][aa]=c+(/#/.test(c)?"":"#")};aj.getState=L=function(b,a){return b===ac||typeof b==="boolean"?K(b):K(a)[b]};aj.removeState=function(b){var a={};if(b!==ac){a=L();F.each(F.isArray(b)?b:arguments,function(c,d){delete a[d]})}T(a,2)};ag[ah]=F.extend(ag[ah],{add:function(c){var a;function b(d){var e=d[P]=ai();d.getState=function(g,f){return g===ac||typeof g==="boolean"?Z(e,g):Z(e,f)[g]};a.apply(this,arguments)}if(F.isFunction(c)){a=c;return b}else{a=c.handler;c.handler=b}}})})(jQuery,this);(function(p,q,x){var o,n=p.event.special,w="location",v="hashchange",m="href",t=p.browser,s=document.documentMode,r=t.msie&&(s===x||s<8),u="on"+v in q&&!r;function y(a){a=a||q[w][m];return a.replace(/^[^#]*#?(.*)$/,"$1")}p[v+"Delay"]=100;n[v]=p.extend(n[v],{setup:function(){if(u){return false}p(o.start)},teardown:function(){if(u){return false}p(o.stop)}});o=(function(){var a={},b,f,e,c;function d(){e=c=function(g){return g};if(r){f=p('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;c=function(){return y(f.document[w][m])};e=function(g,i){if(g!==i){var h=f.document;h.open().close();h[w].hash="#"+g}};e(y())}}a.start=function(){if(b){return}var g=y();e||d();(function h(){var i=y(),j=c(g);if(i!==g){e(g=i,j);p(q).trigger(v)}else{if(j!==g){q[w][m]=q[w][m].replace(/#.*/,"")+"#"+j}}b=setTimeout(h,p[v+"Delay"])})()};a.stop=function(){if(!f){b&&clearTimeout(b);b=0}};return a})()})(jQuery,this);(function(b){b.fn.ajaxSubmit=function(s){if(!this.length){a("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof s=="function"){s={success:s}}var e=b.trim(this.attr("action"));if(e){e=(e.match(/^([^#]+)/)||[])[1]}e=e||window.location.href||"";s=b.extend({url:e,type:this.attr("method")||"GET"},s||{});var u={};this.trigger("form-pre-serialize",[this,s,u]);if(u.veto){a("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(s.beforeSerialize&&s.beforeSerialize(this,s)===false){a("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var m=this.formToArray(s.semantic);if(s.data){s.extraData=s.data;for(var f in s.data){if(s.data[f] instanceof Array){for(var g in s.data[f]){m.push({name:f,value:s.data[f][g]})}}else{m.push({name:f,value:s.data[f]})}}}if(s.beforeSubmit&&s.beforeSubmit(m,this,s)===false){a("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[m,this,s,u]);if(u.veto){a("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var d=b.param(m);if(s.type.toUpperCase()=="GET"){s.url+=(s.url.indexOf("?")>=0?"&":"?")+d;s.data=null}else{s.data=d}var t=this,l=[];if(s.resetForm){l.push(function(){t.resetForm()})}if(s.clearForm){l.push(function(){t.clearForm()})}if(!s.dataType&&s.target){var p=s.success||function(){};l.push(function(j){b(s.target).html(j).each(p,arguments)})}else{if(s.success){l.push(s.success)}}s.success=function(q,k){for(var n=0,j=l.length;n<j;n++){l[n].apply(s,[q,k,t])}};var c=b("input:file",this).fieldValue();var r=false;for(var i=0;i<c.length;i++){if(c[i]){r=true}}var h=false;if(s.iframe||r||h){if(s.closeKeepAlive){b.get(s.closeKeepAlive,o)}else{o()}}else{b.ajax(s)}this.trigger("form-submit-notify",[this,s]);return this;function o(){var w=t[0];if(b(":input[name=submit]",w).length){alert('Error: Form elements must not be named "submit".');return}var q=b.extend({},b.ajaxSettings,s);var G=b.extend(true,{},b.extend(true,{},b.ajaxSettings),q);var v="jqFormIO"+(new Date().getTime());var C=b('<iframe id="'+v+'" name="'+v+'" src="about:blank" />');var E=C[0];C.css({position:"absolute",top:"-1000px",left:"-1000px"});var F={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;C.attr("src","about:blank")}};var D=q.global;if(D&&!b.active++){b.event.trigger("ajaxStart")}if(D){b.event.trigger("ajaxSend",[F,q])}if(G.beforeSend&&G.beforeSend(F,G)===false){G.global&&b.active--;return}if(F.aborted){return}var k=0;var y=0;var j=w.clk;if(j){var x=j.name;if(x&&!j.disabled){s.extraData=s.extraData||{};s.extraData[x]=j.value;if(j.type=="image"){s.extraData[name+".x"]=w.clk_x;s.extraData[name+".y"]=w.clk_y}}}setTimeout(function(){var J=t.attr("target"),H=t.attr("action");w.setAttribute("target",v);if(w.getAttribute("method")!="POST"){w.setAttribute("method","POST")}if(w.getAttribute("action")!=q.url){w.setAttribute("action",q.url)}if(!s.skipEncodingOverride){t.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(q.timeout){setTimeout(function(){y=true;z()},q.timeout)}var I=[];try{if(s.extraData){for(var K in s.extraData){I.push(b('<input type="hidden" name="'+K+'" value="'+s.extraData[K]+'" />').appendTo(w)[0])}}C.appendTo("body");E.attachEvent?E.attachEvent("onload",z):E.addEventListener("load",z,false);w.submit()}finally{w.setAttribute("action",H);J?w.setAttribute("target",J):t.removeAttr("target");b(I).remove()}},10);var A=0;function z(){if(k++){return}E.detachEvent?E.detachEvent("onload",z):E.removeEventListener("load",z,false);var H=true;try{if(y){throw"timeout"}var I,K;K=E.contentWindow?E.contentWindow.document:E.contentDocument?E.contentDocument:E.document;if((K.body==null||K.body.innerHTML=="")&&!A){A=1;k--;setTimeout(z,100);return}F.responseText=K.body?K.body.innerHTML:null;F.responseXML=K.XMLDocument?K.XMLDocument:K;F.getResponseHeader=function(M){var L={"content-type":q.dataType};return L[M]};if(q.dataType=="json"||q.dataType=="script"){var n=K.getElementsByTagName("textarea")[0];F.responseText=n?n.value:F.responseText}else{if(q.dataType=="xml"&&!F.responseXML&&F.responseText!=null){F.responseXML=B(F.responseText)}}I=b.httpData(F,q.dataType)}catch(J){H=false;b.handleError(q,F,"error",J)}if(H){q.success(I,"success");if(D){b.event.trigger("ajaxSuccess",[F,q])}}if(D){b.event.trigger("ajaxComplete",[F,q])}if(D&&!--b.active){b.event.trigger("ajaxStop")}if(q.complete){q.complete(F,H?"success":"error")}setTimeout(function(){C.remove();F.responseXML=null},100)}function B(n,H){if(window.ActiveXObject){H=new ActiveXObject("Microsoft.XMLDOM");H.async="false";H.loadXML(n)}else{H=(new DOMParser()).parseFromString(n,"text/xml")}return(H&&H.documentElement&&H.documentElement.tagName!="parsererror")?H:null}}};b.fn.ajaxForm=function(c){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){b(this).ajaxSubmit(c);return false}).each(function(){b(":submit,input:image",this).bind("click.form-plugin",function(f){var d=this.form;d.clk=this;if(this.type=="image"){if(f.offsetX!=undefined){d.clk_x=f.offsetX;d.clk_y=f.offsetY}else{if(typeof b.fn.offset=="function"){var g=b(this).offset();d.clk_x=f.pageX-g.left;d.clk_y=f.pageY-g.top}else{d.clk_x=f.pageX-this.offsetLeft;d.clk_y=f.pageY-this.offsetTop}}}setTimeout(function(){d.clk=d.clk_x=d.clk_y=null},10)})})};b.fn.ajaxFormUnbind=function(){this.unbind("submit.form-plugin");return this.each(function(){b(":submit,input:image",this).unbind("click.form-plugin")})};b.fn.formToArray=function(q){var p=[];if(this.length==0){return p}var d=this[0];var h=q?d.getElementsByTagName("*"):d.elements;if(!h){return p}for(var k=0,m=h.length;k<m;k++){var e=h[k];var f=e.name;if(!f){continue}if(q&&d.clk&&e.type=="image"){if(!e.disabled&&d.clk==e){p.push({name:f,value:b(e).val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}continue}var r=b.fieldValue(e,true);if(r&&r.constructor==Array){for(var g=0,c=r.length;g<c;g++){p.push({name:f,value:r[g]})}}else{if(r!==null&&typeof r!="undefined"){p.push({name:f,value:r})}}}if(!q&&d.clk){var l=b(d.clk),o=l[0],f=o.name;if(f&&!o.disabled&&o.type=="image"){p.push({name:f,value:l.val()});p.push({name:f+".x",value:d.clk_x},{name:f+".y",value:d.clk_y})}}return p};b.fn.formSerialize=function(c){return b.param(this.formToArray(c))};b.fn.fieldSerialize=function(d){var c=[];this.each(function(){var h=this.name;if(!h){return}var f=b.fieldValue(this,d);if(f&&f.constructor==Array){for(var g=0,e=f.length;g<e;g++){c.push({name:h,value:f[g]})}}else{if(f!==null&&typeof f!="undefined"){c.push({name:this.name,value:f})}}});return b.param(c)};b.fn.fieldValue=function(h){for(var g=[],e=0,c=this.length;e<c;e++){var f=this[e];var d=b.fieldValue(f,h);if(d===null||typeof d=="undefined"||(d.constructor==Array&&!d.length)){continue}d.constructor==Array?b.merge(g,d):g.push(d)}return g};b.fieldValue=function(c,j){var e=c.name,p=c.type,q=c.tagName.toLowerCase();if(typeof j=="undefined"){j=true}if(j&&(!e||c.disabled||p=="reset"||p=="button"||(p=="checkbox"||p=="radio")&&!c.checked||(p=="submit"||p=="image")&&c.form&&c.form.clk!=c||q=="select"&&c.selectedIndex==-1)){return null}if(q=="select"){var k=c.selectedIndex;if(k<0){return null}var m=[],d=c.options;var g=(p=="select-one");var l=(g?k+1:d.length);for(var f=(g?k:0);f<l;f++){var h=d[f];if(h.selected){var o=h.value;if(!o){o=(h.attributes&&h.attributes.value&&!(h.attributes.value.specified))?h.text:h.value}if(g){return o}m.push(o)}}return m}return c.value};b.fn.clearForm=function(){return this.each(function(){b("input,select,textarea",this).clearFields()})};b.fn.clearFields=b.fn.clearInputs=function(){return this.each(function(){var d=this.type,c=this.tagName.toLowerCase();if(d=="text"||d=="password"||c=="textarea"){this.value=""}else{if(d=="checkbox"||d=="radio"){this.checked=false}else{if(c=="select"){this.selectedIndex=-1}}}})};b.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};b.fn.enable=function(c){if(c==undefined){c=true}return this.each(function(){this.disabled=!c})};b.fn.selected=function(c){if(c==undefined){c=true}return this.each(function(){var d=this.type;if(d=="checkbox"||d=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var e=b(this).parent("select");if(c&&e[0]&&e[0].type=="select-one"){e.find("option").selected(false)}this.selected=c}}})};function a(){if(b.fn.ajaxSubmit.debug&&window.console&&window.console.log){window.console.log("[jquery.form] "+Array.prototype.join.call(arguments,""))}}})(jQuery);/*!
 * jQuery UI 1.8.6
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(d,b){function a(c){return !d(c).parents().andSelf().filter(function(){return d.curCSS(this,"visibility")==="hidden"||d.expr.filters.hidden(this)}).length}d.ui=d.ui||{};if(!d.ui.version){d.extend(d.ui,{version:"1.8.6",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});d.fn.extend({_focus:d.fn.focus,focus:function(e,c){return typeof e==="number"?this.each(function(){var f=this;setTimeout(function(){d(f).focus();c&&c.call(f)},e)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=d.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.curCSS(this,"position",1))&&/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?d(document):c},zIndex:function(e){if(e!==b){return this.css("zIndex",e)}if(this.length){e=d(this[0]);for(var c;e.length&&e[0]!==document;){c=e.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){c=parseInt(e.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}e=e.parent()}}return 0},disableSelection:function(){return this.bind((d.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});d.each(["Width","Height"],function(f,c){function l(n,i,h,e){d.each(k,function(){i-=parseFloat(d.curCSS(n,"padding"+this,true))||0;if(h){i-=parseFloat(d.curCSS(n,"border"+this+"Width",true))||0}if(e){i-=parseFloat(d.curCSS(n,"margin"+this,true))||0}});return i}var k=c==="Width"?["Left","Right"]:["Top","Bottom"],j=c.toLowerCase(),g={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+c]=function(e){if(e===b){return g["inner"+c].call(this)}return this.each(function(){d(this).css(j,l(this,e)+"px")})};d.fn["outer"+c]=function(h,e){if(typeof h!=="number"){return g["outer"+c].call(this,h)}return this.each(function(){d(this).css(j,l(this,h,true,e)+"px")})}});d.extend(d.expr[":"],{data:function(e,c,f){return !!d.data(e,f[3])},focusable:function(e){var c=e.nodeName.toLowerCase(),f=d.attr(e,"tabindex");if("area"===c){c=e.parentNode;f=c.name;if(!e.href||!f||c.nodeName.toLowerCase()!=="map"){return false}e=d("img[usemap=#"+f+"]")[0];return !!e&&a(e)}return(/input|select|textarea|button|object/.test(c)?!e.disabled:"a"==c?e.href||!isNaN(f):!isNaN(f))&&a(e)},tabbable:function(e){var c=d.attr(e,"tabindex");return(isNaN(c)||c>=0)&&d(e).is(":focusable")}});d(function(){var e=document.body,c=e.appendChild(c=document.createElement("div"));d.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});d.support.minHeight=c.offsetHeight===100;d.support.selectstart="onselectstart" in c;e.removeChild(c).style.display="none"});d.extend(d.ui,{plugin:{add:function(f,c,h){f=d.ui[f].prototype;for(var g in h){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([c,h[g]])}},call:function(f,c,h){if((c=f.plugins[c])&&f.element[0].parentNode){for(var g=0;g<c.length;g++){f.options[c[g][0]]&&c[g][1].apply(f.element,h)}}}},contains:function(e,c){return document.compareDocumentPosition?e.compareDocumentPosition(c)&16:e!==c&&e.contains(c)},hasScroll:function(e,c){if(d(e).css("overflow")==="hidden"){return false}c=c&&c==="left"?"scrollLeft":"scrollTop";var f=false;if(e[c]>0){return true}e[c]=1;f=e[c]>0;e[c]=0;return f},isOverAxis:function(e,c,f){return e>c&&e<c+f},isOver:function(f,c,l,k,j,g){return d.ui.isOverAxis(f,l,j)&&d.ui.isOverAxis(c,k,g)}})}})(jQuery);
/*!
 * jQuery UI Widget 1.8.6
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(a,e){if(a.cleanData){var d=a.cleanData;a.cleanData=function(b){for(var g=0,f;(f=b[g])!=null;g++){a(f).triggerHandler("remove")}d(b)}}else{var c=a.fn.remove;a.fn.remove=function(b,f){return this.each(function(){if(!f){if(!b||a.filter(b,[this]).length){a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")})}}return c.call(a(this),b,f)})}}a.widget=function(b,j,i){var h=b.split(".")[0],g;b=b.split(".")[1];g=h+"-"+b;if(!i){i=j;j=a.Widget}a.expr[":"][g]=function(f){return !!a.data(f,b)};a[h]=a[h]||{};a[h][b]=function(f,k){arguments.length&&this._createWidget(f,k)};j=new j;j.options=a.extend(true,{},j.options);a[h][b].prototype=a.extend(true,j,{namespace:h,widgetName:b,widgetEventPrefix:a[h][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},i);a.widget.bridge(b,a[h][b])};a.widget.bridge=function(b,f){a.fn[b]=function(k){var j=typeof k==="string",i=Array.prototype.slice.call(arguments,1),g=this;k=!j&&i.length?a.extend.apply(null,[true,k].concat(i)):k;if(j&&k.charAt(0)==="_"){return g}j?this.each(function(){var l=a.data(this,b),h=l&&a.isFunction(l[k])?l[k].apply(l,i):l;if(h!==l&&h!==e){g=h;return false}}):this.each(function(){var h=a.data(this,b);h?h.option(k||{})._init():a.data(this,b,new f(k,this))});return g}};a.Widget=function(b,f){arguments.length&&this._createWidget(b,f)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,g){a.data(g,this.widgetName,this);this.element=a(g);this.options=a.extend(true,{},this.options,this._getCreateOptions(),b);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,g){var f=b;if(arguments.length===0){return a.extend({},this.options)}if(typeof b==="string"){if(g===e){return this.options[b]}f={};f[b]=g}this._setOptions(f);return this},_setOptions:function(b){var f=this;a.each(b,function(h,g){f._setOption(h,g)});return this},_setOption:function(b,f){this.options[b]=f;if(b==="disabled"){this.widget()[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",f)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,j,i){var h=this.options[b];j=a.Event(j);j.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();i=i||{};if(j.originalEvent){b=a.event.props.length;for(var g;b;){g=a.event.props[--b];j[g]=j.originalEvent[g]}}this.element.trigger(j,i);return !(a.isFunction(h)&&h.call(this.element[0],j,i)===false||j.isDefaultPrevented())}}})(jQuery);
/*!
 * jQuery UI Mouse 1.8.6
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(b._preventClickEvent){b._preventClickEvent=false;c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(d){d.originalEvent=d.originalEvent||{};if(!d.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var c=this,h=d.which==1,g=typeof this.options.cancel=="string"?a(d.target).parents().add(d.target).filter(this.options.cancel).length:false;if(!h||g||!this._mouseCapture(d)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=this._mouseStart(d)!==false;if(!this._mouseStarted){d.preventDefault();return true}}this._mouseMoveDelegate=function(b){return c._mouseMove(b)};this._mouseUpDelegate=function(b){return c._mouseUp(b)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);d.preventDefault();return d.originalEvent.mouseHandled=true}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button){return this._mouseUp(b)}if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b)}return !this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=b.target==this._mouseDownEvent.target;this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))){this.element[0].style.position="relative"}this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(d){var c=this.options;if(this.helper||c.disabled||a(d.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(d);if(!this.handle){return false}return true},_mouseStart:function(d){var c=this.options;this.helper=this._createHelper(d);this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,d);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(d,true);return true},_mouseDrag:function(d,c){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(this._trigger("drag",d,c)===false){this._mouseUp({});return false}this.position=c.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}a.ui.ddmanager&&a.ui.ddmanager.drag(this,d);return false},_mouseStop:function(e){var d=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){d=a.ui.ddmanager.drop(this,e)}if(this.dropped){d=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode){return false}if(this.options.revert=="invalid"&&!d||this.options.revert=="valid"&&d||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",e)!==false&&f._clear()})}else{this._trigger("stop",e)!==false&&this._clear()}return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(d){var c=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==d.target){c=true}});return c},_createHelper:function(d){var c=this.options;d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[d])):c.helper=="clone"?this.element.clone():this.element;d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo);d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute");return d},_adjustOffsetFromHelper:function(b){if(typeof b=="string"){b=b.split(" ")}if(a.isArray(b)){b={left:+b[0],top:+b[1]||0}}if("left" in b){this.offset.click.left=b.left+this.margins.left}if("right" in b){this.offset.click.left=this.helperProportions.width-b.right+this.margins.left}if("top" in b){this.offset.click.top=b.top+this.margins.top}if("bottom" in b){this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e=this.options;if(e.containment=="parent"){e.containment=this.helper[0].parentNode}if(e.containment=="document"||e.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(e.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(e.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(e.containment)&&e.containment.constructor!=Array){var d=a(e.containment)[0];if(d){e=a(e.containment).offset();var f=a(d).css("overflow")!="hidden";this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else{if(e.containment.constructor==Array){this.containment=e.containment}}},_convertPositionTo:function(e,d){if(!d){d=this.position}e=e=="absolute"?1:-1;var h=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(h[0].tagName);return{top:d.top+this.offset.relative.top*e+this.offset.parent.top*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:h.scrollTop())*e),left:d.left+this.offset.relative.left*e+this.offset.parent.left*e-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:h.scrollLeft())*e)}},_generatePosition:function(h){var d=this.options,l=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=/(html|body)/i.test(l[0].tagName),k=h.pageX,i=h.pageY;if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){k=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){i=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){k=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){i=this.containment[3]+this.offset.click.top}}if(d.grid){i=this.originalPageY+Math.round((i-this.originalPageY)/d.grid[1])*d.grid[1];i=this.containment?!(i-this.offset.click.top<this.containment[1]||i-this.offset.click.top>this.containment[3])?i:!(i-this.offset.click.top<this.containment[1])?i-d.grid[1]:i+d.grid[1]:i;k=this.originalPageX+Math.round((k-this.originalPageX)/d.grid[0])*d.grid[0];k=this.containment?!(k-this.offset.click.left<this.containment[0]||k-this.offset.click.left>this.containment[2])?k:!(k-this.offset.click.left<this.containment[0])?k-d.grid[0]:k+d.grid[0]:k}}return{top:i-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():j?0:l.scrollTop()),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:l.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(e,d,f){f=f||this._uiHash();a.ui.plugin.call(this,e,[d,f]);if(e=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,e,d,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.6"});a.ui.plugin.add("draggable","connectToSortable",{start:function(g,d){var j=a(this).data("draggable"),h=j.options,i=a.extend({},d,{item:j.element});j.sortables=[];a(h.connectToSortable).each(function(){var b=a.data(this,"sortable");if(b&&!b.options.disabled){j.sortables.push({instance:b,shouldRevert:b.options.revert});b._refreshItems();b._trigger("activate",g,i)}})},stop:function(e,d){var h=a(this).data("draggable"),g=a.extend({},d,{item:h.element});a.each(h.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;h.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(e);this.instance.options.helper=this.instance.options._helper;h.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",e,g)}})},drag:function(e,d){var h=a(this).data("draggable"),g=this;a.each(h.sortables,function(){this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(g).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return d.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=h.offset.click.top;this.instance.offset.click.left=h.offset.click.left;this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top;h._trigger("toSortable",e);h.dropped=this.instance.element;h.currentItem=h.element;this.instance.fromOutside=h}this.instance.currentItem&&this.instance._mouseDrag(e)}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();h._trigger("fromSortable",e);h.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var d=a("body"),c=a(this).data("draggable").options;if(d.css("cursor")){c._cursor=d.css("cursor")}d.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=a(this).data("draggable").options;a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(d,c){d=a(c.helper);c=a(this).data("draggable").options;if(d.css("opacity")){c._opacity=d.css("opacity")}d.css("opacity",c.opacity)},stop:function(d,c){d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){b.overflowOffset=b.scrollParent.offset()}},drag:function(e){var d=a(this).data("draggable"),h=d.options,g=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!h.axis||h.axis!="x"){if(d.overflowOffset.top+d.scrollParent[0].offsetHeight-e.pageY<h.scrollSensitivity){d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop+h.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<h.scrollSensitivity){d.scrollParent[0].scrollTop=g=d.scrollParent[0].scrollTop-h.scrollSpeed}}}if(!h.axis||h.axis!="y"){if(d.overflowOffset.left+d.scrollParent[0].offsetWidth-e.pageX<h.scrollSensitivity){d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<h.scrollSensitivity){d.scrollParent[0].scrollLeft=g=d.scrollParent[0].scrollLeft-h.scrollSpeed}}}}else{if(!h.axis||h.axis!="x"){if(e.pageY-a(document).scrollTop()<h.scrollSensitivity){g=a(document).scrollTop(a(document).scrollTop()-h.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<h.scrollSensitivity){g=a(document).scrollTop(a(document).scrollTop()+h.scrollSpeed)}}}if(!h.axis||h.axis!="y"){if(e.pageX-a(document).scrollLeft()<h.scrollSensitivity){g=a(document).scrollLeft(a(document).scrollLeft()-h.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<h.scrollSensitivity){g=a(document).scrollLeft(a(document).scrollLeft()+h.scrollSpeed)}}}}g!==false&&a.ui.ddmanager&&!h.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,e)}});a.ui.plugin.add("draggable","snap",{start:function(){var d=a(this).data("draggable"),c=d.options;d.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var e=a(this),b=e.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:b.top,left:b.left})})},drag:function(L,K){for(var J=a(this).data("draggable"),H=J.options,I=H.snapTolerance,G=K.offset.left,z=G+J.helperProportions.width,A=K.offset.top,y=A+J.helperProportions.height,F=J.snapElements.length-1;F>=0;F--){var E=J.snapElements[F].left,C=E+J.snapElements[F].width,D=J.snapElements[F].top,B=D+J.snapElements[F].height;if(E-I<G&&G<C+I&&D-I<A&&A<B+I||E-I<G&&G<C+I&&D-I<y&&y<B+I||E-I<z&&z<C+I&&D-I<A&&A<B+I||E-I<z&&z<C+I&&D-I<y&&y<B+I){if(H.snapMode!="inner"){var x=Math.abs(D-y)<=I,w=Math.abs(B-A)<=I,v=Math.abs(E-z)<=I,u=Math.abs(C-G)<=I;if(x){K.position.top=J._convertPositionTo("relative",{top:D-J.helperProportions.height,left:0}).top-J.margins.top}if(w){K.position.top=J._convertPositionTo("relative",{top:B,left:0}).top-J.margins.top}if(v){K.position.left=J._convertPositionTo("relative",{top:0,left:E-J.helperProportions.width}).left-J.margins.left}if(u){K.position.left=J._convertPositionTo("relative",{top:0,left:C}).left-J.margins.left}}var d=x||w||v||u;if(H.snapMode!="outer"){x=Math.abs(D-A)<=I;w=Math.abs(B-y)<=I;v=Math.abs(E-G)<=I;u=Math.abs(C-z)<=I;if(x){K.position.top=J._convertPositionTo("relative",{top:D,left:0}).top-J.margins.top}if(w){K.position.top=J._convertPositionTo("relative",{top:B-J.helperProportions.height,left:0}).top-J.margins.top}if(v){K.position.left=J._convertPositionTo("relative",{top:0,left:E}).left-J.margins.left}if(u){K.position.left=J._convertPositionTo("relative",{top:0,left:C-J.helperProportions.width}).left-J.margins.left}}if(!J.snapElements[F].snapping&&(x||w||v||u||d)){J.options.snap.snap&&J.options.snap.snap.call(J.element,L,a.extend(J._uiHash(),{snapItem:J.snapElements[F].item}))}J.snapElements[F].snapping=x||w||v||u||d}else{J.snapElements[F].snapping&&J.options.snap.release&&J.options.snap.release.call(J.element,L,a.extend(J._uiHash(),{snapItem:J.snapElements[F].item}));J.snapElements[F].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var d=a(this).data("draggable").options;d=a.makeArray(a(d.stack)).sort(function(e,b){return(parseInt(a(e).css("zIndex"),10)||0)-(parseInt(a(b).css("zIndex"),10)||0)});if(d.length){var c=parseInt(d[0].style.zIndex)||0;a(d).each(function(b){this.style.zIndex=c+b});this[0].style.zIndex=c+d.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(d,c){d=a(c.helper);c=a(this).data("draggable").options;if(d.css("zIndex")){c._zIndex=d.css("zIndex")}d.css("zIndex",c.zIndex)},stop:function(d,c){d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);(function(d,G){function K(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}function E(a,b){d.extend(a,b);for(var c in b){if(b[c]==null||b[c]==G){a[c]=b[c]}}return a}d.extend(d.ui,{datepicker:{version:"1.8.6"}});var y=(new Date).getTime();d.extend(K.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){E(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input"){this._connectDatepicker(a,i)}else{f&&this._inlineDatepicker(a,i)}},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both"){a.focus(this._showDatepicker)}if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++){if(f[g].length>h){h=f[g].length;i=g}}return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b)}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}E(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(e=="div"||e=="span"){b.removeClass(this.markerClassName).empty()}}}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().removeClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().addClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return true}}return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null}var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true);E(e.settings,f);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing){switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass,b.dpDiv).add(d("td."+d.datepicker._currentClass,b.dpDiv));c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey){d.datepicker._clearDate(a.target)}c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey){d.datepicker._gotoToday(a.target)}c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?+1:-1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M")}break;case 38:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,-7,"D")}c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?-1:+1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M")}break;case 40:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,+7,"D")}c=a.ctrlKey||a.metaKey;break;default:c=false}}else{if(a.keyCode==36&&a.ctrlKey){d.datepicker._showDatepicker(this)}else{c=false}}if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==G?a.keyCode:a.charCode);return a.ctrlKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal){try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input"){a=d("input",a.parentNode)[0]}if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");E(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog){a.value=""}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return !e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=d.datepicker._getBorders(b.dpDiv);b.dpDiv.find("iframe.ui-datepicker-cover").css({left:-i[0],top:-i[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f){h()}b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a)).find("iframe.ui-datepicker-cover").css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);var e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input.focus()},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),k=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>k&&k>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1);){a=a[b?"previousSibling":"nextSibling"]}a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))){if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose")){a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c){c.apply(a.input?a.input[0]:null,[b,a])}else{a.input&&a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}for(var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,k=c=-1,l=-1,u=-1,j=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p},m=function(p){o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p){throw"Missing number at position "+s}s+=p[0].length;return parseInt(p[0],10)},n=function(p,w,H){p=o(p)?H:w;for(w=0;w<p.length;w++){if(b.substr(s,p[w].length).toLowerCase()==p[w].toLowerCase()){s+=p[w].length;return w+1}}throw"Unknown name at position "+s},r=function(){if(b.charAt(s)!=a.charAt(z)){throw"Unexpected literal at position "+s}s++},s=0,z=0;z<a.length;z++){if(j){if(a.charAt(z)=="'"&&!o("'")){j=false}else{r()}}else{switch(a.charAt(z)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":k=m("m");break;case"M":k=n("M",i,g);break;case"y":c=m("y");break;case"@":var v=new Date(m("@"));c=v.getFullYear();k=v.getMonth()+1;l=v.getDate();break;case"!":v=new Date((m("!")-this._ticksTo1970)/10000);c=v.getFullYear();k=v.getMonth()+1;l=v.getDate();break;case"'":if(o("'")){r()}else{j=true}break;default:r()}}}if(c==-1){c=(new Date).getFullYear()}else{if(c<100){c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100)}}if(u>-1){k=1;l=u;do{e=this._getDaysInMonth(c,k-1);if(l<=e){break}k++;l-=e}while(1)}v=this._daylightSavingAdjust(new Date(c,k-1,l));if(v.getFullYear()!=c||v.getMonth()+1!=k||v.getDate()!=l){throw"Invalid date"}return v},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=j+1<a.length&&a.charAt(j+1)==o)&&j++;return o},g=function(o,m,n){m=""+m;if(i(o)){for(;m.length<n;){m="0"+m}}return m},k=function(o,m,n,r){return i(o)?r[m]:n[m]},l="",u=false;if(b){for(var j=0;j<a.length;j++){if(u){if(a.charAt(j)=="'"&&!i("'")){u=false}else{l+=a.charAt(j)}}else{switch(a.charAt(j)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000,3);break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*10000+this._ticksTo1970;break;case"'":if(i("'")){l+="'"}else{u=true}break;default:l+=a.charAt(j)}}}}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++){if(c){if(a.charAt(f)=="'"&&!e("'")){c=false}else{b+=a.charAt(f)}}else{switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":if(e("'")){b+="'"}else{c=true}break;default:b+=a.charAt(f)}}}return b},_get:function(a,b){return a.settings[b]!==G?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,k=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=u.exec(h);j;){switch(j[2]||"d"){case"d":case"D":g+=parseInt(j[1],10);break;case"w":case"W":g+=parseInt(j[1],10)*7;break;case"m":case"M":l+=parseInt(j[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(k,l));break;case"y":case"Y":k+=parseInt(j[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(k,l));break}j=u.exec(h)}return new Date(k,l,g)};if(b=(b=b==null?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):b)&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c){this._notifyChange(a)}this._adjustInstDate(a);if(a.input){a.input.val(e?"":this._formatDate(a))}},_getDate:function(a){return !a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),k=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),j=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=j&&n<j?j:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-k,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+k+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,g+k,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+k+", 'M');\" title=\""+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>";k=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&a.currentDay?u:b;k=!h?k:this.formatDate(k,r,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+a.id+"');\">"+k+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;k=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=this._get(a,"monthNames"),v=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),w=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var L=this._getDefaultDate(a),I="",C=0;C<i[0];C++){for(var M="",D=0;D<i[1];D++){var N=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+='<div class="ui-datepicker-group';if(i[1]>1){switch(D){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break}}x+='">'}x+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&C==0?c?f:n:"")+(/all|right/.test(t)&&C==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,j,o,C>0||D>0,z,v)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var A=k?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=(t+h)%7;A+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+r[q]+'">'+s[q]+"</span></th>"}x+=A+"</tr></thead><tbody>";A=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,A)}t=(this._getFirstDayOfMonth(m,g)-h+7)%7;A=l?6:Math.ceil((t+A)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var O=0;O<A;O++){x+="<tr>";var P=!k?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var F=p?p.apply(a.input?a.input[0]:null,[q]):[true,""],B=q.getMonth()!=g,J=B&&!H||!F[0]||j&&q<j||o&&q>o;P+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(q.getTime()==N.getTime()&&g==a.selectedMonth&&a._keyEvent||L.getTime()==q.getTime()&&L.getTime()==N.getTime()?" "+this._dayOverClass:"")+(J?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!w?"":" "+F[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!B||w)&&F[2]?' title="'+F[2]+'"':"")+(J?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+', this);return false;"')+">"+(B&&!w?"&#xa0;":J?'<span class="ui-state-default">'+q.getDate()+"</span>":'<a class="ui-state-default'+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==u.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+'" href="#">'+q.getDate()+"</a>")+"</td>";q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q)}x+=P+"</tr>"}g++;if(g>11){g=0;m++}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&D==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");M+=x}I+=M}I+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return I},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var k=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),j='<div class="ui-datepicker-title">',o="";if(h||!k){o+='<span class="ui-datepicker-month">'+i[b]+"</span>"}else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++){if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth())){o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>"}}o+="</select>"}u||(j+=o+(h||!(k&&l)?"&#xa0;":""));if(h||!l){j+='<span class="ui-datepicker-year">'+c+"</span>"}else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(j+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++){j+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>"}j+="</select>"}j+=this._get(a,"yearSuffix");if(u){j+=(h||!(k&&l)?"&#xa0;":"")+o}j+="</div>";return j},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y"){this._notifyChange(a)}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new K;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.6";window["DP_jQuery_"+y]=d})(jQuery);var con;var oDbg;var messages=[];var users=[];var usersData=new Object();var timeFlag=0;var sendFlag=1;var sessionTerminate="";var timeout;var timeoutRefresh;var reloginflag;var boxAlertMesssages=[];var cardTimer;var disconnectFlag;var makeAliveBuzz;var chkAliveFlag=1;var flagForError=1;var chkLogin=1;var blnBuzzActive=1;var sendMsgFlag=1;var intMaxcharacters=200;var intTotalEnters=0;var intTotallines=3;var intInitialCharacters=19;var intFinalHeight=11;var blnVcardFlag=0;var usersMessages=[];var blnValidConnection=0;var username;var userLoginForm;var errorcount=0;var fromCookie=false;var roomsToJoin=new Array();var serverName=I18n.t("server_name");function cutResource(b){if(typeof(b)=="undefined"||!b){return}var a=b;if(a.indexOf("/")!=-1){a=a.substring(0,a.indexOf("/"))}return a}function cutResourceUser(b){if(typeof(b)=="undefined"||!b){return}var a=b;if(a.indexOf("@")!=-1){a=a.substring(0,a.indexOf("@"))}return a}function changeStatus(f,c,b){if(!con.connected()&&f!="offline"){getJabberSession();return}var a=new JSJaCPresence();a.setPriority(10);a.setStatus(c);a.setShow(f);try{con.send(a)}catch(d){}}function getInternetExplorerVersion(){var c=-1;if(navigator.appName=="Microsoft Internet Explorer"){var a=navigator.userAgent;var b=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(b.exec(a)!=null){c=parseFloat(RegExp.$1)}}return c}function doError(a){if(a.getAttribute("code")==500&&a.getAttribute("type")=="cancel"){sendYourPresence()}else{if(a.getAttribute("code")==503&&a.getAttribute("type")=="cancel"){sendYourPresence()}}try{if(a.getAttribute("code")==401){try{disconnectFlag=0;if(blnValidConnection){con.disconnect();blnValidConnection=0}}catch(a){}}}catch(a){}}function removeContent(){}function setupCon(a){a.registerHandler("message",handleMessage);a.registerHandler("presence",handlePresence);a.registerHandler("iq",handleIQ);a.registerHandler("onconnect",handleConnected);a.registerHandler("onerror",handleError);a.registerHandler("status_changed",handleStatusChanged);a.registerHandler("ondisconnect",handleDisconnected);a.registerIQGet("query",NS_VERSION,handleIqVersion);a.registerIQGet("query",NS_TIME,handleIqTime)}function showLoading(){}function showGroupError(){}function sendMsges(){}function quit(){try{var b=new JSJaCPresence();b.setType("unavailable");try{con.send(b)}catch(a){}disconnectFlag=0;if(typeof con!="undefined"&&con&&con.connected()){con.disconnect();blnValidConnection=0}}catch(a){}location.href="/user_sessions/destroy"}function timedCount(){try{console.log("Timer called "+con);console.log("Timer called "+con.connected())}catch(a){}if(con&&con.connected()){}else{getJabberSession()}}function checkOnline(g){var c=new JSJaCIQ();var b=Math.round(100000.5+(((900000.49999)-(100000.5))*Math.random()));c.setIQ(g+"@"+userLoginForm.servername.value,"get",b);var a;var f="jabber:iq:last";try{a=c.getDoc().createElementNS(f,"query")}catch(d){a=c.getDoc().createElement("query");a.setAttribute("xmlns",f)}c.getNode().appendChild(a);try{con.send(c)}catch(d){}}function getRoomMembers(c){var d=new JSJaCIQ();var b=Math.round(100000.5+(((900000.49999)-(100000.5))*Math.random()));d.setIQ(c+"@conference."+userLoginForm.servername.value,"get",b);var a;var g="http://jabber.org/protocol/disco#items";try{a=d.getDoc().createElementNS(g,"query")}catch(f){a=d.getDoc().createElement("query");a.setAttribute("xmlns",g)}d.getNode().appendChild(a);try{con.send(d)}catch(f){}}function handleIQ(f){if(f.getQuery().getAttribute("xmlns")=="jabber:iq:last"){var h=f.getQuery().getAttribute("seconds");if(h==null||typeof h==="undefined"){}else{userOnlineStatus(cutResourceUser(f.getFrom()),h)}}else{if(f.getQuery().getAttribute("xmlns").indexOf("disco#items")>0){var b=f.getNode().getElementsByTagName("item");for(var a=0;a<b.length;++a){var c=b.item(a);var i=c.getAttribute("jid");var d=i.split("/");showConferencePresence(cutResourceUser(cutResource(i)),"online",cutResourceUser(d[1]),"")}}else{try{con.send(f.errorReply(ERR_FEATURE_NOT_IMPLEMENTED))}catch(g){}}}}function handleMessage(i){if(i.getFromJID().toString().indexOf("ubsub")>=0){var q=new XMLSerializer();var o=q.serializeToString(i.getDoc().documentElement);if(o.indexOf("<delay")<0&&o.indexOf("<retract")<0){var r=i.getDoc().getElementsByTagName("item");var B=i.getDoc().getElementsByTagName("title");var l=i.getDoc().getElementsByTagName("summary");var u=i.getDoc().getElementsByTagName("id");var d=i.getDoc().getElementsByTagName("link");var t=i.getDoc().getElementsByTagName("published");var p=i.getDoc().getElementsByTagName("updated");var b=i.getDoc().getElementsByTagName("userid");var h=i.getDoc().getElementsByTagName("username");var A=document.application.chatuser.value;var f=i.getDoc().getElementsByTagName("items");var s=r[0].attributes.getNamedItem("id").value;var w=f[0].attributes.getNamedItem("node").value;var g=w.split("/");var a=g[g.length-1];a=a.substr(0,1);var n=showUserStatus(s,h[0].childNodes[0].nodeValue,u[0].childNodes[0].nodeValue,A,0,l[0].childNodes[0].nodeValue,l[0].attributes.getNamedItem("path").value,l[0].attributes.getNamedItem("link").value,"statusoverlay",s,"status",B[0].childNodes[0].nodeValue,a);showStatusMessageHtml(n);try{resetParentSize(40)}catch(x){}}}else{if(i.getFromJID().toString().indexOf("conference")<0){var k=cutResource(i.getFromJID().toString());var o=i.getBody();o=o.replace(/&quot;/g,'"');if(isJson(o)){var z=$.parseJSON(o);if(z.message.id){var m=document.application.chatuser.value;var v=cutResourceUser(k);var y=m+"_"+v;o="You have been invited to join "+z.message.title+"<br/><br/>";o=o+'<a class="acceptCompanyLink" href=javascript:acceptInvite('+z.message.id+","+z.message.company_id+',1,"'+y+'")>Accept</a>&nbsp;or&nbsp;<a href=javascript:acceptInvite('+z.message.id+","+z.message.company_id+',0,"'+y+'") class="rejectCompanyLink">Reject</a>'}}else{o=o.htmlEnc()}showMessage(cutResourceUser(k),o)}else{var j=cutResource(i.getFromJID().toString());var c=i.getFromJID().toString().split("/");var k=cutResource(c[1]);var o=i.getBody();o=o.replace(/&quot;/g,'"');o=o.replace(/&apos;/g,"'");if(o.indexOf("invites you to the room")>0&&o.indexOf("(Join Please)")>0){}else{showRoomMessage(cutResourceUser(j),cutResourceUser(k),o)}}}}function doPresenceRoom(a,b){if(fromCookie==true){doSubConfig(a,b)}else{doSub(a)}}function doSubConfig(c,b){var h=c;var l=h+"@conference."+userLoginForm.servername.value;var f=userLoginForm.chatuser.value;var a=new JSJaCPresence();a.setTo(l+"/"+f);var j;var d="http://jabber.org/protocol/muc";try{j=a.getDoc().createElementNS(d,"x")}catch(g){j=a.getDoc().createElement("x");j.setAttribute("xmlns",d)}var i=a.getDoc().createElement("history");i.setAttribute("since","1970-02-01T00:00:00Z");j.appendChild(i);var k=a.getDoc().createElement("item");k.setAttribute("affiliation",b);k.setAttribute("role","participant");a.getNode().appendChild(k);try{con.send(a)}catch(g){}}function doPresenceProject(c,b,g){var i=c;var m=i+"@conference."+userLoginForm.servername.value;var f=userLoginForm.chatuser.value;var a=new JSJaCPresence();a.setTo(m+"/"+f);var k;var d="http://jabber.org/protocol/muc";try{k=a.getDoc().createElementNS(d,"x")}catch(h){k=a.getDoc().createElement("x");k.setAttribute("xmlns",d)}var j=a.getDoc().createElement("history");j.setAttribute("since","1970-02-01T00:00:00Z");k.appendChild(j);var l=a.getDoc().createElement("item");l.setAttribute("affiliation",b);l.setAttribute("role","participant");l.setAttribute("header",g);a.getNode().appendChild(l);try{con.send(a)}catch(h){}}function doSub(b){var g=b;var j=g+"@conference."+userLoginForm.servername.value;var d=userLoginForm.chatuser.value;var a=new JSJaCPresence();a.setTo(j+"/"+d);var i;var c="http://jabber.org/protocol/muc";try{i=a.getDoc().createElementNS(c,"x")}catch(f){i=a.getDoc().createElement("x");i.setAttribute("xmlns",c)}var h=a.getDoc().createElement("history");h.setAttribute("since","1970-02-01T00:00:00Z");i.appendChild(h);a.getNode().appendChild(i);try{con.send(a)}catch(f){}}function doSubUnavail(b){var c=b;var f=c+"@conference."+userLoginForm.servername.value;var g=userLoginForm.chatuser.value;var a=new JSJaCPresence();a.setTo(f+"/"+g);a.setType("unavailable");try{con.send(a)}catch(d){}}function sendIQSubscription(p,k,m,b,f,a,g,i,o){var h=userLoginForm.chatuser.value;var n=new JSJaCIQ();n.setIQ("pubsub."+serverName,"set","company_id_"+b);n.setFrom(h+"@"+serverName);var c=n.publishPubSubNode("/home/"+serverName+"/c_"+b,p,k,m,b,f,f,a,g,i,o);var d="http://jabber.org/protocol/pubsub";var l;try{l=n.getDoc().createElementNS(d,"pubsub")}catch(j){l=n.getDoc().createElement("pubsub");l.setAttribute("xmlns",d)}n.getNode().appendChild(l);l.appendChild(c);try{con.send(n)}catch(j){}}function sendProjectIQSubscription(p,k,m,b,f,a,g,i,o){var h=userLoginForm.chatuser.value;var n=new JSJaCIQ();n.setIQ("pubsub."+serverName,"set","project_id_"+b);n.setFrom(h+"@"+serverName);var c=n.publishPubSubNode("/home/"+serverName+"/p_"+b,p,k,m,b,f,f,a,g,i,o);var d="http://jabber.org/protocol/pubsub";var l;try{l=n.getDoc().createElementNS(d,"pubsub")}catch(j){l=n.getDoc().createElement("pubsub");l.setAttribute("xmlns",d)}n.getNode().appendChild(l);l.appendChild(c);try{con.send(n)}catch(j){}}function createIQSubscription(){var d=userLoginForm.chatuser.value;var b=new JSJaCIQ();b.setIQ("pubsub."+serverName,"set","test1");b.setFrom(d+"@"+serverName);var a=b.createPubSubNode("/home/"+serverName+"/sumeet3");b.setPubsubQuery("http://jabber.org/protocol/pubsub",a);try{con.send(b)}catch(c){}}function subscribeToPubSub(){var d=userLoginForm.chatuser.value;var b=new JSJaCIQ();b.setIQ("pubsub."+serverName,"set","sub2");b.setFrom(d+"@"+serverName);var a=b.subscribeToPubSubNode("/home/"+serverName+"/c_2",d+"@"+serverName);b.setPubsubQuery("http://jabber.org/protocol/pubsub",a);try{con.send(b)}catch(c){}}function clearFlag(){fillTimeContent();timeFlag=0;displayData();sessionTerminate="";try{clearInterval(timeoutRefresh)}catch(a){}timeoutRefresh=setInterval("displayData()",20000)}function handleError(a){doError(a)}function handleStatusChanged(a){}function handleConnected(){makeAliveBuzz=setInterval(timedCount,60000);sendYourPresence()}function sendYourPresence(){var a=new JSJaCPresence();a.setPriority(10);a.setStatus("");a.setShow("online");a.setType("online");try{con.send(a)}catch(b){getJabberSession()}}function sendYourPresenceOnCheck(){var a=new JSJaCPresence();a.setPriority(10);a.setStatus("");a.setShow("online");a.setType("online");try{if(con&&con.connected()){con.send(a)}else{getJabberSession()}}catch(b){getJabberSession()}}function handleDisconnected(){clearInterval(timeoutRefresh);clearInterval(timeout);if(disconnectFlag==1){sendMsgFlag=0}}function sendFollower(){var b=ReadCookie("follownames").split(",");var c=ReadCookie("followstatus").split(",");for(var a=0;a<c.length-1;++a){if(c[a]==0){sendSub(b[a])}}}function handleIqVersion(a){con.send(a.reply([a.buildNode("name","jsjac simpleclient"),a.buildNode("version",JSJaC.Version),a.buildNode("os",navigator.userAgent)]));return true}function handleIqTime(b){var a=new Date();con.send(b.reply([b.buildNode("display",a.toLocaleString()),b.buildNode("utc",a.jabberDate()),b.buildNode("tz",a.toLocaleString().substring(a.toLocaleString().lastIndexOf(" ")+1))]));return true}function init(){reloginflag=1;doLogin(userLoginForm,false)}function initFindNerd(d,m,f,b,a,i,o,c,h){reloginflag=0;aForm=userLoginForm;try{if(aForm.chatuser.value!="none"){messages=[];oArgs=new Object();var p,g="www";var n=aForm.servername.value+"/http-bind";var k=document.URL;var l=k.indexOf(g);if(l!=-1){n=g+"."+n}oArgs.httpbase="http://"+n+"/";oArgs.timerval=2000;con=new JSJaCHttpBindingConnection(oArgs);setupCon(con);disconnectFlag=1;oArgs=new Object();oArgs.domain=aForm.servername.value;oArgs.resource=serverName;oArgs.username=aForm.chatuser.value;oArgs.pass=aForm.token.value;oArgs.sid=d;oArgs.rid=m;oArgs.polling=f;oArgs.inactivity=b;oArgs.requests=a;oArgs.ver=i;oArgs.maxpause=o;oArgs.authid=c;oArgs.wait=h;oArgs.register=false;disconnectFlag=0;con.connectFindNerd(oArgs);blnValidConnection=1;sendMsgFlag=1}}catch(j){doError(j)}finally{return false}}function getJabberSession(){try{clearInterval(makeAliveBuzz)}catch(a){}init()}function sendDirectMessage(b,c,a){if(c==""){return false}var e=b;if(e.indexOf("@")==-1){if(a==false){e+="@"+document.application.servername.value}else{e+="@conference."+document.application.servername.value}}var d=new JSJaCMessage();d.setTo(new JSJaCJID(e));d.setBody(c);if(a==false){d.setSubject("")}if(a==true){d.setType("groupchat")}con.send(d)}function sendSub(b){var a=new JSJaCPresence();a.setType("subscribe");if(!b||b==""){alert("JID missing");return false}var d=b;if(d.indexOf("@")==-1){d+="@"+document.application.servername.value}a.setTo(d);a.setStatus("test");try{con.send(a)}catch(c){}}function setmesg(a){changeStatus("chat",a)}function sendPresenceGroups(){for(var a=0;a<roomsToJoin.length;++a){doSub(roomsToJoin[a])}}function sendPresenceGroupsUnavail(){for(var a=0;a<roomsToJoin.length;++a){doSubUnavail(roomsToJoin[a])}}function handlePresence(k){var c=k.getFrom();var h=cutResource(k.getFrom());var i=cutResource(k.getTo());var g=k.getType();var j=k.getShow();var d=k.getStatus();var f=k.getDoc().getElementsByTagName("item");var e="";if(f.length>0&&f[0].attributes.getNamedItem("header")&&typeof(f[0].attributes.getNamedItem("header"))!="undefined"){e=f[0].attributes.getNamedItem("header").value}switch(g){case null:switch(j){case"chat":showStatusMessage(cutResourceUser(h),d);break;case"online":break;default:if(h.indexOf("conference")>=0){var b=c.split("/");showConferencePresence(cutResourceUser(h),"online",cutResourceUser(b[1]),e)}break}break;case"online":if(i==h){sendPresenceGroups()}if(i==h&&sendMessage==1){sendMessage=0}saveOnlineList(cutResourceUser(h));break;case"subscribe":var a=new JSJaCPresence();a.setTo(h);a.setType("subscribed");con.send(a);break;case"subscribed":h=cutResourceUser(h);i=cutResourceUser(i);var l="/social/updatefollowstatus/?username="+h+"&fromusername="+i;$.get(l,function(m){});break;case"unavailable":if(h.indexOf("conference")>=0){var b=c.split("/");if(cutResourceUser(b[1])!=$("#application #username").val()){showConferencePresence(cutResourceUser(h),"unavailable",cutResourceUser(b[1]),e)}}else{removeFromlist(cutResourceUser(h))}break}}function saveOnlineList(b){var a=false;onlinelist[b]=true}function removeFromlist(a){onlinelist[a]=false}function checkonlineList(b){var a=false;if(onlinelist[b]==true){a=true}return a}function doLogin(c,d){try{if(c.chatuser.value!="none"){messages=[];oArgs=new Object();var a,f="www";var i=c.servername.value+"/http-bind";var h=document.URL;var b=h.indexOf(f);if(b!=-1){i=f+"."+i}oArgs.httpbase="http://"+i+"/";oArgs.timerval=2000;con=new JSJaCHttpBindingConnection(oArgs);setupCon(con);disconnectFlag=1;oArgs=new Object();oArgs.domain=c.servername.value;oArgs.resource=new Date().getTime();oArgs.username=c.chatuser.value;oArgs.pass=c.token.value;oArgs.register=d;disconnectFlag=0;con.connect(oArgs);blnValidConnection=1;sendMsgFlag=1}}catch(g){doError(g)}finally{return false}}function unload(){disconnectFlag=0;if(typeof con!="undefined"&&con&&con.connected()){if(con._hold){(new JSJaCCookie("btype","binding")).write()}else{(new JSJaCCookie("btype","polling")).write()}if(con.suspend){con.suspend()}}}function isJson(a){a=a.replace(/\\["\\\/bfnrtu]/g,"@");a=a.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");a=a.replace(/(?:^|:|,)(?:\s*\[)+/g,"");return(/^[\],:{}\s]*$/.test(a))};var menuInnerHtml="";var menuInteval;var count=0;var sendMessage=1;var onlinelist=[];var onlinelistprocesstatus=false;var pageLoadTime=new Date();var activityInnerHTML="";var lastActivityActivityID="primaryActivityInputCover";var searchUsersStarted=false;var firstLoad=0;var resourceType="gmail";var newUrl="";var prevUrl="";var childWindow=null;var contactWindow=false;var counnt=1;var tabActive=true;function setNewUrl(b){newUrl=b;window.location.hash="#url="+b}var HashSearch=new function(){var b;this.set=function(c,d){b[c]=d;this.push()};this.remove=function(c,d){delete b[c];this.push()};this.get=function(c,d){return b[c]};this.keyExists=function(c){return b.hasOwnProperty(c)};this.push=function(){var e=[],c,d;for(c in b){if(b.hasOwnProperty(c)){c=escape(c),d=escape(b[c]);e.push(c+((d!=="undefined")?"="+d:""))}}window.location.hash=e.join("&")};(this.load=function(){b={};var f=window.location.hash,d,c;f=f.substring(1,f.length);d=f.split("&");for(var e=0;e<d.length;e++){c=d[e].split("=");b[unescape(c[0])]=(typeof c[1]!="undefined")?unescape(c[1]):c[1]}})()};function setHash(b,c){HashSearch.set(b,c)}function getParameterByName(c,b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+b+"=([^&#]*)"),d=e.exec(c);return d===null?"":decodeURIComponent(d[1].replace(/\+/g," "))}function updateQueryStringParameter(d,b,e){var c=new RegExp("([?&])"+b+"=.*?(&|$)","i");var f=d.indexOf("?")!==-1?"&":"?";if(d.match(c)){return d.replace(c,"$1"+b+"="+e+"$2")}else{return d+f+b+"="+e}}function cancelInvitation(){$(".invitePeoplePopup").remove();$("#inviteOverlay").hide()}function loadContacts(){contactWindow=true;$.get("/invite/fetchContacts",function(b){$("#inviteOverlay .contactsLoader").hide();$("#inviteOverlay #contactLayout").html(b);$(".invitePeoplePopup > ul").niceScroll({cursorwidth:7,autohidemode:false,horizrailenabled:false})})}function closeInvitationPopup(){if(!contactWindow){$(".invitePeoplePopup").remove();$("#inviteOverlay").hide();if(childWindow!==null&&childWindow!==undefined&&typeof childWindow!=="undefined"){childWindow.close()}}else{}}function populateTemplateAndContacts(){if((childWindow.location.href.indexOf("oauth2callback")>0)||(childWindow.location.href.indexOf("redirect_path")>0)||(childWindow.location.href.indexOf("callback")>0)){if($("#inviteOverlay").length>0){loadContacts()}else{parent.loadContacts()}}}function openContactWindow(h,c,g,f,e,b,d){showInviteBox("profileshare");resourceType=h;document.cookie="resourcetype="+h+"; path=/;";document.cookie="sharetype="+e+"; path=/;";if(e=="shareProfile"){document.cookie="referred_user_id="+g+"; path=/;";document.cookie="referrer_user_id="+f+"; path=/;"}else{if(e=="addUsertoProject"){document.cookie="referred_user_id="+g+"; path=/;";document.cookie="referrer_user_id="+f+"; path=/;";document.cookie="project_name="+b+"; path=/;";document.cookie="project_id="+d+"; path=/;"}else{document.cookie="tute_referred_user_id="+g+"; path=/;";document.cookie="tute_referrer_user_id="+f+"; path=/;"}}childWindow=window.open(c,"_blank","toolbar=yes, scrollbars=yes, resizable=yes, top=500, right=300, width=400, height=400");contactWindow=false;contactFetched=false;childWindow.onbeforeunload=function(){if($("#inviteOverlay").length>0){closeInvitationPopup()}else{parent.closeInvitationPopup()}}}function showInviteBox(b){if($("#inviteOverlay").length>0){$("#inviteOverlay").show();$("#inviteOverlay").css("left",(document.documentElement.offsetWidth-$("#inviteOverlay").width())/2);$("#inviteOverlay form #invite").val(b);$("#contactLayout").html("");$("#inviteOverlay .contactsLoader").show()}else{parent.showInviteBox(b)}}function sendInvites(b){$("#inviteOverlay .contactsLoader").show();$("#contactLayout").hide();var c=[];$(this).parents("li");var d="";if($("#inviteOverlay").length>0){d=$("#inviteOverlay .invitePeoplePopup ul").find("input[name=inviteCheckbox]:checked");d.each(function(){c.push(parseInt($(this).attr("data-id")))});if(c.length>0){$.ajax({type:"POST",url:"/invite/saveInvites",data:{ids:c},success:function(e){if($("#inviteOverlay").length>0){if(b=="mailPreview"){closeMailPreview("sendMailPreview")}$("#inviteOverlay .contactsLoader").hide();$("#contactLayout").show();$("#inviteSent").show();$("#inviteOverlay #checkAll").prop("checked",false);d.each(function(){$(this).prop("checked",false);var f=$(this).parents("li");$(this).parents("li").remove();$(".invitePeoplePopup ul#contactsInvi").append(f)});setTimeout(function(){$(".invitePeoplePopup").remove();$("#inviteOverlay").hide()},3000)}else{if(b=="invites"){$("#inviteSent").show()}else{parent.closeMailPreview("sendMailPreview")}}}})}else{$("#inviteOverlay .contactsLoader").hide();$("#contactLayout").show();alert("Please invite atleast one contact")}}}function checkAll(){var b=($("#inviteOverlay #checkAll").is(":checked"));var c=$("#inviteOverlay").find("input:checkbox");c.each(function(){if(b){$(this).prop("checked",true)}else{$(this).prop("checked",false)}})}function inviteMailPreview(){var b=$("#inviteOverlay .invitePeoplePopup ul").find("input[name=inviteCheckbox]:checked").length;if(b>0){$(".invitePeoplePopup").hide();$("#invitePopupOverlay").show();$("#inviteContactMail").niceScroll()}else{alert("Please invite atleast one contact")}}function checkUncheckSelectAll(){var b=$("#inviteOverlay .invitePeoplePopup ul").find("input[name=inviteCheckbox]").length;var c=$("#inviteOverlay .invitePeoplePopup ul").find("input[name=inviteCheckbox]:checked").length;if(b==c){$("#inviteOverlay #checkAll").prop("checked",true)}else{$("#inviteOverlay #checkAll").prop("checked",false)}}function closeMailPreview(b){$("#inviteContactMail").scrollTop(0);$("#invitePopupOverlay").hide();if(b=="mailPreview"){$(".invitePeoplePopup").show()}else{$(".invitePeoplePopup").show();$("#inviteSent").show()}}function checkIfRoomExists(b){var d=$("#mainiframe");var c=[];if(d.length>0&&$("#company_conference #"+b+"_conference_chatm",d.contents()).length>0){c.push($("#company_conference",d.contents()))}if($("#"+b+"_conference #"+b+"_conference_chatm").length>0){c.push($("#"+b+"_conference"))}return c}function iResize(c,b){document.getElementById(c).style.height=b}function joinCompanyRoom(b){if($("#company_conference #"+b+"_conference_display").length<=0){roomsToJoin.push(b);doSub(b)}else{openCompanyChat("company_conference",b)}if($("#"+b+"_conference").length>0){swapOverlaySocial("overlays",b+"_conference")}hideMenu()}function toTop(){$("html,body").scrollTop(0)}function openCompanyChat(c,b){resizeOverlay(b+"_conference_display",overlays);$("#"+c+" #"+b+"_conference_display").attr("scrollTop",$("#"+c+" #"+b+"_conference_display").attr("scrollHeight"))}function showConferencePresence(c,e,h,g){var b=checkIfRoomExists(c);var d=0;if(b.length==0){b.push(createRoomOverlay(c,g));getRoomMembers(c)}var l="#"+c+"_presence";var f=c+"_user_"+h.replace(/\./g,"_");for(d=0;d<b.length;++d){if(e=="online"){if(c=="c_4"){if(b[d].find(l+" #"+f).length<=0){var j=companyActorImg(h);if(j==null){j="/images/defaultprofileimage.jpg"}b[d].find(l).append("<div id='"+f+"' class='onlinePeople clear_both'><img src="+j+" /> <a href='/profile/publicprofile/"+h+"/' target='mainiframe'>"+h+"</a><span></span></div>")}}else{if(b[d].find(l+" #"+f).length<=0){var k=window.frames[0].projectActorImg(h);if(k==null){k="/images/defaultprofileimage.jpg"}b[d].find(l).append("<div id='"+f+"' class='onlinePeople clear_both'><img src="+k+" /> <a href='/profile/publicprofile/"+h+"/' target='mainiframe'>"+h+"</a><span></span></div>")}}}else{if($(l+" #"+f).length>0){b[d].find(l+" #"+f).remove()}}}$(".totalOnlineUsers span").text($(".onlinePeople").length)}function showRoomMessage(d,k,q){var l=$("#mainiframe",window.parent.document).parents("#offshoreindialive").find(".webWelcome a").text();var b=checkIfRoomExists(d);var j=0;if(b.length<=0){b.push(createRoomOverlay(d,""));getRoomMembers(d)}else{for(j=0;j<b.length;++j){if(b[j].attr("id")==(d+"_conference")){showGeneralOverlays((d+"_conference"),false)}}}var p="";var o=0;var h="/images/defaultprofileimage.jpg";try{var f=$.parseJSON(q);p=f.message.htmlEnc();o=f.time;if(f.logo&&f.logo.length>0){h=f.logo}}catch(n){p=q.htmlEnc()}var c=getTimeText(parseInt(o));if(l==k){var g="<div class='roommessage chatroomImg'>"}else{var g="<div class='roommessage chatroomImg otherUser'>"}g=g+"<div><div class='messagerow'><img src='"+h+"'/></div><div class='rightChatMsg'><a href='/profile/publicprofile/"+k+"' class='heading' target='mainiframe'>"+k+"</a><div class='messageTime'><span id='"+o+"' class='timer'>"+c+"</span></div><p style='padding-top:0;'>"+p+"</p></div></div></div>";var m=0;for(j=0;j<b.length;++j){b[j].find("#"+d+"_conference_display .roommessage span").each(function(){var e=parseInt($(this).attr("id"));$(this).html(getTimeText(e));if(parseInt(o)<e&&m==0){$(this).parent().parent().before(g);m=1}});if(m==0){b[j].find("#"+d+"_conference_display .spaceForScroll").before(g);b[j].find("#"+d+"_conference_display .spaceForScroll").hide()}b[j].find("#"+d+"_conference_display").scrollTop(b[j].find("#"+d+"_conference_display").prop("scrollHeight"))}$(".chatconference").niceScroll({autohidemode:false,cursorcolor:"#a7a7a7"})}function getTimeText(j){var c=getServerTime();var e=c-j;var l=Math.floor(e/1000);var g=l%60;var d=Math.floor(l/60);var n=d%60;var k=Math.floor(d/60);var h=k%24;var m=Math.floor(k/24);var f=m%30;var b=Math.floor(m/30);if(j==0){return"NA"}else{if(b>0){return b+" month(s) ago"}else{if(m>0){return m+" day(s) ago"}else{if(k>0){return k+" hour(s) ago"}else{if(d>0){return d+" minute(s) ago"}else{if(l>0){return l+" second(s) ago"}else{return"just now"}}}}}}}function createRoomOverlay(d,g){var e="Team Chat - "+g;if(d.indexOf("c_")==0){var e="Company Chat Room"}var b=d+"_conference";var f=getRoomHTML(b,e,d);$("body").append(f);newOver=true;showGeneralOverlays(b,newOver);$("#"+d+"_conference_chatm").keypress(function(h){if(h.which==13){if($("#"+d+"_conference_chatm").val().length>0){sendConferenceMessage(d,$("#"+d+"_conference_chatm").val(),true);$("#"+d+"_conference_chatm").val("")}h.preventDefault();return false}});var c="<span class='downArrow resizeBttn' onclick='resizeSingleOverlay(\""+b+"\")'></span>";$("#"+b+" .blogheader").append(c);return $("#"+b)}function preventSpaceOnkeyDown(c,b){if(c.keyCode==32){c.preventDefault()}}function checkLogin(){$("#valid_character_error").css("display","none");$("#user_blank_error").css("display","none");$("#user_error_name").css("display","none");$("#login_exist_error").css("display","none");var b=true;var c=$("#user_login").val();if($.trim(c).length==6||$.trim(c).length>6){var d=new RegExp("^[a-zA-Z0-9].*");var e=new RegExp("^(?!.*?[._]{2})[a-zA-Z0-9_.]+$");if(!d.test(c)){$("#user_login_exist").val("1");$("#user_blank_error").css("display","none");$("#user_error_name").css("display","none");$("#login_exist_error").css("display","none");$("#valid_character_error").css("display","block");$("#valid_character_error").html("First character should be an alpha-numeric");b=false}else{if(e.test(c)){$("#valid_character_error").css("display","none");$("#user_blank_error").css("display","none");$("#user_error_name").css("display","none");$("#login_exist_error").css("display","none")}else{$("#user_login_exist").val("1");$("#user_blank_error").css("display","none");$("#user_error_name").css("display","none");$("#login_exist_error").css("display","none");$("#valid_character_error").css("display","block");$("#valid_character_error").html("Please enter alpha-numeric characters/dot/underscore");b=false}}}else{$("#valid_character_error").css("display","none");b=false}return b}function showErrMsg(c){$("#"+c).addClass("errorBox");$("#"+c).focus();var b=["user_login","user_email","user_email_confirmation","user_password","user_password_confirmation"];jQuery.each(b,function(d,e){if(c!=e){$("#"+e).removeClass("errorBox")}});return false}function validate(){var b=true;if($.trim($("#user_login").val())==""){$("#user_error_name").css("display","none");$("#login_exist_error").css("display","none");$("#valid_character_error, .socialRegisterOuter").css("display","none");$("#blankField").show();return showErrMsg("user_login")}else{$("#blankField").css("display","none");$("#user_login").removeClass("errorBox")}if($.trim($("#user_login").val())!=""&&$.trim($("#user_login").val()).length<6){b=false;resetAllErrorMsgs("user_error_name");return showErrMsg("user_login")}else{$("#user_error_name").css("display","none")}if($.trim($("#user_login").val())!=""&&($.trim($("#user_login").val()).length==6||$.trim($("#user_login").val()).length>6)){$("#user_blank_error").css("display","none");if(checkLogin()==false){b=false}}if($.trim($("#user_email").val())==""){b=false;$("#email_exist_error").css("display","none");resetAllErrorMsgs("blankField");return showErrMsg("user_email")}else{$("#email_blank_error").css("display","none");$("#blankField").css("display","none");$("#user_email").removeClass("errorBox")}if($.trim($("#user_email").val())!=""&&!echeck($.trim($("#user_email").val()))){b=false;$("#user_email_exist").val("1");$("#email_exist_error").css("display","none");resetAllErrorMsgs("email_error");return showErrMsg("user_email")}else{$("#email_error").css("display","none")}if($.trim($("#user_email_confirmation").val())==""){b=false;resetAllErrorMsgs("blankField");return showErrMsg("user_email_confirmation")}else{$("#blankField").css("display","none");$("#user_email_confirmation").removeClass("errorBox")}if($.trim($("#user_email_confirmation").val())!=""&&!echeck($.trim($("#user_email_confirmation").val()))){b=false;$("#cnfemail_match_error").css("display","none");resetAllErrorMsgs("cnfemail_error");return showErrMsg("user_email_confirmation")}else{$("#cnfemail_error").css("display","none");$("#cnfemail_match_error").css("display","none")}if(echeck($.trim($("#user_email_confirmation").val()))&&$.trim($("#user_email").val())!=""&&$.trim($("#user_email").val())!=$.trim($("#user_email_confirmation").val())){b=false;$("#cnfemail_error").css("display","none");resetAllErrorMsgs("cnfemail_match_error");return showErrMsg("user_email_confirmation")}else{$("#cnfemail_match_error").css("display","none")}if($.trim($("#user_email").val())!=""){checkInvalidEmailDomains($.trim($("#user_email").val()),function(c){if(c!=0){b=false;resetAllErrorMsgs("domain_error");return showErrMsg("user_email")}})}if($.trim($("#user_password").val())==""){b=false;resetAllErrorMsgs("blankField");return showErrMsg("user_password")}else{$("#blankField").css("display","none");$("#user_password").removeClass("errorBox")}if($.trim($("#user_password").val())!=""&&$("#user_password").val().length<6){b=false;$("#pass_error").css("display","block")}else{$("#pass_error").css("display","none")}if($.trim($("#user_password_confirmation").val())==""){b=false;resetAllErrorMsgs("blankField");return showErrMsg("user_password_confirmation")}else{$("#blankField").css("display","none");$("#user_password_confirmation").removeClass("errorBox")}if($.trim($("#user_password_confirmation").val())!=""&&$("#user_password_confirmation").val()!=$("#user_password").val()){b=false;$(".fields span").css("display","none");$(".fields.signInOR span").show();$("#passconf_error").css("display","block");return showErrMsg("user_password_confirmation")}else{$("#passconf_error").css("display","none")}if($.trim($("#user_email").val())!=""&&$("#user_email_exist").val()=="0"){b=false;$("#email_exist_error").css("display","block")}else{$("#email_exist_error").css("display","none")}if($("#user_login_exist").val()=="0"&&$.trim($("#user_login").val())!=""&&($.trim($("#user_login").val()).length==6||$.trim($("#user_login").val()).length>6)){b=false;$("#login_exist_error").css("display","block")}else{$("#login_exist_error").css("display","none")}return b}function submitUpdatedEmail(){if($("#user_email_exist").val()==1){var b=$("#updateUserEmail").serialize();$.ajax({type:"POST",url:$("#updateUserEmail").attr("action"),data:b,dataType:"JSON"}).success(function(c){if(c.success=="true"){$("#mainiframe",window.parent.document).parents("#offshoreindialive").find("#user_email").val("");$(".update_email").animate({height:0},function(){$(".headerBottom,#main").removeClass("extraHeader")})}else{$(".update_email").addClass("emailUpdationForm")}})}}function resetAllErrorMsgs(b){$(".fieldsRow span").css("display","none");$("#"+b).css("display","block")}function checkEmailExist(b,g,f){if(f!=undefined){onPasteEvent(f)}var h="";if(($.trim($("#emailConfirm").val())=="")||($.trim($("#emailConfirm").val())!=""&&!echeck($.trim($("#user_email").val())))){emailNotExist();return false}if($.trim($("#user_login").val())!=""&&$.trim($("#user_login").val()).length<6&&b=="login"){return false}if(($.trim($("#user_email").val())=="")||($.trim($("#user_email").val())!=""&&!echeck($.trim($("#user_email").val())))){return false}$("#email_error").css("display","none");$("#email_exist_error").css("display","none");$("#login_exist_error").css("display","none");$("#valid_character_error").css("display","none");$("#user_blank_error").css("display","none");$("#user_error_name").css("display","none");$("#email_error").css("display","none");$("#email_blank_error").css("display","none");if($.trim($("#emailConfirm").val())==""){$(".email_invalid").hide()}if($.trim($("#user_email").val())==""){$("#email_blank_error").css("display","block")}if($.trim($("#user_login").val())==""){$("#user_blank_error").css("display","block")}else{if($.trim($("#user_login").val()).length<6&&b=="login"){$("#user_error_name").css("display","block")}}if(checkLogin()&&($.trim($("#user_login").val()).length==6||$.trim($("#user_login").val()).length>6)&&b=="login"){$("#user_error_name").css("display","none");if(b=="login"){var c=$("#user_login").val();h={ftype:b,login:c}}}if(b=="email"){if(echeck($.trim($("#user_email").val()))){var e=$("#user_email").val();h={ftype:b,email:e}}else{if($.trim($("#user_email").val())!=""){$("#email_blank_error").css("display","none");$("#email_exist_error").css("display","none");$("#email_error").css("display","block")}else{if($.trim($("#user_email").val())==""){$("#email_error").css("display","none");$("#email_blank_error").css("display","block")}}}if($.trim($("#user_login").val())==""){$("#user_blank_error").css("display","block")}else{if($.trim($("#user_login").val()).length<6){$("#user_error_name").css("display","block")}}}if(b=="email"){if(echeck($.trim($("#emailConfirm").val()))){var e=$("#emailConfirm").val();h={ftype:b,email:e}}}var d="/users/checkEmailExist/";if(h){$("#user_submit").attr("disabled","disabled");$.ajax({type:"POST",url:d,data:h,success:function(j){if(b=="email"){if(j=="true"){if($.trim($("#user_email").val())==""){$("#email_blank_error").css("display","block")}else{$("#email_error").css("display","none");$("#email_exist_error").css("display","block")}if($.trim($("#emailConfirm").val())!=""){$(".email_invalid").hide();$("#pre_email_exist_error").css("display","block")}$("#user_email_exist").val("0");$(".update_email").addClass("emailUpdationForm")}else{if($.trim($("#user_email").val())==""){$("#email_blank_error").css("display","block");$("#email_exist_error").css("display","none")}else{$("#email_error").css("display","none");$("#email_exist_error").css("display","none")}if($.trim($("#emailConfirm").val())!=""){emailNotExist()}$("#user_email_exist").val("1");if((!(g===undefined))&&(!(g===null))){g()}}}else{if(b=="login"){if(j=="true"){$("#login_exist_error").css("display","block");$("#user_login_exist").val("0")}else{$("#login_exist_error").css("display","none");$("#user_login_exist").val("1")}}}}})}else{$(".update_email").addClass("emailUpdationForm")}$("#user_submit").removeAttr("disabled")}function validateLogin(){var b=true;if($.trim($("#user_session_login").val())==""){b=false;$("#user_session_login_blank_error").css("display","block");$("#user_session_login").focus()}else{$("#user_session_login_blank_error").css("display","none")}if($.trim($("#user_session_password").val())==""){b=false;$("#pass_session_password_blank_error").css("display","block")}else{$("#pass_session_password_blank_error").css("display","none")}return b}function validateforgotpasswordform(){var b=true;if(!echeck($("#forgotpassfrm #email").val())){b=false;$("#forgotpassfrm #email_error").css("display","block");$("#forgotpassfrm #email").focus()}else{$("#resetPswBtn").attr("disabled","disabled");$("#forgotpassfrm #email_error").css("display","none")}return b}function validateResetPassword(){var b=true;if($("#resetPassFrm #user_password").val().length<6){b=false;$("#resetPassFrm #pass_error").css("display","block")}else{$("#resetPassFrm #pass_error").css("display","none")}if($("#resetPassFrm #user_password_confirmation").val()!=$("#resetPassFrm #user_password").val()){b=false;$("#resetPassFrm #passconf_error").css("display","block")}else{$("#resetPassFrm #passconf_error").css("display","none")}return b}function validateChangePassword(){var b=true;if($("#changePassFrm #user_password").val().length<6){b=false;$("#changePassFrm #pass_error").css("display","block")}else{$("#changePassFrm #pass_error").css("display","none")}if($("#changePassFrm #user_password_confirmation").val()!=$("#changePassFrm #user_password").val()){b=false;$("#changePassFrm #passconf_error").css("display","block")}else{$("#changePassFrm #passconf_error").css("display","none")}return b}function trim(c,b){return ltrim(rtrim(c,b),b)}function ltrim(c,b){b=b||"\\s";return c.replace(new RegExp("^["+b+"]+","g"),"")}function rtrim(c,b){b=b||"\\s";return c.replace(new RegExp("["+b+"]+$","g"),"")}function echeck(g){var b="@";var c=".";var f=g.indexOf(b);var d=g.length;var e=g.indexOf(c);if(g.indexOf(b)==-1){return false}if(g.indexOf(b)==-1||g.indexOf(b)==0||g.indexOf(b)==d){return false}if(g.indexOf(c)==-1||g.indexOf(c)==0||g.indexOf(c)==d){return false}if(g.indexOf(b,(f+1))!=-1){return false}if(g.substring(f-1,f)==c||g.substring(f+1,f+2)==c){return false}if(g.indexOf(c,(f+2))==-1){return false}if(g.indexOf(" ")!=-1){return false}return true}function clearhidemenu(){try{clearInterval(menuInteval)}catch(b){}}function closeShareLink(g,k,j){if(!g){g=window.event}var d=(window.event)?g.srcElement:g.target;var b=g.relatedTarget||g.toElement;try{var c=b.className;var f=c;if(f!="emailText"&&f!="userDiv"&&f!="favDiv"&&f!="negDiv"&&f!="Email"&&f!="shareDiv"&&f!="email"&&f!="facebook"&&f!="twitter"&&f!="links"){$("#node"+k+" ."+j).css("display","none")}}catch(h){}}function closeUserLink(g,k,j){if(!g){g=window.event}var d=(window.event)?g.srcElement:g.target;var b=g.relatedTarget||g.toElement;try{var c=b.className;var f=c;if(f!="emailText"&&f!="shareEmail"&&f!="userDiv"&&f!="favDiv"&&f!="posDiv"&&f!="negDiv"&&f!="profile"&&f!="follow"&&f!="links"){$("#node"+k+" ."+j).css("display","none")}}catch(h){}}function showDetails(c){if($("#node"+c+" #details_"+c).css("display")=="block"){$("#node"+c+" #details_"+c).css("display","none")}else{$("#node"+c+" #details_"+c).css("display","block")}var b=0;$(".containerContent").each(function(){b=b+$(this).height()});b=b+100}function closeshareLinkDiv(){$(".favDiv").each(function(){$(this).css("display","none")});$(".shareDiv").each(function(){$(this).css("display","none")});$(".userDiv").each(function(){$(this).css("display","none")});$(".posDiv").each(function(){$(this).css("display","none")});$(".negDiv").each(function(){$(this).css("display","none")})}function shareNodeLink(c,b){$("#"+c+" ."+b).css("margin-top","-2px");$("#"+c+" ."+b).show()}function hideNodeLink(c,b){$("#"+c+" ."+b).hide()}function shareLink(h,g,e,f){closeshareLinkDiv();if(f==null){f=30}var d=parseInt($("#node"+h+" ."+e).css("margin-top"));var b=($("#node"+h+" ."+g).width()-$("#node"+h+" ."+e).width())/2;var c=$("#node"+h+" ."+e).position().left-b;$("#node"+h+" ."+g).css("top",topX+f);$("#node"+h+" ."+g).css("left",c+10);$("#node"+h+" ."+g).css("display","block")}function showLogin(){showOverlay("signinoverlay")}function showOverlayHeader(b){showOverlay(b)}function closeSignin(){$("#signinOverlay").css("display","none");$("#user-login-form").css("display","none")}function hidemenu(g){if(!g){g=window.event}var d=(window.event)?g.srcElement:g.target;var b=g.relatedTarget||g.toElement;try{var c=b.className;var f=c;if(f.indexOf("onoutmenus")<0){closemenu()}}catch(h){}}function closemenu(){$("#menuOverlay").css("display","none");$("#overlayB").css("display","none")}function menu(e,h,d,g){var k="";var c=$(e).position().top;if(d!="signin"){clearhidemenu();k=e.innerHTML}else{c=$("#breadCrumbsWrapperBackground").position().top}$("#menuOverlay").css("left",$(e).position().left-15);$("#menuOverlay").css("top",c-6);$("#menuOverlay").css("margin-top",1);var f=parseInt($("#menuOverlay").css("left"))+11;var b=parseInt($("#menuOverlay").css("top"))+44;$("#overlayB").css("left",f);$("#overlayB").css("top",b);$("#menuOverlay").show();$("#overlayB").show();if(d!="signin"){for(var j=0;j<h.length;++j){if(k.indexOf(h[j])>=0){$("#overlayB #midmenumid #menumidbody").attr("innerHTML",$("#"+h[j]+"MenuContent").attr("innerHTML"));$("#menuOverlay #menuOverlayHeader a").html(h[j]);var l="/list/nodes/1/"+d+"/0/";if(g){l=l+"?p="+g}$("#menuOverlay #menuOverlayHeader a").attr("href",l);break}}}else{$("#menuOverlay").css("top",c-15);$("#overlayB").css("top",b-9);$("#overlayB #midmenumid #menumidbody").attr("innerHTML",$("#signinOverlay").attr("innerHTML"));$("#menuOverlay #menuOverlayHeader a").html("Sign in");var l="/user_sessions/new/";$("#menuOverlay #menuOverlayHeader a").attr("href",l)}}function initializeEditor(b){$(".overlaytextarea").addClass("wmd-ignore");if($("#"+b+" .overlaytextarea").length>0){var c=$("#"+b+" .overlaytextarea")[0];$(c).removeClass("wmd-ignore");Attacklab.Util.startEditor()}}function restrictComment(){$("#restrictUserPopup").show();$(".blogsCommentBtn").addClass("not-active");$(".gamentio_sigin a").focus();setTimeout(function(){$("#restrictUserPopup").hide();$(".blogsCommentBtn").removeClass("not-active")},5000)}function showComment(f,g,n){backToPreviewFocus();$("#wmd-preview").html("");resetParentSize();$(".data_limit_error").hide();$("<div style='width: 100%;height: 100%;position: fixed;background: rgb(0, 0, 0);z-index: 8;opacity: 0.5;' id='tempOpacDiv'></div>").insertBefore("#pagewrapper");var b=n;if($("#"+g).css("display")=="none"){var j="";var l=0;var e=0;var k=30;if(l==0){j=f;e=0;k=65}var m=parseInt($("#"+j).css("z-index"));m=m+1;$("#"+g).css("z-index","1000");var d=$(window).width();var c=$("#leftContent").height();var h=$(".blogPreview").height();$("#"+g).css({top:$("#"+j).position().top-300,bottom:"auto"});if(b=="commentTop"){if(d>1160){$("#"+g).css({top:$("#"+j).position().top,bottom:"auto"})}else{$("#"+g).css({top:20,bottom:"auto"})}}else{if(b=="commentBtm"){$("#"+g).css({top:$("#no_bid_bttm,#bid_on_bttm").offset().top-300,bottom:"auto"})}else{if(g=="positivevotes"||g=="negativevotes"){$("#"+g).css({top:180,bottom:"auto"})}}}$("#"+g).show();setTimeout(function(){$(".cancel").focus()});initializeEditor(g)}else{swapOverLay(g);initializeEditor(g)}$("#mainiframe",window.parent.document).height(c+350+"px");adjustWidth(f,g)}function adjustWidth(d,b){if($("#"+b+" .top_mid").length>0){var e=$("#"+d).width();$("#"+b).width(e);var c=e-32;$("#"+b+" .top_mid").width(c);$("#imageoverlay .imageContent").width("701");$("#imageoverlay .bottomContent").width("701");$("#imageoverlay .blogContent").width("701");$("#imageoverlay .topImageContent").width("701")}}function showProfileData(b){if($("#"+b+" .expand").hasClass("collapse")){$("#"+b+" .expand").removeClass("collapse");$("#"+b+" .gridRowData").hide()}else{$("#"+b+" .expand").addClass("collapse");$("#"+b+" .gridRowData").show()}resetParentSize(40)}function showProfileEditBox(b,c){$(".containerCover").each(function(){$(this).hide()});$(".imgloader").show();$("#"+c).css("top",$("#"+b).position().top+4);$("#"+c).show();resetParentSize(60)}function hideSessionDetail(){closeOver("add_new_session");disableSession()}function showProfileEditBoxProject(b,c){$(".containerCover").each(function(){$(this).hide()});$("#"+c).css("left",$("#"+b).width()-$("#"+c).width()+$("#"+b).position().left);$("#"+c).css("top",$("#"+b).position().top+4);$("#"+c).show();resetParentSize()}function swapOverLay(g){var f="";var b=0;var e=0;var d=30;$(".blogComments").each(function(){if($(this).css("display")!="none"){if(b<parseInt($(this).css("z-index"))){b=parseInt($(this).css("z-index"));f=this.id}}});if(f!=g){var c=$("#"+f).css("z-index");$("#"+f).css("z-index",$("#"+g).css("z-index"));$("#"+g).css("z-index",c);c=$("#"+f).css("top");if(f!="trackeroverlay"){$("#"+f).css("top",$("#"+g).css("top"))}if(g!="trackeroverlay"){$("#"+g).css("top",c)}}}function closeOver(d){$("#"+d).hide();$(".imgOverlay").hide();$("#tempOpacDiv").remove();var b=d.split("add_new_session_");var c=0;if(b.length==2){c=1}if(d=="reporterrors"){$("#appletPlaceholder").remove()}if(d=="newUsers"){$(".addUsersFields").removeClass("userSelected");$(".overlayFixed").hide()}if(d=="resource"){$(".popOverManageUser,.overlayFixed,#newUsers,.pending_email_list").hide();showLessHistory();counnt=1;$(".new_resource_allocation_form").find("input[type='text']").val("");$(".new_resource_allocation_form").find("select").val("");$(".errorAllocation").hide()}if(d=="add_new_comment"){if(CKEDITOR.instances.comment_tempcontent){if(CKEDITOR.instances.comment_tempcontent.getData().length>0){CKEDITOR.instances.comment_tempcontent.setData("")}}$("#data_error").hide()}if(d=="add_new_session_2"||d=="add_new_session"||c==1){HideFormNew_Sessiondata(d);c=0}if(d=="signinoverlay"||d=="registerOverlay"||d=="forgotPasswordOverlay"||d=="resetPasswordOverlay"){$("#userSessLoginErrorMSG").hide();$("#signinCover").hide();$("#signinoverlay").hide();if(d=="forgotPasswordOverlay"){HideforgotPasswordOverlayErrorMSG()}}$(".email_invalid").hide();$("#domain_error").hide();resetParentSize()}function HideFormNew_Sessiondata(b){$("#"+b+" #new_sessiondata #sessiondata_description").val("");$("#"+b+" #new_sessiondata #permission_error").css("display","none");$("#"+b+" #new_sessiondata #description_error").css("display","none")}function hideOverlay(b){for(overlay in b){$("#"+b[overlay]+" .overlayContent").hide();$("#"+b[overlay]+" .mid_content .resizeBttn").removeClass("downArrow");$("#"+b[overlay]+" .mid_content .resizeBttn").addClass("leftArrow")}}function resizeSingleOverlay(d){if($("#"+d+" .mid_content").css("display")=="none"){$("#"+d+" .mid_content").css("display","block");$("#"+d+" .resizeBttn").removeClass("leftArrow");$("#"+d+" .resizeBttn").addClass("downArrow")}else{$("#"+d+" .mid_content").css("display","none");$("#"+d+" .resizeBttn").removeClass("downArrow");$("#"+d+" .resizeBttn").addClass("leftArrow")}if($(".contentContainer").hasClass("chatOverlay")&&$("#"+d+" .mid_content").css("display")=="none"){var b=$(".chatOverlay").width();$(".chatOverlay").addClass("smallChatBox");var c=$(".chatOverlay").width();$(".chatOverlay").css({left:($(".chatOverlay").offset().left)+b-c})}else{var b=$(".chatOverlay").width();$(".chatOverlay").removeClass("smallChatBox");var c=$(".chatOverlay").width();$(".chatOverlay").css({left:($(".chatOverlay").offset().left)+b-c})}}function resizeOverlay(d,c,b){for(overlay in c){if(d==c[overlay]){if($("#"+c[overlay]+" .overlayContent").css("display")=="none"){$("#"+c[overlay]+" .overlayContent").css("display","block");$("#"+c[overlay]+" .resizeBttn").removeClass("leftArrow");$("#"+c[overlay]+" .resizeBttn").addClass("downArrow")}else{$("#"+c[overlay]+" .overlayContent").css("display","none");$("#"+c[overlay]+" .resizeBttn").removeClass("downArrow");$("#"+c[overlay]+" .resizeBttn").addClass("leftArrow")}}else{if(b!="noshow"){$("#"+c[overlay]+" .overlayContent").css("display","none");$("#"+c[overlay]+" .resizeBttn").removeClass("downArrow");$("#"+c[overlay]+" .resizeBttn").addClass("leftArrow")}}}}$(window).scroll(function(){hideMenu()});function hideMenu(){$("#optionscover").css("top","85%");$("#optionslist").hide()}function setOptionsTop(c,b){var d=(($(window).height()+$(window).scrollTop())-100)+"px";if(b){$("#options").animate({top:d,left:"0px"},c)}else{$("#options").css("top",d);$("#options").css("left","0px")}hideMenu()}function openMenu(){$("#optionscover").css("top","60%");$("#optionslist").show();$("#optionslist").css("filter","alpha(opacity=80)")}function submitOAuth(b){$("#oauth_provider_"+b).attr("checked",true);$("#new_user_ses").submit()}function acceptTerms(b){$("#terms .loader").show();$.get("/users/acceptterms?ver="+b,function(c){$("#terms .loader").hide();if(c.indexOf("invalid")>=0){quit()}else{$("#termsCover").remove();$("#terms").remove()}})}function loadTerms(){$.get("/users/showterms",function(b){$("body").append(b);$("#termsContents").niceScroll();$("#termsCover").show();$("#terms").show()})}function showOverlay(f,b){hideMenu();if($(window).height()<501){var e=$(window).scrollTop();$(".nerdSignin").css({top:e+10+"px"})}if(f=="followTech"){var c=$(window).height();$("#followTech").css("top",$(window).scrollTop()+25);$(".coverOverlays").hide();hideMenu();$("#followTech").show();swapOverlaySocial("overlays","followTech");$("#followTech .loader").show();var d=new Date().getTime();$.getJSON("/profile/techfollowlist?d="+d,function(j){for(var h=0,g=j.length;h<g;h++){$("#followTech #tech_"+j[h].techfollow.category_id).prop("checked","true");$("#followTech #tech_"+j[h].techfollow.category_id).prop("checked","checked")}$("#followTech .loader").hide()});$("#techfollow").height(c-100)}if(f=="friends"){$("#friendlist").css("top",$(window).scrollTop());$("#friendlist").show("slow",function(){$(".userprofilecover").niceScroll();$("#friendlist").css("filter","alpha(opacity=85)")});swapOverlaySocial("overlays","friendlist")}if(f=="searchoverlay"){$("#searchoverlay").show();if($("#searchoverlay").position().top<10){initialOverlayLoad(f)}else{swapOverlaySocial("overlays",f)}}if(f=="signinoverlay"){HideSigninValidationMSG();ResetSigninInputBoxes();$("body #pagewrapper").before('<div class="pageloader" style="z-index:11999;position:fixed;" id="signinCover"></div>');$("#signinCover").show();$("#signinoverlay").show();$("#user_session_login").focus()}if(f=="registerOverlay"){HideRegistrationValidationMSG();ResetRegistrationInputBoxes();if($("#signinCover").length>0){$("#signinCover").remove()}$("body #pagewrapper").before('<div class="pageloader" style="z-index:11999;position:fixed;" id="signinCover"></div>');grecaptcha.reset();$("#signinCover").show();$("#signinoverlay").hide();$("#registerOverlay").show();grecaptcha.reset();$(".socialRegisterOuter").show();$(".socialRegisterOuter #emailConfirm").focus();$("#registerOverlay form").hide();$("#registerOverlay form,.email_invalid,#new_user .fieldsRow span").hide();$("#emailConfirm,#new_user .fieldsRow input").val("")}if(f=="forgotPasswordOverlay"){hideGreenNoticeOfMainMsg();if($("#signinCover").length>0){$("#signinCover").remove()}$("body #pagewrapper").before('<div class="pageloader" style="z-index:11999;position:fixed;" id="signinCover"></div>');$("#signinCover").show();$("#signinoverlay").hide();$("#forgotPasswordOverlay").show();$("#forgotpassfrm #email").focus()}if(f=="resetPasswordOverlay"){if($("#signinCover").length>0){$("#signinCover").remove()}$("body #pagewrapper").before('<div class="pageloader" style="z-index:11999;position:fixed;" id="signinCover"></div>');$("#signinCover").show();$("#signinoverlay").hide();$("#resetPasswordOverlay").show();$("#resetPassFrm #user_password").focus()}}function hideGreenNoticeOfMainMsg(){$("#forgotpassfrmNotice").hide();$("#forgotResetMSG").show();$("#forgotpassfrm").show()}function HideSigninValidationMSG(){$("#user_session_login_error").hide();$("#user_session_login_blank_error").hide();$("#pass_session_password_error").hide();$("#pass_session_password_blank_error").hide()}function ResetSigninInputBoxes(){$("#user_session_login").val("");$("#user_session_password").val("")}function HideRegistrationValidationMSG(){$("#registerGreenNotice").hide();$("#user_error_name").hide();$("#user_blank_error").hide();$("#login_exist_error").hide();$("#valid_character_error").hide();$("#email_blank_error").hide();$("#email_error").hide();$("#email_exist_error").hide();$("#domain_error").hide();$("#cnfemail_error").hide();$("#cnfemail_blank_error").hide();$("#cnfemail_match_error").hide();$("#pass_blank_error").hide();$("#pass_error").hide();$("#passconf_blank_error").hide();$("#passconf_error").hide();$("#recaptcha_error").hide();$("#blank_recaptcha_error").hide()}function ResetRegistrationInputBoxes(){$("#user_login").val("");$("#user_email").val("");$("#user_password").val("");$("#user_password_confirmation").val("");$("#user_email_confirmation").val("")}function HideforgotPasswordOverlayErrorMSG(){$("#forgotpassfrm #email_error").css("display","none");$("#forgotpassfrmErrorMSG").hide();$("#email").val("")}function addTrans(){}function searchUsers(c){var b={success:showUserSearchResponse};$("#user-search").ajaxForm(b);$("#user-search").attr("action",c);$("#user-search").submit();$("#searchoverlay .overlayContent").html('<img src="/images/ajax-loade.gif" />')}function showUserSearchResponse(b,c){$("#searchoverlay .overlayContent").html(b);$("#searchoverlay .items").css("height","400px");$("#searchoverlay .items").css({"overflow-x":"hidden"});$("#searchoverlay .items").niceScroll({horizrailenabled:false});$("#searchoverlay .paginate a").each(function(){var d=$(this).attr("href");$(this).attr("href","javascript:searchUsers('"+d+"')")})}function searchUsersCompany(c){if(searchUsersStarted==false){var b={success:showUserSearchResponseCompany};$("#company_user_search").ajaxForm(b);$("#company_user_search").attr("action",c);$("#company_user_search").submit();$("#search_users form .loader").show();searchUsersStarted=true}}function showUserSearchResponseCompany(b,c){$("#search_users .overlayContent").html(b);if($("#search_users .overlayContent").find(".userprofilecover").html().trim()==""){$("#search_users .overlayContent").html("<p style='color:red'>No matches found</p>")}$(".userprofilecover").niceScroll();$("#search_users .paginate a").each(function(){var d=$(this).attr("href");$(this).attr("href","javascript:searchUsersCompany('"+d+"')")});$("#search_users form .loader").hide();searchUsersStarted=false;resetParentSize()}function checkForCompanyOrGroupPage(c){var b=false;if($("#companycheck #companyId").length>0){if($("#companycheck #companyId").val().length>0){if(c==$("#companycheck #companyId").val()){b=true}}}return b}function showCompanyStatusUpdates(f,d,c,e){var b="<div class='nerds-show'>";b=b+"<div class='nerds-row'>"+d+"</div>";b=b+"</div>";$("#latestCompanyUpdates").html(b+$("#latestCompanyUpdates").html())}function showStatusMessageHtml(b){if($("#statusoverlay").css("display")=="none"){count=count+1;$("#options #messagecount").html(count);$("#options #messagecount").css("display","block")}else{if($("#statusoverlay .overlayContent").css("display")=="none"){count=count+1;$("#statusoverlay .messagecount").html(count);$("#statusoverlay .messagecount").css("display","block");$("#options #messagecount").css("display","none")}else{count=0;$("#statusoverlay .messagecount").css("display","none");$("#options #messagecount").css("display","none")}}if($("#statusoverlay .userprofilecover").length>0){$("#statusoverlay .userprofilecover").html(b+$("#statusoverlay .userprofilecover").html())}if($("#mainiframe").length>0){$("#mainiframe")[0].contentWindow.showActivityMessage(b)}}function setstatus(c,d){var b={resetForm:true,success:showSetStatusResponse};$("#user-status #statusmessage").val(d);$("#user-status").ajaxForm(b);$("#user-status").attr("action",c);$("#user-status").submit();if($("#activityUpload")){$("#activityUpload")[0].contentWindow.showHideLoader(true)}}function showSetStatusResponse(b,c){$("#user-status #statusbox").val("");resetPrimaryBoxes();if(top==self){setmesg(b)}else{parent.setmesg(b)}if($("#activityUpload")&&$("#activityUpload")[0]){$("#activityUpload")[0].contentWindow.showHideLoader(false)}}var ajaxObject;function saveReco(f,c){$("#"+c+" .save").bind("click",function(g){g.preventDefault()});if($("#"+c+"_formsave").hasClass("disabled")){return}else{}var e={success:function(g,h){$("#"+f+" .errorText").html("Recommendation Sent..");setTimeout(function(){removeOver(c)},5000);$("#"+c+" .save").unbind("click")}};var b=1;var d="";if($("#"+f+" #recommendation_type").val()==-1){b=0;d=d+"Please select how you know the user."}if($("#"+f+" #recommendation_tech").val().length<1){b=0;d=d+"<br/>Please select skill you would like to recommend on."}if($("#"+f+" #recommendation_type").val()=="Other"&&$("#"+f+" #recommendation_other").val().length<3){b=0;d=d+"<br/>Please enter how you know the user."}if($("#"+f+" #recommendation_rating").val()=="0"){b=0;d=d+"<br/>Please provide rating."}if($("#"+f+" #recomendation").val().length<3){b=0;d=d+"<br/>Please enter description."}if(b==1){$("#"+f).ajaxForm(e);$("#"+f).submit();$("#"+c+"_formsave").addClass("disabled")}else{$("#"+f+" .errorText").html(d);$("#"+c+" .save").unbind("click")}}function mailSaveResponse(e,f){if(document.URL.indexOf("showpmb")>0){location.reload()}var d=e.resp.split(",");var c=new Array();var b;if(d.length>0){for(b=0;b<d.length;++b){if(d[b].length>0){c.push(d[b])}}}if(!($("#messageAlert").length>0)){$("body #pagewrapper").before('<div class="alert alert-error offlineMessageAlert" id="messageAlert"></div>')}if(c.length>0){$("#messageAlert").html('<button type="button" class="close" data-dismiss="alert" onclick="removeOver(\'messageAlert\')">&times;</button><h4>Warning!</h4>Message not sent to these users ('+c+") as they were not found in our database")}else{$("#messageAlert").html('<button type="button" class="close" data-dismiss="alert" onclick="removeOver(\'messageAlert\')">&times;</button><h4>Offline Message</h4>Your message is sent.')}$("#messageAlert").css("left",$("#pagewrapper .header").position().left)}function sendOfflineMessage(o,d){var r={success:mailSaveResponse};var h="";var m=true;var l=false;var f=$("#"+o+" #message_to").val();var c=$("#"+o+" #message_title").val();var q=$("#"+o+" #message_text").val();var g;if(c.length<=0){h="Subject is not valid";m=false}if(q.length<=0){h=h+"<p>Mail without any content.</p>";m=false}if(f.length>0){var p=$("#"+o+" #message_to").attr("readonly");var k=$("#"+o+" #message_to").attr("enabled");if(p==""||k==""||p===undefined||k===undefined){var n;if(f.indexOf(",")>=0){n=f.split(",")}else{n=new Array();n.push(f)}g=validateMailIds(n,o);if(g.length!=n.length){m=false;if(g.length>0){h="<br/>There are some invalid user id(s). <a href=\"javascript:clearInValidEmail('"+o+"')\">Clear Invalid data</a> "}else{h="No valid email id(s) found."}}}else{l=true}}else{m=false;h="No valid email id(s) found."}if(m==true){var b="";if(l==false){for(i=0;i<g.length;++i){b=b+g[i];if(i!=(g.length-1)){b=b+","}}}else{b=f+","}$("#"+o+" #to_user_id").val(b);$("#"+o).ajaxForm(r);$("#"+o).submit();try{reloadChildFrame("/users/inbox")}catch(j){}removeOver(d)}else{$("#"+o+" .errorText").html(h)}}function reloadChildFrame(b){if(document.getElementById("mainiframe").src.indexOf(b)>0){document.getElementById("mainiframe").contentWindow.location.reload()}}function keyPressFunc(b){if(b.keyCode==13){searchUsers("/social/usersearch")}}function clearInValidEmail(e){var d=$("#"+e+" #message_to").val();var g="";var c;var f;if(d.length>0){var b;if(d.indexOf(",")>=0){b=d.split(",")}else{b=new Array();b.push(d)}f=validateMailIds(b,e);for(c=0;c<f.length;++c){g=g+f[c];if(c!=(f.length-1)){g=g+","}}}$("#"+e+" #message_to").val(g);$("#"+e+" .errorText").html("")}function validateMailIds(b,h){var j=/^[A-Za-z0-9_]{3,20}$/;var c;var k=0;var g=new Array();for(c=0;c<b.length;++c){var e=b[c];if(e!=null&&e.length>0){var f=/\"([^\"]+)\"\s+\<([^\>]+)\>/g;var d=f.exec(e);if(d){e=d[2]}if(echeck(e)){g.push(e)}else{if(j.test(e)){g.push(e)}}}}return g}function recoSaveResponse(b,c){}function titleHeader(c,e,g,j,d){var b="removeOver";var f=c;if(j){b=j}if(d){f=d}var h='	<div id="'+c+'" class="contentContainer overlays chatOverlay offlineMessages '+g+'" style="position:absolute;top:0px;left:0px;display:none;" onclick="swapOverlaySocial(\''+g+"','"+c+"')\">";h=h+'<div class="top_mid_chat clear_both">';h=h+'<div class="blogheader">';h=h+'<span class="closeblog" onclick="'+b+"('"+f+"');\" ></span>";h=h+"<h1><span>&nbsp;</span>"+e+"</h1></div>";h=h+"</div>";h=h+'<div class="mid_mid_chat clear_both" >';h=h+'<div class="mid_content usersChat">';return h}function titleHeaderChat(c,e,g,j,d){var b="removeOver";var f=c;if(j){b=j}if(d){f=d}var h='	<div id="'+c+'" class="contentContainer overlays chatOverlay '+g+'" style="position:absolute;top:90px;left:110px;display:none;" onclick="swapOverlaySocial(\''+g+"','"+c+"')\">";h=h+'<div class="top_mid_chat clear_both">';h=h+'<div class="blogheader">';h=h+'<span class="closeblog" onclick="'+b+"('"+f+"');\" ></span>";h=h+"<h1><span>&nbsp;</span>"+e+"</h1></div>";h=h+"</div>";h=h+'<div class="mid_mid_chat clear_both" >';h=h+'<div class="mid_content">';return h}function removeOver(b){$("#"+b).remove()}function titlefooter(){var b="</div></div>       </div>";b=b+'<div class="bottom_left"></div><div class="bottom_mid" style="width:580px;"></div><div class="bottom_right"></div></div>';return b}function titlefooterChat(){var b="</div></div>";b=b+"</div>";return b}function getRecomendationHTML(d,e,b,c){var f=titleHeader(d,e,"overlays");f=f+'<form action="/social/reco" id="'+d+'_form" name="'+d+'_form" method="post">';f=f+'<div class="fields"><label>Know him</label><select id="recommendation_type" name="recommendation_type" onchange=\'openOtherBox("'+d+'")\'></select><label></label><input style="box-sizing:border-box; height:32px;display:none" type="text" id="recommendation_other" name="recommendation_other" /> </div>';f=f+'<div class="fields"><label>Select Skill</label><select id="recommendation_tech" name="recommendation_tech"></select></div>';f=f+'<div class="fields"><label class="textAreaLabel">Rating</label><div class="pagination"><ul><li><a href="javascript:doNothing()">1</a></li><li><a href="javascript:doNothing()">2</a></li><li><a href="javascript:doNothing()">3</a></li><li><a href="javascript:doNothing()">4</a></li><li><a href="javascript:doNothing()">5</a></li><li><a href="javascript:doNothing()">6</a></li><li><a href="javascript:doNothing()">7</a></li><li><a href="javascript:doNothing()">8</a></li><li><a href="javascript:doNothing()">9</a></li><li><a href="javascript:doNothing()">10</a></li></ul></div>';f=f+'<label class="textAreaLabel">Description:</label><textarea maxlength="255" id="recomendation" name="recomendation" class = "overlaytextarea" style="width:95%;height:80px;"></textarea><p style="color: #2a374c;">Cannot exceed more than 255 characters</p><input type="hidden" id="user_id" name="user_id" value="'+b+'" /><input type="hidden" id="user_login" name="user_login" value="'+c+'" /></div>';f=f+'<div class="fields errorText"></div>';f=f+'<div class="fields commentBtnGrp"><input type="hidden" id="recommendation_rating" name="recommendation_rating" value="0"><a id="'+d+'_formsave" href="javascript:saveReco(\''+d+"_form','"+d+'\')" class="changeTerm btn recoSaveBtn" style="margin-bottom: 10px;">Save</a></div>';f=f+"</form>";f=f+titlefooter();return f}function openOtherBox(b){if($("#"+b+" #recommendation_type").val()=="Other"){$("#"+b+" #recommendation_other").show()}else{$("#"+b+" #recommendation_other").hide()}}function removeRoomOverlay(c){var b=c+"_conference";doSubUnavail(c);removeOver(b)}function getRoomHTML(c,e,d){var g=titleHeaderChat(c,e,"overlays","removeRoomOverlay",d);g=g+"<div class='usersOnline clear_both'><div class='leftSectionChat'><p class='totalUser'><span>0 </span> Members, </p><p class='totalOnlineUsers'><span>1</span> Online <button type='button' onclick='expandUserList()' class='expandList'></button></p></div>";var b=d.substr(0,2);var f=d.substr(2);if(b=="c_"){g=g+"<div class='historyBox'><a href='javascript:getCompanyLogs();' title='Get Room Chat History'></a></div>"}if(b=="p_"){g=g+"<div class='historyBox'><a href='javascript:getProjectLogs(\""+f+"\");' title='Get Room Chat History'></a></div>"}g=g+"<div class='chatpresence' id='"+d+"_presence'>";g=g+"</div></div>";g=g+"<div class='usersChat'>";g=g+"<div class='chatconference' id='"+d+"_conference_display'><div class='spaceForScroll'></div></div>";g=g+"<div class='inputCover'><textarea id='"+d+"_conference_chatm' class='chattextarea' placeholder='Type here...'></textarea></div>";g=g+titlefooterChat();return g}function getOfflineHTML(c,f,b,d){var e="value=''";if(!(d===undefined||typeof d==="undefined")){e='value="'+d+'" enabled="false" readonly'}var g=titleHeader(c,f,"overlays");g=g+'<form action="/list/saveoffline" id="'+c+'_form" name="'+c+'_form" method="post" onSubmit="return false">';g=g+'<div class="fields" style="position:relative;"><label class="textAreaLabel">To</label><input type="text" id="message_to" name="message_to" class="textFieldFull" '+e+"  /></div>";g=g+'<div class="fields"><label class="textAreaLabel">Subject</label><textarea id="message_title" name="message_title" style="width:95%;min-height:10px; resize: none;"></textarea></div>';g=g+'<div class="fields"><label class="textAreaLabel">Message:</label><textarea id="message_text" name="message_text" style="width:95%;min-height:80px;resize:none;" ></textarea><input type="hidden" id="to_user_id" name="to_user_id" /><input type="hidden" id="message_parent_id" name="message_parent_id" /></div>';g=g+'<div class="fields errorText"></div>';g=g+'<div class="fields commentBtnGrp" style="margin-bottom: 10px;"><a href="javascript:sendOfflineMessage(\''+c+"_form','"+c+'\')" class="changeTerm btn">Save</a><img class="loader" src="/stylesheets/new/images/ajax-loader.gif" /></div>';g=g+"</form>";g=g+titlefooter();return g}function getMessageHTML(b,d,c){var e=titleHeader(b,d,"overlays");e=e+'<div class="invite_'+b+'"></div>';e=e+'<form action="/social/reco" id="'+b+'_form" name="'+b+'_form" method="post">';e=e+'<div class="fields"><div id="'+b+'_chat" name="'+b+'_chat" class = "chatdisplayarea"></div></div>';e=e+'<div class="fields inputCover"><textarea id="'+b+'_chatm" name="'+b+'_chatm" class = "chattextarea" placeholder="Type here..."></textarea></div><input type="hidden" name="tousername" value="'+c+'">';e=e+'<!--<div class="fields"><a href="javascript:sendChatMessage(\''+b+'\')" style="float:left;margin-left:10px;">Send</a></div>-->';e=e+"</form>";e=e+titlefooter();return e}function openRecoOverlay(d,e,c){if(top==self){var b="reco_"+d;var f=false;if($("#"+b).length>0){swapOverlaySocial("overlays",b)}else{var g=getRecomendationHTML(b,"Recommend "+c,d,c);$("body").append(g);$("#application #youKnow >option").each(function(){var h=new Option(this.text,this.value);$("#"+b+" #recommendation_type").append(h)});$("#application #technologies >option").each(function(){var h=new Option(this.text,this.value);$("#"+b+" #recommendation_tech").append(h)});$("#"+b+" .pagination li a").each(function(){$(this).click(function(){selectRecoRating(b,$(this).html())})});f=true;showGeneralOverlays(b,f)}}else{parent.openRecoOverlay(d,e,c)}}function selectRecoRating(b,c){$("#"+b+" .pagination li a").each(function(){var e=parseInt(trim($(this).html()));var d=parseInt(trim(c));if(e<=d){$(this).addClass("ratingColor")}else{$(this).removeClass("ratingColor")}$("#"+b+" #recommendation_rating").val(c)})}function doGetCaretPositionJ(c){var d=0;if(document.selection){c.focus();var b=document.selection.createRange();b.moveStart("character",-c.val());d=b.text.length}else{if(c.selectionStart||c.selectionStart=="0"){d=c.selectionStart}}return(d)}function messageReplyBox(c,d,e,f){if(top==self){openOfflineOverlay(c,d);var b="off_"+c+"";$("#"+b+" #message_title").val(e);$("#"+b+" #message_parent_id").val(f)}else{parent.messageReplyBox(c,d,e,f)}}function openOfflineOverlay(c,d){if(top==self){if(c===undefined||typeof c==="undefined"){c="new"}var b="off_"+c;var f=false;if($("#"+b).length>0){swapOverlaySocial("overlays",b)}else{var h=getOfflineHTML(b,"Offline Message",c,d);$("body").append(h);try{$("#"+b+" #message_text").autosize();$("#"+b+" #message_title").autosize()}catch(g){$("#"+b+" #message_text").css("height","200px")}f=true;if(d===undefined||typeof d==="undefined"){$("#"+b+" #message_to").jsonSuggestEmail({url:"/users/findFriendByString",maxResults:20,onSelect:function(l){var k=$("#"+b+" #message_to").val();var e=doGetCaretPositionJ($("#"+b+" #message_to")[0]);var m=k.lastIndexOf(",",e-1);var j=k.indexOf(",",e);m=m+1;if(j<0){j=k.length}$("#"+b+" #message_to").val(k.slice(0,m)+'"'+l.text+'" <'+l.id+">"+k.slice(j,k.length))},minCharacters:3,maxHeight:300,width:"100%"})}showGeneralOverlays(b,f)}}else{parent.openOfflineOverlay(c,d)}}function selectedUserName(b){}function openMessageOverlay(g,c){var b=g.replace(/\./g,"_")+"_"+c.replace(/\./g,"_");var f=false;if($("#"+b).length>0){swapOverlaySocial("overlays",b)}else{var d="";if(!checkonlineList(c)){d="(offline)";try{checkOnline(c)}catch(h){}}var j=getMessageHTML(b,"Chat with "+c+d,c);$("body").append(j);$("#"+b+" #"+b+"_chatm").keypress(function(e){if(e.which==13){if($("#"+b+" #"+b+"_chatm").val().length>0){sendChatMessage(b)}e.preventDefault();return false}});f=true;showGeneralOverlays(b,f)}}function showGeneralOverlays(e,b){var d=$(window).width();var g=getHighestOverlayZindex("overlays");var j;j=950;var c=0;var h=0;if(g!=null&&b){j=parseInt($("#"+g).css("z-index"));j=j+1}var l=getHighestOverlayZindexWithLeft("overlays",100);$("#"+e).css("z-index",j);$("#"+e).css("display","block");if(l!=null&&b&&l!=e){h=$("#"+l).position().top+40}if(b){$("#"+e).css("left",c);var f=window.location.href;var k=f.split("&id=")[0].split("value=")[1];if(d>768){$("#"+e).draggable({handle:".top_mid"});if(k=="Tasks and Bugs"||k=="Tasks%20and%20Bugs"){$("#"+e).draggable({handle:".top_mid_chat",containment:"window"})}else{$("#"+e).draggable({handle:".top_mid_chat",containment:"parent"})}$("#"+e).css("top",h)}else{$("#"+e).css("top","70px")}}scrollToTop(h)}function swapOverlaySocial(e,b){var g=getHighestOverlayZindex(e);if(g!=null){var k=$("#"+g).position().left;var h=$("#"+g).css("z-index");var c=$("#"+b).css("z-index");$("#"+b).css("z-index",h);$("#"+g).css("z-index",c);var j=getHighestOverlayZindexWithLeft(e,k);if(j!=g&&j!=b){var d=$("#"+j).css("z-index");$("#"+g).css("z-index",d);$("#"+j).css("z-index",c)}if(g!=null&&$("#"+b).position().left<30){if(($("#"+g).position().left>=$("#"+b).position().left-100)&&($("#"+g).position().left<=$("#"+b).position().left+100)){var f=parseInt($("#"+g).position().top);if(g!=b&&$("#"+g).position().top==$("#"+b).position().top){f=f+40}if(g!="trackeroverlay"){$("#"+g).css("top",$("#"+b).position().top)}if(b!="trackeroverlay"&&b!="signinoverlay"&&b!="registerOverlay"){$("#"+b).css("top","25px")}scrollToTop(f)}}}}function scrollToTop(d){var b=window.pageYOffset;var c=Math.abs(d-b);if(c>150){if(self==d){window.scrollTo(0,d)}else{parent.window.scrollTo(0,d)}}}function openMOverlay(b){b=b.toLowerCase();if(top==self){var c=document.application.chatuser.value;openMessageOverlay(c,b)}else{parent.openMOverlay(b)}}function showMessage(d,f){openMOverlay(d);var e=document.application.chatuser.value;var b=e.replace(/\./g,"_")+"_"+d.replace(/\./g,"_");var c=$("#"+b+" h1").html();var c=c.replace("offline","");var c=$("#"+b+" h1").html(c);$("#"+b+" #"+b+"_chat").append("<div class='rightChatMsg singleChat rightSideChat'><a target='mainiframe' class='heading'>"+d+"</a>"+f+"</div>");document.getElementById(b+"_chat").scrollTop=document.getElementById(b+"_chat").scrollHeight}function showInivitation(d,f,c){f="<div style='float:left;width:96%;margin-left:2%; padding-top:3px;padding-bottom:3px;margin-top:1px;margin-bottom:1px;padding-left:2px;background-color:pink'>Invitation to <a href='javascript:moveToConf("+d+")'>Join Conference</a> by <a href='javascipt:showUser(\"teste3\")'>teste3</a></div>";openMOverlay(d);var e=document.application.chatuser.value;var b=e+"_"+d;$("#"+b+" .invite_"+b).append(f)}function getHighestOverlayZindex(f){var g="";var c=0;var e=0;var d=30;var b=950;$("."+f).each(function(){if($(this).css("display")!="none"){if((c<parseInt($(this).css("z-index")))&&this.id!="trackeroverlay"){c=parseInt($(this).css("z-index"));g=this.id}}});if(c!=0){return g}else{return null}}function getHighestOverlayZindexWithLeft(f,e){var g="";var c=0;var e=0;var d=30;var b=950;$("."+f).each(function(){if($(this).css("display")!="none"){if(this.id!="trackeroverlay"){if(c<parseInt($(this).css("z-index"))&&(parseInt($(this).position().left)<=(e+100)&&parseInt($(this).position().left)>=(e-100))){c=parseInt($(this).css("z-index"));g=this.id}}}});if(c!=0){return g}else{return null}}function setFollower(d,b,c){$("#"+c+" .statusLoader").show();$.get("/social/follow?id="+d+"&username="+b+"&conver="+c,function(e){var f=$("#"+c+" a.follow");f.attr("title","Chat");b=b.toLowerCase();if(b.indexOf("@")>-1){b=b.replace("@","_")}f.attr("href","javascript:openMOverlay('"+b+"')");$("#"+c+" .follow span").html("Chat");f.removeClass("follow");f.addClass("chat");$("#"+c+" .statusLoader").hide()})}function setFollowerShare(d,c,f,e){c=c.toLowerCase();var b="#"+e+"_"+d+" .follow";$(b).each(function(){$(this).addClass("chat");$(this).attr("onClick","javascript:openMOverlay('"+c+"')");$(this).removeClass("follow")});sendSub(c);$.get("/social/follow/"+f,function(g){if($("#followoverlay .userprofilecover").length>0){$("#followoverlay .userprofilecover").append(g)}})}function showFollowOverlay(e,d,c){var b=$(window).width();$("#followTech, #statusoverlay, .conversationOverlay").hide();if(e=="followoverlay"){$("#followeroverlay").hide()}else{$("#followoverlay").hide()}hideMenu();if($("#"+e+" .userprofilecover").length>0&&c){$("#"+e).show();swapOverlaySocial("overlays",e)}else{$("#"+e+" .overlayContent").html('<img class="loader" src="/stylesheets/new/images/ajax-loader.gif" />');$.get(d,function(f){$("#"+e+" .overlayContent").html(f);$("#"+e+" .paginate a").each(function(){var g=$(this).attr("href");$(this).attr("href","javascript:showFollowOverlay('"+e+"','"+g+"',false)")});$("#"+e).show();$(".signOutBlock,#signOutOverlay").hide();if(c){initialOverlayLoad(e)}$("#"+e+" .userprofilecover").niceScroll()})}}function initialOverlayLoad(f){var c=$(window).width();var e=getHighestOverlayZindex("overlays");var b;b=1001;var d=0;if(e!=null){b=parseInt($("#"+e).css("z-index"));b=b+1;d=parseInt($("#"+e).position().top);d=d+40}$("#"+f).css("z-index",b);if(f!="trackeroverlay"){$("#"+f).css("top",d+25)}if(c<768){$("#"+f).css("top","50px")}scrollToTop(d)}function showStatusOverlay(e,d,c){var b=$(window).width();$(".coverOverlays").hide();if(c){hideMenu()}if($("#"+e+" .userprofilecover").length>0&&c){$("#"+e).show();swapOverlaySocial("overlays",e)}else{$.get(d,function(f){$("#"+e+" .overlayContent").html(f);$("#"+e+" .paginate a").live("click",function(){var g=this.href;showStatusOverlay(e,g,false);return false});if(c){initialOverlayLoad(e)}$("#"+e).show();$(".signOutBlock,#signOutOverlay,.projectSignout").hide();$("#"+e+" .userprofilecover").niceScroll();resetParentSize()})}}function resetParentSize(c){if(top===self){}else{var h=document.body,f=document.documentElement;var e=jQuery(window.parent).scrollTop();$("#mainiframe",window.parent.document).height(500+"px");var k=Math.max(h.scrollHeight,h.offsetHeight,f.clientHeight,f.scrollHeight,f.offsetHeight,500);if(c){k=k+c}var d=$(window.parent.document).height();d=d-100;if(k>d){$("#mainiframe",window.parent.document).height(k+"px")}else{$("#mainiframe",window.parent.document).height(d+"px")}var j=d-150;var b=$(".header-top").height();$("#leftContent").css({"min-height":j});var g=d-b-100;$(".middleHome").css({"min-height":g});$("#q",window.parent.document).val("");jQuery(window.parent).scrollTop(e)}}function scrollToPageTop(){window.scrollToTop()}function saveToHistory(){try{if(window.history&&window.history.pushState){$(window).on("popstate",function(){var c=window.location.hash;var f=c.split("url=");if(f.length>1){var e=decodeURIComponent(f[1]);var d=decodeURIComponent(newUrl);if(d.indexOf(e)>=0){}else{document.getElementById("mainiframe").src=e}}})}}catch(b){alert(b)}}function showImageDataM(c,b){$("#imageListMessage_"+b).attr("src",c);return false}function resetParentSizeFromPage(b){if(top===self){location.href="/account/#url="+b}else{resetParentSize();parent.scrollToPageTop()}}function openFaceBookLink(b,k,c){var d="http://www.facebook.com/share";var h=encodeURIComponent;var g=".php?src=bm&v=3&u="+h(b.href)+"&t="+h(k);try{if(!/^(.*\.)?facebook\.[^.]*$/.test(c)){throw (0)}}catch(j){a=function(){if(!window.open(d+"r"+g,"sharer","toolbar=0, status=0, resizable=0, width=626, height=436")){document.location.href=d+g}};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}}void (0)}function completeCompanyChatWindow(c){var b='<div class="chatpresence" id="c_'+c+'_presence"></div>';b=b+'<div class="chatconference" id="c_'+c+'_conference_display"></div>';b=b+'<textarea id="c_'+c+'_conference_chatm" class="chattextarea"></textarea>';b=b+"<a title='Click to send message' class='ajaxCall statusUpdateButton' style='margin-top: 2px;' href=javascript:sendChatMessage(\"company_conference\",\"c_"+c+'")></a>';b=b+'<div class="historybox"> <a href="javascript:getCompanyLogs();" title="Get Complete Company Chat History">&nbsp;</a></div>';$("#company_conference .overlayContent").append(b);roomsToJoin.push("c_"+c);sendPresenceGroups();$("#c_"+c+"_conference_display").corner("4px");$("#c_"+c+"_conference_chatm").corner("4px");$("#c_"+c+"_presence").corner("4px")}function getCompanyLogs(){window.open("/company/getChatLogs","Logs","toolbar=0, status=0, resizable=0, width=400, height=300,,scrollbars=yes")}function getProjectLogs(b){window.open("/project/getChatLogs?id="+b,"Logs","toolbar=0, status=0, resizable=0, width=400, height=300,,scrollbars=yes")}function getSendUserName(b){var c=$("#"+b+" input[name='tousername']").val();return c}function sendChatMessage(overlayid,roomname){var conference=false;if(overlayid.indexOf("_conference")>0){conference=true}var to=getSendUserName(overlayid);var chatBoxNameExt=overlayid;if(roomname){chatBoxNameExt=roomname+"_conference";to=roomname}var message=$("#"+overlayid+" #"+chatBoxNameExt+"_chatm").val();if(conference==true){var json='{"message":"'+message+'","time":"'+getServerTime()+'"}';var on=eval("("+json+")");message=json}sendDirectMessage(to,message,conference);if(conference==false){var fromuser=document.application.username.value;$("#"+overlayid+" #"+overlayid+"_chat").append("<div class='rightChatMsg singleChat'><a target='mainiframe' class='heading'>"+fromuser+"</a>"+message+"</div>");document.getElementById(overlayid+"_chat").scrollTop=document.getElementById(overlayid+"_chat").scrollHeight}$("#"+overlayid+" #"+chatBoxNameExt+"_chatm").val("")}function sendConferenceMessage(to,message,conference){var logo=$("#application #user_logo").val();var json='{"message":"'+message+'","time":"'+getServerTime()+'","logo":"'+logo+'"}';var on=eval("("+json+")");message=json;sendDirectMessage(to,message,conference)}function doNothing(b){}function checkEnter(d,f,c){var b;if(d&&d.which){d=d;b=d.which}else{b=d.keyCode}if($.trim(c.value)==""){c.value=c.value.trim()}if(d.which===32&&d.target.selectionStart===0){d.preventDefault();return false}if(b==13){if(c.value.length>0){c.value=c.value.trim();document.getElementById(f).submit();return false}else{return false}}else{return true}}function validateSearchForm(b,c){if($("#"+b+" #q").val()=="Search..."||$("#"+b+" #q").val()=="Search..."||$("#"+b+" #q").val().length<1){return false}else{return true}}function clearText(b){if(b.value=="Search Our Site"||b.value=="Search..."||b.value=="Search..."){b.value=""}}function pageLoaderShow(){$("body .pageloader").css("height",$("#main").height());$("body .pageloader").css("width",$("#main").width());$("body .tagLoader").css("width","100%");$("body .pageloader").css("opacity","0.5");$("body .pageloader").show();$("body .pageloader img").css("left",$("#main").width()/2-50);$("body .pageloader img").css("top",$("#main").height()/2-100)}function getServerTime(){var b=parseInt(parseFloat($("#application #servertime").val())*1000);var d=new Date();var c=d.getTime()-pageLoadTime.getTime();b=b+c;return b}function ReadCookie(e){var c=""+document.cookie;var d=c.indexOf(e);if(d==-1||e==""){return""}var b=c.indexOf(";",d);if(b==-1){b=c.length}return unescape(c.substring(d+e.length+1,b))}function pageLoaderHide(){$("body .pageloader").css("display","none")}$.preloadCssImages=function(c){c=jQuery.extend({imgDir:"images"},c);var h=document.styleSheets;var l="";for(var f=0;f<h.length;f++){var k=document.styleSheets[f].cssRules;for(var e=0;e<k.length;e++){l+=k[e].cssText}}var b=[];var d=l.match(/[^\/]+\.(gif|jpg|jpeg|png)/g);if(d!=null&&d.length>0&&d!=""){var g=jQuery.makeArray(d);$(g).each(function(j){b[j]=new Image();b[j].src=c.imgDir+"/"+this})}return b};function acceptInvite(e,c,b,d){var f=".acceptCompanyLink";if(b==0){f=".rejectCompanyLink"}$("#"+d+" .loader").show();$.get("/company/acceptinvite?messageId="+e+"&compId="+c+"&accept="+b,function(g){setCompanyId(c);$("#"+d+" "+f).attr("href","javascript:doNothing()");$("#"+d+" .loader").hide();$("#"+d+" #error_message").show();$("#"+d+" #error_message").html(g);setTimeout(function(){closeOver(d)},8000)})}function statusTextOut(){if($("#user-status textarea").val().length<=0){$("#user-status textarea").val("Compose your status...");$(this).removeClass("expandText");$("#user-status #activityUpload").hide()}}function clearChildFrameIframe(){$("#activityUpload")[0].contentWindow.clearFileInput();var b=$(window).height();$(".snap-drawers #activity .userprofilecover").height(b-250)}function showUserShare(b){$(b+" .userShare").show()}function hideUserShare(b){$(b+" .userShare").hide()}function showAddLinkStatus(b){$(b+" .addLinkCover").show();var c=$(window).height();$(".snap-drawers #activity .userprofilecover").height(c-300)}function is_valid_url(b){return b.match(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/)}function doneAddLinkf(c){var b=$(c+" #addLinkInput").val();if(b.length<2||!is_valid_url(b)){$("#activityDisplay #activityUpload").height(61);$("#activityUpload")[0].contentWindow.showHideLinkError(true)}else{$(c+" #doneAddLink").hide();$(c+" .addLinkCover span").css("display","inline-block");$(c+" #addLinkInput").css("width","93%");$(c+" #addLinkInput").css("background-color","#eee");$(c+" #addLinkInput").attr("readonly","");$(c+" #addLinkInput").attr("disabled","true");$("#activityUpload")[0].contentWindow.showHideLinkError(false);$("#activityDisplay #activityUpload").height(31)}}function clearAddLink(c){var b=$(c+" #addLinkInput").val("Paste link here...");$(c+" .addLinkCover span").css("display","none");$(c+" #addLinkInput").css("width","79%");$(c+" #addLinkInput").css("background-color","#fff");$(c+" #addLinkInput").removeAttr("readonly");$(c+" #addLinkInput").removeAttr("disabled");$(c+"#sendButton").focus();$("#user-status #doneAddLink").show();$("#activityUpload")[0].contentWindow.showHideLinkError(false)}function showStatusDetails(d,c,j,b,h,g,e){var f="";var k=j.lastIndexOf("/");img_name=j.substring(k+1);img_id=img_name.split(".");imgid=img_id[0];if($(d).attr("class")=="statusExpand"&&$(g+" .messageDetails").html().length<2){if(j.length>0){f=f+"<div class='statusImage'><a href=#><img id="+imgid+" onclick=ShowImagePoupUp('"+imgid+"') src='"+j+"'/></a></div>"}if(h.length>0){$(g+" ul.statusLinks li.statusLoader").show();$.get("/uploadfile/getLinkContent/?link="+encodeURI(h),function(l){f=f+l;$(g+" ul.statusLinks li.statusLoader").hide();$(g+" .messageDetails").html(f);$(e+" .userprofilecover").scrollable("refresh");resetParentSize()})}else{$(g+" .messageDetails").html(f)}$(d).attr("class","statusCollapse");$(d).attr("title","Hide Details(Collapse)")}else{if($(d).attr("class")=="statusCollapse"&&$(g+" .messageDetails").html().length>1){$(g+" .messageDetails").hide();$(d).attr("class","statusExpand");$(d).attr("title","Show Details(Expand)")}else{if($(d).attr("class")=="statusExpand"&&$(g+" .messageDetails").html().length>1){$(g+" .messageDetails").show();$(d).attr("class","statusCollapse");$(d).attr("title","Hide Details(Collapse)")}}}$(e+" .userprofilecover").scrollable("refresh");resetParentSize();return false}function bindActivityBox(){$("#user-status textarea").focus(function(){openTextArea(this)});$("#user-status #addLinkInput").focus(function(){if($(this).val()=="Paste link here..."){$(this).val("")}})}function openTextArea(b){if($(b).val()=="Compose your status..."||$(b).val()=="Reply to status..."){$(b).val("");$(b).addClass("expandText");$("#activityUpload").show();resetParentSize()}}function moveReplyBox(b,d){var c=$(window).height();$(".snap-drawers #activity .userprofilecover").height(c-($("#primaryActivityInputCover").height()+130));if(activityInnerHTML.length<=1){activityInnerHTML=$("#primaryActivityInputCover").html()}if($("#user-status").length>0){resetPrimaryBoxes()}if($(b).attr("id")=="primaryActivityInputCover"){$(b).html(activityInnerHTML)}else{$(b).append('<div class="inputCover">'+activityInnerHTML+"</div>");$(b+" #activityUpload").attr("src","/uploadfile/view/2")}$("#user-status #parentStatusId").val(d);if(d>0){$("#user-status textarea").val("Reply to status...")}bindActivityBox()}function openPrimaryBox(){moveReplyBox("#primaryActivityInputCover","0");openTextArea("#user-status textarea");$("#user-status textarea").focus()}function resetPrimaryBoxes(){if($("#user-status").parent().attr("id")=="primaryActivityInputCover"){$("#primaryActivityInputCover").html('<div class="replacementForm" onclick="openPrimaryBox()">Compose your status...</div>')}else{$("#user-status").parent().remove()}}function showConversation(c){if(top==self){var b="conversation-"+c;if($("#"+b).length>0){showGeneralOverlays(b,false)}else{$.get("/social/getStatusByParentId/?parentId="+c,function(d){$("body").append(d);$(".coverOverlays").hide();showGeneralOverlays(b,true);$("#"+b).show().css({top:"25px"});$("#"+b+" .userprofilecover").niceScroll()})}}else{parent.showConversation(c)}}function savePayment(f,d,c){var e={success:showResponsePayment};$("#paymentform").ajaxForm(e);var g=$("#paymentform #prevdetails").val();var b=0;if($("#paymentform #payment_firstname").val().length<1){$("#firstname_error").css("display","block");b=1}else{if($("#paymentform #payment_lastname").val().length<1){$("#firstname_error").css("display","block");b=1}else{$("#firstname_error").css("display","none")}}if(!parseInt(g)>0){if(!isValidCreditCard($("#paymentform #creditCardType").val(),$("#paymentform #creditCardNumber").val())){$("#card_error").css("display","block");b=1}else{if($("#paymentform #cvv2Number").val().length<1){$("#card_error").css("display","block");b=1}else{$("#card_error").css("display","none")}}}if($("#paymentform #address").val().length<1){$("#address_error").css("display","block");b=1}else{$("#address_error").css("display","none")}if($("#paymentform #city").val().length<1){$("#city_error").css("display","block");b=1}else{$("#city_error").css("display","none")}if($("#paymentform #zip").val().length<1){$("#zip_error").css("display","block");b=1}else{$("#zip_error").css("display","none")}if($("#paymentform #countrycode").val()=="US"){if($("#paymentform #stateUS").val()==-1){$("#state_error").css("display","block");b=1}else{$("#state_error").css("display","none")}}else{if($("#paymentform #stateOther").val().length<1){$("#state_error").css("display","block");b=1}else{$("#state_error").css("display","none")}}if($("#paymentform #countrycode").val()==-1){$("#country_error").css("display","block");b=1}else{$("#country_error").css("display","none")}if(b==0){$("#paymentform").submit();$("#paymentform #pay .loader").show()}}function showResponsePayment(b,c){$("#paymentform #pay .loader").hide();$("#paymentForm").html(b)}function getBillingInformation(e,d,c){var b=$("#"+d+" #"+c).val();if(parseInt(b)==-1){$("#"+d).clearForm();$("#"+d+" #billingingid").val("-1");$("#"+d+" #expYear").attr("selectedIndex",0);$("#"+d+" #expMonth").attr("selectedIndex",0);$("#"+d+" #creditCardType").attr("selectedIndex",0);$("#"+d+" #stateUS").attr("selectedIndex",0);$("#"+d+" #countrycode").attr("selectedIndex",0);$("#"+d+" #"+c).attr("selectedIndex",0);$("#card_detail").css("display","block");$("#lastfour").css("display","none");resetParentSize()}else{$("#"+e+" .loader").show();$.getJSON("/project/getBillingDetails/"+b,function(f){if(f.length>0){var g=f[0].billingdetails;$("#"+d+" #countrycode").val(g.country);$("#"+d+" #stateUS").val(g.state);$("#"+d+" #stateOther").val(g.state);$("#"+d+" #expYear").val(g.expyear);$("#"+d+" #expMonth").val(g.expmonth);$("#"+d+" #creditCardType").val(g.creditcardtype);$("#"+d+" #city").val(g.city);$("#"+d+" #payment_firstname").val(g.firstname);$("#"+d+" #payment_lastname").val(g.lastname);$("#"+d+" #address").val(g.address);$("#"+d+" #address2").val(g.address2);$("#"+d+" #zip").val(g.zipcode);$("#"+d+" #billingingid").val(g.id);$("#card_detail").css("display","none");$("#lastfour").css("display","block");$("#cardtype").html(g.creditcardtype);$("#cardnum").html("xxxx xxxx xxxx "+g.lastfour);$("#cardexp").html(g.expmonth+" "+g.expyear);$("#"+d+" #creditCardNumber").val(g.lastfour);resetParentSize()}$("#"+e+" .loader").hide()})}}function openMilestoneHistory(c){var d=c.split("_");if(c===undefined){if(!$("#milestonesPrev span").hasClass("minus")){$("#milestonesPrev span").addClass("minus");$("#milestonesPrevDetails").show();setHeight()}else{$("#milestonesPrev span").removeClass("minus");$("#milestonesPrevDetails").hide()}}else{if(!$("#"+c+" #milestonesPrev span").hasClass("minus")){$("#"+c+" #milestonesPrev span").addClass("minus");$("#"+c+" #milestonesPrevDetails").show();$("#"+c+" #milestonesPrevDetails").css({height:"auto","overflow-x":"hidden"});if(d[0]=="sessionDetailsCover"){$("#"+c+" #milestonesPrevDetails").css({height:"240"})}$(".termsBox").css({height:"","overflow-x":"hidden"});var b=$("div.termsBox:last").attr("id");var e=$("div.termsBox:last").find("div:last-child").prop("id");if(!($("#"+c+" #milestonesPrevDetails #"+e).length)){$("#"+c+" #milestonesPrevDetails").append($("#"+b).html())}$("#"+b).hide();setHeight()}else{$("#"+c+" #milestonesPrev span").removeClass("minus");$("#"+c+" #milestonesPrevDetails").hide();$("div.termsBox:last").show();if($("#projectacceptformdiv").length>0){$(".termsBox").css("height","")}else{$(".termsBox").css("height","471px")}}}resetParentSize()}function isValidCreditCard(e,b){if(e=="Visa"){var d=/^4\d{3}-?\d{4}-?\d{4}-?\d{4}$/}else{if(e=="MasterCard"){var d=/^5[1-5]\d{2}-?\d{4}-?\d{4}-?\d{4}$/}else{if(e=="Discover"){var d=/^6011-?\d{4}-?\d{4}-?\d{4}$/}else{if(e=="Amex"){var d=/^3[4,7]\d{13}$/}else{if(e=="Diners"){var d=/^3[0,6,8]\d{12}$/}}}}}if(!d.test(b)){return false}b=b.split("-").join("");var f=0;for(var c=(2-(b.length%2));c<=b.length;c+=2){f+=parseInt(b.charAt(c-1))}for(var c=(b.length%2)+1;c<b.length;c+=2){var g=parseInt(b.charAt(c-1))*2;if(g<10){f+=g}else{f+=(g-9)}}if((f%10)==0){return true}else{return false}}function deleteStatus(d,c,b){$(d+" ul.statusLinks li.statusLoader").show();$.get("/social/deleteStatus/?id="+c,function(e){$(b+" .userprofilecover").scrollable("refresh");$(d+" ul.statusLinks li.statusLoader").hide();$(d).remove()})}function markFavoriteStatus(e,d,b,c){$(e+" ul.statusLinks li.statusLoader").show();$.get("/social/markFavorite/?id="+d,function(f){$(c).addClass("statusFavourited");$(c).attr("onclick","javascript:void(0)");$(c).attr("title","Favourited");$(e+" ul.statusLinks li.statusLoader").hide()})}function getMore(b){if(b=="dataImageList1"||b=="dataImageList2"){$("#"+b+" ul").css({height:"auto"})}else{$("#"+b+" ul li").show()}$("#"+b)[0].focus();$("#"+b+" .viewMore").hide();$("#"+b+" .viewLess").show();resetParentSize();jQuery("#employees .gridData,#userprofilecover,.gridData").niceScroll({zindex:1,spacebarenabled:false,enablekeyboard:true,enablemousewheel:true,autohidemode:false,cursorwidth:"5px",cursoropacitymax:1,horizrailenabled:false,railalign:"right"})}function getLess(b){if(b=="dataImageList1"||b=="dataImageList2"){$("#"+b+" ul").css({height:"100px"})}else{$("#"+b+" ul li").hide();$("#"+b+" ul li:first-child,#"+b+" ul li:nth-child(2)").show()}$("#"+b)[0].focus();$("#"+b+" .viewLess").hide();$("#"+b+" .viewMore").show();resetParentSize()}function showAll(b){$("#"+b+" li").each(function(){if($(this).is(":hidden")&&!($(this).hasClass("delFromCmp"))){$(this).show()}});$("#"+b+" .viewLess").show();$("#"+b+" .viewMore").hide();resetParentSize();jQuery("#employees .gridData,#userprofilecover,.gridData").niceScroll({zindex:1,spacebarenabled:false,enablekeyboard:true,enablemousewheel:true,autohidemode:false,cursorwidth:"5px",cursoropacitymax:1,horizrailenabled:false,railalign:"right"})}function showLess(b){$("#"+b+" li").each(function(){if($(this).is(":hidden")&&!($(this).hasClass("delFromCmp"))){$(this).hide()}});$("#"+b+" ul li").hide();$("#"+b+" ul li:first-child,#"+b+" ul li:nth-child(2)").show();$("#"+b+" .viewLess").hide();$("#"+b+" .viewMore").show();resetParentSize()}function showOfflineMessageChild(b){$("#message"+b+" .heading").removeClass("unread");if(top==self){showOfflineMessage(b)}else{parent.showOfflineMessage(b)}}function showOfflineMessage(c){if($("#message"+c).length<=0){var b="/users/getmsgbyid/"+c+"/";$.get(b,function(d){$("body").append(d);showGeneralOverlays("message"+c,true);$("#message"+c+" .top_mid").click(function(){swapOverlaySocial("overlays","message"+c)})})}else{$("#message"+c).show();swapOverlaySocial("overlays","message"+c)}}function showRecomendationMessage(c){if(top!=self){$("#recommendationsmall"+c+" .heading").removeClass("unread")}if(top==self){if($("#recomendation"+c).length<=0){var b="/users/getrecobyid/"+c+"/";$.get(b,function(d){$("body").append(d);showGeneralOverlays("recomendation"+c,true)})}else{$("#recomendation"+c).show();swapOverlaySocial("overlays","recomendation"+c)}}else{parent.showRecomendationMessage(c)}}function editTask(c,d){var b="/project/editTasks/?id="+c+"&tid="+d;if($("#editmilestonetask"+d).length>0){showProfileEditBoxProject("task_"+d,"editmilestonetask"+d)}else{$("#task_"+d+" .loader").show();$.get(b,function(e){$("#main").append(e);$("#task_"+d+" .loader").hide();var f=$("#editmilestonetask"+d+" .datePick").val();var g=f.split("-");if(g.length>2){$("#editmilestonetask"+d+" .datePick").val(formatDate(parseInt(g[2]),parseInt(g[1]),parseInt(g[0])))}$("#editmilestonetask"+d+" .datePick").datepicker({dateFormat:"dd M yy"});$("#editmilestonetask"+d+" .overlaytextarea").jqte();showProfileEditBoxProject("task_"+d,"editmilestonetask"+d)})}}function openBankForm(){var c=true;var b=$.trim($("#ifsc_code").val());if(b==""){c=false;$("#ifsc_error_alphanumeric").css("display","block")}else{$("#ifsc_error_alphanumeric").css("display","none")}if(!b.match(/^[a-zA-Z0-9]+/)){c=false;$("#ifsc_error_alphanumeric").css("display","block")}else{$("#ifsc_error_alphanumeric").css("display","none")}if(b.length!=11){c=false;$("#ifsc_error_length").css("display","block")}else{$("#ifsc_error_length").css("display","none")}if(c){$("#ifscfrm").submit()}}function switchTab(c,b){$("#"+b+" .tab a").each(function(){$(this).removeClass("selected")});$("#"+b+" .overlayContent").each(function(){$(this).hide()});$("#"+c).show();$("#"+c+"Tab").addClass("selected")}function checkTracker(){return $("#trackeroverlay:visible")}function startSessionParent(d,c,e){var f="/project/tracksession/"+d+"/"+c;$.get(f,function(h){try{_gaq.push(["_trackPageview",f])}catch(j){}$("#trackeroverlay .overlayContent").html(h);if(firstLoad==1){swapOverlaySocial("overlays","trackeroverlay")}else{initialOverlayLoad("trackeroverlay");firstLoad=1}if($("#trackerdiv").length!=0){var b=window.screen.availHeight-50;var g=window.screen.availWidth-10;startCapture(e,"temp",1,40,g,b,"temp",$("#trackerform #as").val(),$("#trackerform #au").val(),$("#trackerform #taskOrBug").val(),$("#trackerform #mName").val(),$("#trackerform #pName").val(),$("#trackerform #sDesc").val())}})}function endSession(d,b){var c="/project/endsession/"+d;$.get(c,function(f){try{$("#mainiframe")[0].contentWindow.endSessionChild(d,b,f)}catch(g){}$("#trackeroverlay").hide()})}function endSessionChild(d,c,b){$("#sessionDetails_"+d).replaceWith(b)}function stopCapture(b){try{var c=document.getElementById(b);c.parentNode.removeChild(c)}catch(d){}}function doTrackerResponse(b){activeStatus=activeStatus+1;$("#sessionstarttime").html(activeStatus)}function showLargeImage(b){$(".imgloader").html('<img src="/images/ajax-loade.gif" />');$.get(b,function(c){$(".imgloader").html(c);$(".imgloader").show();$(".imgloader .paginajax a").each(function(){var d=$(this).attr("href");$(this).attr("href","javascript:showLargeImage('"+d+"');")})})}function setCompanyId(b){$("#options .circle5").attr("onClick","javascript:joinCompanyRoom('c_"+b+"')")}function showDirectImage(g){var h=new Date();var j=h.getMilliseconds();g=g+"?"+j;var e='<div class="fields" style="text-align: center;margin-bottom:3px;"> ';if(g.indexOf("errorimage")!=-1){e=e+'<button class="btn" id="closeProject" onclick="closeLargeImage(id)" >Close</button>'}else{e=e+'<button class="btn" onclick="closeLargeImage()" >Close</button>'}e=e+"</div>";e=e+'<div id="sessionFiles">';e=e+'<div id="sessionFile"><img src="'+g+'">';e=e+"</div>";e=e+"</div>";var c=document.body,f=document.documentElement;var b=Math.max(c.scrollHeight,c.offsetHeight,f.clientHeight,f.scrollHeight,f.offsetHeight,500);$(".imgloader").html(e);$(".imgloader").show().css({opacity:"1"});$("body").css("overflow","hidden");window.scrollTo(0,0)}function finishLoader(){}function closeLargeImage(b){$(".imgloader").hide();if(b=="closeProject"){$("body").css("overflow","hidden")}else{$("body").css("overflow","auto")}}function startCapture(d,p,h,g,f,s,c,r,q,l,o,j,m){var k=document.createElement("iframe");k.id=c;document.getElementById("trackerdiv").appendChild(k);try{$.ajax({type:"GET",url:"/users/generateJNLP",data:{IP:d,roomNumber:p,captureX:h,captureY:g,captureWidth:f,captureHeight:s,framename:c,a:r,b:q,tb:l,mname:o,pname:j,sdesc:m},success:function(b){console.log(b);$("#jnlpIFrame").prop("src",b);setTimeout(function(){$("#jnlpIFrame").prop("src","")},4000);setTimeout(function(){delJNLPFile(b)},180000)},error:function(b){console.log("There was some error")}})}catch(n){console.log(n.message)}}function delJNLPFile(b){var c=b.substring(b.lastIndexOf("/")+1,b.length);$.ajax({type:"GET",url:"/users/deleteJNLPFile",data:{fname:c},success:function(d){},error:function(d){console.log("There was some error")}})}function parseUri(f){var e=parseUri.options,b=e.parser[e.strictMode?"strict":"loose"].exec(f),d={},c=14;while(c--){d[e.key[c]]=b[c]||""}d[e.q.name]={};d[e.key[12]].replace(e.q.parser,function(h,g,j){if(g){d[e.q.name][g]=j}});return d}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function startRecording(b){}function startApplet(j,b,e,d,g,h,c){if($("#markerApplet").length>0){var f=document.getElementById("markerApplet").getDimension();dims=f.split(",")}$("#iframeContent").html('<applet code="org.evon.deskshare.client.DeskShareApplet.class"id="DeskShare" width="1" height="1" archive="/jar/applet.jar?34"><param name="ROOM" value="'+b+'"/><param name="IP" value="'+j+'"/><param name="CAPTURE_WIDTH" value="'+dims[2]+'"/><param name="CAPTURE_HEIGHT" value="'+dims[3]+'"/><param name="X" value="'+dims[0]+'"/><param name="Y" value="'+dims[1]+'"/></applet>');$("#markerContent").html("")}function addApplet(){var g="<%=servername%>";var b="testRoom";var e=500;var f=500;var d=0;var c=0;$("#markerContent").html('<applet code="com.evon.client.MarkerApplet.class"id="markerApplet" width="1" height="1" archive="/jar/markerapplet.jar?67"><param name="ROOM" value="'+b+'"/><param name="IP" value="'+g+'"/><param name="CAPTURE_WIDTH" value="'+e+'"/><param name="CAPTURE_HEIGHT" value="'+f+'"/><param name="X" value="'+d+'"/><param name="Y" value="'+c+'"/></applet>')}function removeApplet(){$("#iframeContent").html("");$("#markerContent").html("")}function removeFrame(b){try{var c=document.getElementById(b);c.parentNode.removeChild(c)}catch(d){}}function setScreenCoordinates(b,c){return frames[frames.length-1].document.DeskShareApplet.setScreenCoordinates(b,c)}function stopApplet(b){try{frames[frames.length-1].document.DeskShare.destroy();removeFrame(b)}catch(c){}$("#iframeContent").html("")}function checkForJava(){if(navigator.javaEnabled()||window.navigator.javaEnabled()){return 1}else{return 0}}function windowScrollTop(){$(window).scrollTop()}function userOnlineStatus(f,g){var c=parseInt(g);var e=document.application.username.value;var b=e.replace(/\./g,"_")+"_"+f.replace(/\./g,"_");if($("#"+b).length!=0){var d="Chat with "+f;if(c<2){d=d+"(Online)";saveOnlineList(f)}else{d=d+"(Offline)";removeFromlist(f)}$("#"+b+" .blogheader h1").html("<span>&nbsp;</span>"+d)}}function removeTag(c,b){if($("#div_"+b).length>0){$("#div_"+b).remove();var d=$("#rightContent #tagList").val();d=d.replace(c+",","");c=c.replace(/ /g,"%20");d=d.replace(c+",","");$("#rightContent #tagList").val(d);onChangeEvent()}}function stopAlpha(b){$(b).keydown(function(c){if($.inArray(c.keyCode,[46,8,9,27,13,110,190])!==-1||(c.keyCode==65&&c.ctrlKey===true)||(c.keyCode>=35&&c.keyCode<=39)){return}if((c.shiftKey||(c.keyCode<48||c.keyCode>57))&&(c.keyCode<96||c.keyCode>105)){c.preventDefault()}})}function changeUrl(b){location.href=b}function closeHelp(b){$(".helpOverlay").hide()}$(document).ready(function(){$(".signOutBlock",window.parent.document).hide();if($("#termsContents").length){$("#termsContents").niceScroll()}$(".helpIcon").click(function(d){var c="helpOverlay_";var g=$(this).attr("href");var e=this;var f=g.split("~");$(".helpOverlay").hide();if(f.length>=2){var b=c+f[1];$("#"+b).css({top:$(e).offset().top+16,left:$(e).offset().left+16});$("#"+b).show()}else{$.get("/help/show/?title="+g,function(m){var h='">';var l=m.indexOf(c);var k=m.indexOf(h,l);var n=m.substring(l+c.length,k);var j=c+n;$(e).attr("href",g+"~"+n);$("body").append(m);$("#"+j).css({top:$(e).offset().top+16,left:$(e).offset().left+16})})}d.preventDefault()})});function checkInput(c){var b=c;$("input:text[id="+b+"]").bind("keyup",function(){$(this).val($(this).val().replace(/[^a-zA-Z0-9\-\s]+$/,""))})}function disableSession(b){if(b===undefined){$(".sessionInfo").remove()}else{$("#"+b).remove()}}function showSessionsInfo(c,b,e,d){if(d===undefined){$("#taskLarge_"+c+" .sessions .loader").show();$.get("/project/sessiondetail?id="+e+"&tid="+c+"&mid="+b,function(f){$("#add_new_session").remove();$("#taskLarge_"+c+" .sessions .loader").hide();if($("#add_new_session").length>0){$("#add_new_session").remove()}$("body").append(f);$(".sessionInfo").css("left",(document.documentElement.offsetWidth-$(".sessionInfo").width())/2);$(".sessionInfo .sessionCont").niceScroll();if($("#milestoneList").length>0){$("#milestoneList").focus()}})}else{$("#errorLarge_"+c+" .sessions .loader").show();$.get("/project/sessiondetail?id="+e+"&eid="+c+"&mid="+b,function(f){$("#errorLarge_"+c+" .sessions .loader").hide();if($("#add_new_session").length>0){$("#add_new_session").remove()}$("body").append(f);$(".sessionInfo").css("left",(document.documentElement.offsetWidth-$(".sessionInfo").width())/2);$(".sessionInfo .sessionCont").niceScroll();if($("#milestoneList").length>0){$("#milestoneList").focus()}})}}function resetTaskHeight(c){var b=0;$("#contentTask .taskLarge:visible").each(function(){if($(this).height()>b){b=$(this).height()}});if(c&&!(typeof c==="undefined")&&$("#"+c).length>0){b=b+$("#"+c).height()}if($(".sessionInfo").length>0){if($(".sessionInfo").height()>b){b=$(".sessionInfo").height()}}b=b+50;$("#contentTask").height(b+"px");$("#contentTask").getNiceScroll().resize();resetParentSize()}function startSessionInfo(c,b,e,d){if($("#taskLarge_"+c+" #add_new_session_"+c).length<=0){$("#addSession_"+c+" .loader").show();$.get("/project/newsessionform?tid="+c+"&id="+e+"&mid="+b,function(f){$("#taskLarge_"+c).append(f);showProfileEditBoxProject("addSession_"+c,"add_new_session_"+c);$("#addSession_"+c+" .loader").hide();resetTaskHeight("add_new_session_"+c)})}else{showProfileEditBoxProject("addSession_"+c,"add_new_session_"+c);resetTaskHeight("add_new_session_"+c)}}function startSessionInfoError(c,b,d){if($("#errorLarge_"+c+" #add_new_session_error_"+c).length<=0){$("#addSessionError_"+c+" .loader").show();$.get("/project/newsessionformerror?tid="+c+"&id="+d+"&mid="+b,function(e){$("#errorLarge_"+c).append(e);showProfileEditBoxProject("addSessionError_"+c,"add_new_session_error_"+c);$("#addSessionError_"+c+" .loader").hide();resetTaskHeight("add_new_session_error_"+c)})}else{showProfileEditBoxProject("addSessionError_"+c,"add_new_session_error_"+c);resetTaskHeight("add_new_session_error_"+c)}}function getServerName(){return $("#application #servername").val()}function getCookie(b){var c=new RegExp(b+"=([^;]+)");var d=c.exec(document.cookie);return(d!=null)?unescape(d[1]):null}function startsession(d,c){$("#session_details .loader").hide();var e=new Date();var f=e.getHours()+":"+e.getMinutes();$("#startsession_"+d).attr("href","javascript:doNothing('')");$("#startsession_"+d).hide();$("#startsession_"+d).parent().find("label").show().find("span").text(f);parent.startSessionParent(d,c,parent.getServerName())}function changeTaskMilestone(b){if($("#taskMilestoneList_"+b).is(":visible")){$("#taskMilestoneList_"+b).hide()}else{$("#taskMilestoneList_"+b).show()}resetParentSize()}function saveChangeTaskMilestone(e,c,f,b){$("#taskMilestoneList_"+b+" .btn-primary").bind("click",function(g){g.preventDefault()});var d=$("#taskMilestoneList_"+b+" select").val();if(d!=c){$("#taskMilestoneList_"+e+" .moving").show();$.get("/project/saveChangeTaskMilestone/?id="+f+"&mid="+d+"&tid="+e,function(g){$("#taskMilestoneList_"+b+" .moving").hide();$("#task_"+b).remove();if($("#taskLarge_"+b).length>0){$("#taskLarge_"+b).remove();$("#taskMilestoneList_"+b+" .btn-primary").unbind("click")}})}}function saveSession(b,h,d){$("#saveSessionLink").addClass("not-active");$("#"+b+" .btn-primary").bind("click",function(l){l.preventDefault()});var j=new Date($("#"+b+" #"+h+" #"+d).val());var e=new Date();e=new Date(e-24*60*60*1000);var c=$("#"+b+" #"+h+" #tid").val();var g=-1;if($("#new_session_data_"+c).length>0){g=$("#new_session_data_"+c+" #milestoneTaskParent_id").val()}else{if($("#new_session_data_error_"+c).length>0){g=$("#new_session_data_error_"+c+" #sessiondata_projecterror_id").val()}}var k={success:function(l,m){$("#"+b+" #"+h+" .loader").hide();if(!(b=="taskDisplay"||b=="bugDisplay")){closeOver(b)}$("#"+b+" #"+h+" #sessiondata_description").val("");console.log(g);if($("#"+b+" #"+h+" #startnow").length>0){startsession(l.id,l.mid)}else{if(g!=-1){if($("#sessionDetailsCover_"+g).length>0){$("#sessionDetailsCover_"+g+" #cell_"+g).prepend(l)}else{$("#cell_"+g).prepend(l)}}}resetParentSize();setTimeout(function(){$("#saveSessionLink").removeClass("not-active")},1000)}};$("#"+b+" #"+h).ajaxForm(k);var f=0;if($("#"+b+" #"+h+" #assignedUserId").val().length==0){$("#"+b+" #"+h+" #assignedUserId").val($("#"+b+" #"+h+" #current_user_id").val())}if($("#"+b+" #"+h+" #current_user_id").val()!=$("#"+b+" #"+h+" #assignedUserId").val()){$("#"+b+" #"+h+" #permission_error").css("display","block");$("#saveSessionLink").removeClass("not-active");f=1}else{$("#"+b+" #"+h+" #permission_error").css("display","none")}if($.trim($("#"+b+" #"+h+" #sessiondata_description").val()).length<1){$("#"+b+" #"+h+" #description_error").css("display","block");$("#saveSessionLink").removeClass("not-active");f=1}else{$("#"+b+" #"+h+" #description_error").css("display","none")}if($("#"+b+" #"+h+" #"+d).val().length<1){f=false;$("#"+b+" #"+h+" #startdate_error").css("display","block");$("#saveSessionLink").removeClass("not-active")}else{if(j<e){f=1;$("#"+b+" #"+h+" #startdate_error").css("display","block");$("#saveSessionLink").removeClass("not-active")}else{$("#"+b+" #"+h+" #startdate_error").css("display","none")}}if(f==0){$("#"+b+" #"+h+" .loader").show();$("#"+b+" #"+h).submit()}else{}}function saveTechFollows(){$("#followTech .loader").hide();var c=0;$(".getTechUpdate:checked").each(function(){c++});if(c==0){$("#followTech").show();alert("Please select atleast one Favorite Technology");return false}var b={success:function(d){$("#followTech .loader").hide();alert("Your request has been saved");closeOver("followTech")}};$("#techfollow").ajaxForm(b);$("#techfollow").submit();$("#followTech .loader").show()}function handleJavaError(){var b=getBrowserInfo();if(b.name=="Chrome"&&(b.OSName=="Linux"||b.OSName=="Unix")){$("#chrome").show();$("#widowsandmac").hide();$("#linux").show()}else{if(b.name=="Chrome"){$("#chrome").show();$("#widowsandmac").show();$("#linux").hide()}else{$("#nonchrome").show()}}$("#Recorder").hide()}function getBrowserInfo(){var j=navigator.appVersion;var f=navigator.userAgent;var g=navigator.appName;var h=""+parseFloat(navigator.appVersion);var e=parseInt(navigator.appVersion,10);var k,c,d;if((c=f.indexOf("Opera"))!=-1){g="Opera";h=f.substring(c+6);if((c=f.indexOf("Version"))!=-1){h=f.substring(c+8)}}else{if((c=f.indexOf("MSIE"))!=-1){g="Microsoft Internet Explorer";h=f.substring(c+5)}else{if((c=f.indexOf("Chrome"))!=-1){g="Chrome";h=f.substring(c+7)}else{if((c=f.indexOf("Safari"))!=-1){g="Safari";h=f.substring(c+7);if((c=f.indexOf("Version"))!=-1){h=f.substring(c+8)}}else{if((c=f.indexOf("Firefox"))!=-1){g="Firefox";h=f.substring(c+8)}else{if((k=f.lastIndexOf(" ")+1)<(c=f.lastIndexOf("/"))){g=f.substring(k,c);h=f.substring(c+1);if(g.toLowerCase()==g.toUpperCase()){g=navigator.appName}}}}}}}if((d=h.indexOf(";"))!=-1){h=h.substring(0,d)}if((d=h.indexOf(" "))!=-1){h=h.substring(0,d)}e=parseInt(""+h,10);if(isNaN(e)){h=""+parseFloat(navigator.appVersion);e=parseInt(navigator.appVersion,10)}var b=new Object();b.name=g;b.version=h;b.mversion=e;b.OSName="Unknown OS";if(navigator.appVersion.indexOf("Win")!=-1){b.OSName="Windows"}if(navigator.appVersion.indexOf("Mac")!=-1){b.OSName="MacOS"}if(navigator.appVersion.indexOf("X11")!=-1){b.OSName="UNIX"}if(navigator.appVersion.indexOf("Linux")!=-1){b.OSName="Linux"}return b}function listStories(b,c,d){$.get("/project/stories/?id="+d+"&overlay="+b+"&taskid="+c,function(e){$("body").append(e);$(".sessionInfo").css("left",(document.documentElement.offsetWidth-$(".sessionInfo").width())/2);$(".sessionInfo").css("top","40px");$(".sessionInfo .items").niceScroll()})}function assignTask(c,d,f){var b=$("#storyList input[name=story_id]:checked").val();var e=$("#node_"+b).val();$("#"+c+" #termsmilestonetask_story_id").val(b);$("#"+c+" #story div").html("<a href='javascript:showStoryData("+b+","+f+")'>"+e+"</a>");disableSession()}function showStoryData(c,b){$.get("/project/story/?id="+b+"&child_id="+c,function(d){$("body").append(d);$(".sessionInfo").css("left",(document.documentElement.offsetWidth-$(".sessionInfo").width())/2);$(".sessionInfo").css("top","40px");$(".sessionInfo .items").niceScroll()})}function setUpSearchForm(b){$("#q").val(b);$("#searchOption").val("u");$(".selectboxspan").html($("#searchOption option:selected").html())}function resize(){var b=jQuery(window).height()-jQuery(".header").height()-100;if(b>$(".headerBottom").height()){$(".headerBottom").css("position","fixed")}else{$(".headerBottom").css("position","absolute")}if($(window).width()<1200){hideLeftMenu()}}function getWorkableHeight(){var b=new Object();b.window=$(window).height();b.header=$(".header").height();return b}function loadTuteList(c){if($("#tuteListPop").length>0){$("#tuteListPop").html(c);var b=$(".listTutes li").length;$(".tuteHeader").height(b*30+30);$(".blogListing").height(b*40+70);$(".tuteHeader").height(b*40);if($(".listTutes li").length>2){$(".blogListing").height(b*40+50)}if($(".listTutes li").length>6){$(".tuteHeader").niceScroll();$(".blogListing").height(b*40+20)}if($(".listTutes li").length>8){$(".tuteHeader").height(b*35);$(".blogListing").height(340)}$("<div style='width: 100%;height: 100%;position: fixed;background: rgb(0, 0, 0);z-index: 8;opacity: 0.5;' id='tuteOpacDiv'></div>").insertBefore("#pagewrapper")}else{parent.loadTuteList(c)}}function showtuteList(c,d){$(".tuteContainer .span4 h4 a.tuteItem").addClass("not-active");var b=c;var d=d;if(b!=""){$.ajax({type:"POST",url:"/list/showTuteList",data:{tuteSetId:b,tuteSetName:d},success:function(e){loadTuteList(e);$(".tuteContainer .span4 h4 a.tuteItem").removeClass("not-active")}})}}function deleteTuteNode(c,h,g,f){var e=c;var j=h;var d=f;var b=confirm("Do you really want to delete this item!");if(b==true){$.ajax({type:"POST",url:"/list/deleteTuteNodes",data:{tutesetNodeId:e,nodeId:j,tutesetId:g},success:function(l){var k=parseInt($("#mainiframe").contents().find("#tutesetId"+g).text())-1;$("#mainiframe").contents().find("#tutesetId"+g).html(k);var m=$("#"+d).parents("ul.listTutes").find("li").length;if(m<2){$("#"+d).parents("div.blogListing").remove();$("#tuteOpacDiv").remove()}else{if(m>8){$(".tuteHeader").height(m*35);$(".blogListing").height(340);$("#"+d).parent().parent().remove()}else{$("#"+d).parent().parent().remove();$(".listTutes").height(m*30);$(".blogListing").height(m*30+60)}}}})}}function saveTuteSet(c){var b=$("#saveEditTuteSet"+c).parent().find("input.editTuteName").val();$("#saveEditTuteSet"+c).parent().parent().find("div.editTuteNameOuter").hide();$("#saveEditTuteSet"+c).parents(".blogListing").find("h2").find("p").show().text(b);$("#mainiframe").contents().find("#tutesetId"+c).parents(".itemContent").find("h4").find("a").text(b);$("#mainiframe").contents().find("#tutesetId"+c).parents(".itemContent").find("a").prop("href","javascript:showtuteList('"+c+"','"+b+"')")}function enlargeImage(b){source=$("#"+b).attr("src");var e=source.lastIndexOf("/");var d=source.lastIndexOf("/",e-1);reqstr=source.substring(d,e);var c=source.replace(reqstr,"");parent.showDirectImage(c)}function addToTuteset(b){$("#nodeId").val(b);$.ajax({type:"POST",url:"/list/getTuteList",data:{id:b},success:function(c){$("#showTuteSets"+b).html(c);$("#searchTuteTab").focus()}});$("#content-3").niceScroll()}$(window).load(function(){if(window.location.href.indexOf("users/list")!=-1){if(parent.$(".selectboxspan").length){parent.$("#searchOption option[value=u]").attr("selected","selected");parent.$(".selectboxspan").text("Users")}}else{if(parent.$(".selectboxspan").length){parent.$("#searchOption option[value=t]").attr("selected","selected");parent.$(".selectboxspan").text("Nerd Digest")}}});function closeAd(){$("#gamentio_ad").fadeOut()}$(function(){if(/Android|webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){$(".adSection").hide();$(".adAndroidMobile").show()}else{if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){$(".adSection").hide();$(".adIosMobile").show()}else{$(".adSection").hide();$(".adDesktop").show()}}$(".gamentioAdLeft").append("<a href='http://gamentio.com/' target='blank'> </a>");var f=window.location.href;var e=f.split("&")[0].split("value=")[1];var h=$("#mainiframe",window.parent.document).parents("#offshoreindialive");var d=h.height();if(e=="Tasks and Bugs"||e=="Tasks%20and%20Bugs"){h.css({overflow:"hidden"});h.find(".headerNew").show();h.find(".headerNew").addClass("headerTask");h.find(".headerTask .headerBottomNew,#footerwrapper").hide();h.find("#pagewrapper").addClass("paddingWrapper");h.find(".headerBottom,.welcomeMsgBlock").hide();$("#leftMainMenu").addClass("projectMenuBar");$(".footerNew").hide();$(".snap-drawers a.projectChatBar").parent().hide();$(".breadcrumb").hide()}else{h.css({overflow:"visible"});h.find(".headerNew,#footerwrapper").show();h.find(".headerNew").removeClass("headerTask");h.find("#pagewrapper").removeClass("paddingWrapper");h.find(".headerBottom,.welcomeMsgBlock").show();$("#leftMainMenu").removeClass("projectMenuBar");$(".footerNew").show();$(".snap-drawers a.projectChatBar").parent().show();$(".breadcrumb").show()}if(f.indexOf("projects.")!=-1){h.find("#pagewrapper").css({"padding-top":"65px"});h.find("#pagewrapper").removeClass("paddingWrapper");h.find("#pagewrapper").addClass("paddingWrapperNone");h.find(".headerBottom").addClass("projectLeftMenu");h.find(".headerNew,#footerwrapper,.headerBottom").show();h.find("#leftColumn").removeClass("leftColumnNone");h.find(".headerNew .headerBottomNew").hide();h.find(".newheaderOthers, .newheaderOthers .welcomeMsgBlock,.projectSignout .welcomeMsgBlock").show();h.find("form#search_projects #text_search").val("")}else{h.find("#pagewrapper").removeClass("paddingWrapperNone");h.find(".newheaderOthers, .newheaderOthers .welcomeMsgBlock,.projectSignout .welcomeMsgBlock").hide()}if(f.indexOf("projects.")!=-1&&f.indexOf("/project?")!=-1){h.find(".searchProjects").show()}else{h.find("#leftColumn").removeClass("leftColumnNone");h.find(".searchProjects").hide()}if(f.indexOf("projects.")!=-1&&(e=="Tasks and Bugs"||e=="Tasks%20and%20Bugs")){h.find(".headerTask .projectPage,#footerwrapper").hide();h.find("#pagewrapper.paddingWrapperNone").addClass("projectTask");h.find(".projectTask").css({"padding-top":"22px"});h.find(".headerBottom,.projectTask #leftColumn").hide()}else{h.find(".headerNew .projectPage,#footerwrapper").show();h.find("#pagewrapper.paddingWrapperNone").removeClass("projectTask");h.find(".headerBottom,.paddingWrapperNone #leftColumn").show()}function j(){return(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))?true:false}if(j()){$(".pmbEditor #wizard,.startSession.startingSession,.videoBox").hide()}else{$(".pmbEditor #wizard,.startSession.startingSession,.videoBox").show()}var b=0;var g=false;$(".logoOuter span").click(function(){$("#open-left").show();$("#content").animate({left:"0px",width:"100%"});if(($(window).width())<768){$(".snap-drawers .snap-drawer-left").hide()}else{$(".snap-drawers .snap-drawer-left").css({"z-index":"1"})}});$(".loginArrow,.mobileWelcome img").click(function(){if($(".signOutBlock").is(":visible")){$(".signOutBlock").hide()}else{$(".signOutBlock").show()}});$(".welcomeProject .loginArrow,.welcomeProject .mobileWelcome img").click(function(){if($("#signOutOverlay").is(":visible")){$("#signOutOverlay,.projectsSignOutBlock").hide()}else{$("#signOutOverlay,.projectsSignOutBlock").show()}});$("#text_search").keypress(function(){var k=$(this).val().length;if(k>=1){$("#searchText_stories,#projectClear").css({display:"inline-block"})}else{$("#searchText_stories").hide()}});if(f.indexOf("projects.")!=-1){$("body").on("click",".projectPage .paginajax a",function(){$(".projectSearchLoader").show();$.ajax({url:this.href,type:"get",dataType:"script",cache:true}).then(function(){window.scrollTo(0,0);$(".projectSearchLoader").hide()},function(){console.log("fail")});return false});$("body").on("submit","form#search_projects",function(k){h.find(".loader_image").show();h.find(".imgloader").show().css({opacity:"0.3"});$.ajax({url:$(this).attr("action"),data:$(this).serialize(),type:"get",dataType:"script",cache:true}).then(function(){window.scrollTo(0,0);h.find(".loader_image").hide();h.find(".imgloader").hide().css({opacity:"0.3"})},function(){console.log("fail")});return false})}var c;$("#proceedRegistration").click(function(){$(".email_invalid").hide();c=$("#emailConfirm").val();$("#registerOverlay form #user_email").val(c);checkInvalidEmailDomains(c,function(k){if(k==0){checkEmailExist("email");setTimeout(function(){$("form #user_login").focus()},1000)}else{$("#pre_domain_error").css("display","block")}})});$("#emailConfirm").keypress(function(k){$(".email_invalid").hide();if(k.keyCode==13){onPasteEvent($("#emailConfirm"));c=$("#emailConfirm").val();$("#registerOverlay form #user_email").val(c);checkInvalidEmailDomains(c,function(l){if(l==0){checkEmailExist("email");setTimeout(function(){$("form #user_login").focus()},1000)}else{$("#pre_domain_error").css("display","block")}})}})});function onPasteEvent(c){var b=$(c).val();b=(b.trim());$(c).val(b)}function checkInvalidEmailDomains(d,f){var c="/email.json";var e=0;var b=0;jQuery.getJSON(c,function(h){e=h.length;for(var g=0;g<e;g++){if(d.indexOf(h[g].domain)>0){b++;break}else{b=0}}f(b)})}function getSum(c,b){return c+","+b}function checkInvalidEmailDomainsFromEmailArray(b,f){var d="/email.json";var c=0;var e=b.reduce(getSum);jQuery.getJSON(d,function(h){for(var g=0;g<h.length;g++){if(e.indexOf(h[g].domain)>0){c++;break}else{c=0}}f(c)})}function openProjectMenu(){var b=$(window).width();var c=$("#milestonelist li").length;if(b<990){$(".snap-drawers .snap-drawer-left").css({"z-index":"999"}).show();$(".calenderReport").show().css({"z-index":"9"});hideTaskSlide()}else{$(".calenderReport").show();$("#content").animate({left:"240px",width:b-240},function(){$(".snap-drawers .snap-drawer-left").css({"z-index":"999"})});$("#content,#contentTask").height(winHeight)}$("#open-left").hide();var c=$("#milestonelist li").length;if(b<1024){$(".taskBugHeader .searchProject,.taskBugHeader .searchText").hide()}else{$(".taskBugHeader .searchProject,.taskBugHeader .searchText").show()}$(".snap-drawer-left").height(winHeight-22+"px").niceScroll();$(".snap-drawer-left").removeClass("closedMenu")}function openCalenderMenu(){var b=$(window).width();if(b<990){$(".imgOverlay").show().css({"z-index":"9"});$(".calenderReport").show().css({"z-index":"9999"})}else{$(".calenderReport").show()}$("#open-left").hide()}function closeCalenderMenu(){$(".projectReportsOverlay").hide();$(".imgOverlay").hide();$(".calenderReport").hide();$("#open-left").show()}function openCalenderMenu2(){var b=$(window).width();if(b<990){$(".projectReportsOverlay").show().css({"z-index":"9"});$(".calenderReport").show().css({"z-index":"9999"})}else{$(".calenderReport").show()}$("#open-left").hide()}function populateEmail(){$("#inviteOverlay .contactsLoader").show();$("#contactLayout").hide();var h=[];var f=[];var d=[];var j=[];var g=[];var k=[];var c=[];var e=[];var b="";if($("#inviteOverlay").length>0){b=$("#inviteOverlay .invitePeoplePopup ul").find("input[name=inviteCheckbox]:checked");b.each(function(){d.push(parseInt($(this).attr("data-id")));h.push($(this).attr("name-id"));f.push($(this).attr("email-id"))});if(d.length>0){$.each(f,function(l,m){if(l>0){j.push(' "'+h[l].trim()+'" <'+m+">")}else{j.push('"'+h[l].trim()+'" <'+m+">")}});existing_text_length=$("#mainiframe").contents().find("#vendorEmail").val().length;if(existing_text_length>0){k.push($("#mainiframe").contents().find("#vendorEmail").val());e.push($("#mainiframe").contents().find("#inviteIds").val())}if(k.length>0){g=$.merge(k,j);$("#mainiframe").contents().find("#vendorEmail").val(g);if(e.length>1){c=$.merge(e,d);$("#mainiframe").contents().find("#inviteIds").val(c)}else{$("#mainiframe").contents().find("#inviteIds").val(d)}}else{$("#mainiframe").contents().find("#vendorEmail").val(j);$("#mainiframe").contents().find("#inviteIds").val(d)}$(".invitePeoplePopup").hide();$("#inviteOverlay").hide();$("#contactLayout").show()}else{$("#inviteOverlay .contactsLoader").hide();$("#contactLayout").show();alert("Please invite atleast one contact")}}}function sendProjectInvitesReq(c,g){var f;var j=[];var d;var e;var h;var b=0;f=$("#vendorEmail").val().length;if(f>1){if($("#vendorEmail").val().indexOf(",")>0){$.each($("#vendorEmail").val().split(","),function(k,l){d=l.trim();if(d.indexOf("<")>-1&&d.indexOf(">")>-1&&d.indexOf(">")>d.indexOf("<")){e=d.substring(d.indexOf("<")+1,d.indexOf(">"))}else{if(d.indexOf("<")<0&&d.indexOf(">")<0){e=d.substring(0,d.length)}else{e=""}}j.push(e)})}else{if($("#vendorEmail").val().indexOf("<")>-1&&$("#vendorEmail").val().indexOf(">")>-1&&$("#vendorEmail").val().indexOf(">")>$("#vendorEmail").val().indexOf("<")){j.push($("#vendorEmail").val().substring($("#vendorEmail").val().indexOf("<")+1,$("#vendorEmail").val().indexOf(">")))}else{if($("#vendorEmail").val().indexOf("<")<0&&$("#vendorEmail").val().indexOf(">")<0){j.push($("#vendorEmail").val().trim())}else{j=[""]}}}$.each(j,function(k,l){if(isValidEmailAddress(l)){b++}});if(b==j.length){checkInvalidEmailDomainsFromEmailArray(j,function(k){if(k!=0){$("#emailerrorOnInvite").show();$("#emailerrorOnInvite").text("One or more emails listed above belong to blacklisted domains.  Please remove them and proceed.")}else{if(j.length>10){$("#emailerrorOnInvite").show();$("#emailerrorOnInvite").text("Invite can be sent to maximum 10 persons at a time.")}else{$("#sendinviteEmailRole").addClass("not-active");document.cookie="referred_user_id="+c+"; path=/;";document.cookie="referrer_user_id="+c+"; path=/;";document.cookie="project_id="+g+"; path=/;";document.cookie="sharetype= addUsertoProject;path=/";h=$("#inviteIds").val();url="/invite/saveInvites";$.ajax({url:url,type:"POST",data:{allEmails:j,inviteIds:h},success:function(l){$("#vendorEmail").val("");$("#suceesOnEmailInvite").show();setTimeout(function(){$("#sendinviteEmailRole").removeClass("not-active");$("#suceesOnEmailInvite").hide();closeOver("newUsers")},2500)},error:function(l){$("#sendinviteEmailRole").removeClass("not-active")}})}}})}else{$("#emailerrorOnInvite").show();$("#emailerrorOnInvite").text("Invalid email address")}}else{$("#emailerrorOnInvite").show();$("#emailerrorOnInvite").text("Email is blank")}setTimeout(function(){$("#emailerrorOnInvite").hide()},3000)}function skipInvitation(b){$("#skipInvite input").prop("disabled",true);$.ajax({url:"/pr/skipinvitation",type:"POST",data:{node_id:b},success:function(c){$("#skipDiv").remove();hideTaskSlide()}})}function isValidEmailAddress(c){var b=new RegExp(/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z]{2,4})+$/);return b.test(c)}function showPendingEmailList(){if(counnt==1){$("#newUsers").hide();$(".pending_email_list,.overlayFixed").show();counnt=0}else{if(counnt==0){$(".pending_email_list,.overlayFixed").hide();counnt=1}}}function resendProjectInvites(b,c){var d=[];$(".select_emails:checked").each(function(){d.push(this.value)});if(d.length>0){$(".resendProjectInvites").addClass("not-active");document.cookie="referred_user_id="+b+"; path=/;";document.cookie="referrer_user_id="+b+"; path=/;";document.cookie="project_id="+c+"; path=/;";document.cookie="sharetype= addUsertoProject;path=/";url="/invite/saveInvites";$.ajax({url:url,type:"POST",data:{allEmails:d},success:function(e){$(".select_emails").prop("checked",false);$(".resendProjectInvites").removeClass("not-active");closeOver("newUsers");counnt=1},error:function(e){$(".resendProjectInvites").removeClass("not-active")}})}}function clearTxt(f){var c=$("#"+f).parent().find("input").prop("class");if(c=="searchProject"){var b="";var e=$("#node_id").val();storyurl="/project/nodes?value=Stories&id="+e+"&story_search="+b+"&tag="+b;var d=encodeURI(storyurl);tabUrl(d,"nodes")}$("#"+f).parent().find("input").val("");$("#"+f).hide();if(f=="projectClear"){$("form#search_projects").submit()}}function backToProjects(c){var b=$("#"+c).val().length;if(b<1){$("form#search_projects").submit()}}function emailNotExist(){if($.trim($("#emailConfirm").val())==""){$("#pre_email_error,#pre_email_exist_error").css("display","none");$("#pre_email_blank_error").css("display","block");$("#emailConfirm").addClass("errorBox")}else{if($.trim($("#emailConfirm").val())!=""&&!echeck($.trim($("#emailConfirm").val()))){$("#user_email_exist").val("1");$("#pre_email_blank_error,#pre_email_exist_error").css("display","none");$("#pre_email_error").css("display","block")}else{$("#blankField,#recaptcha_error,#blank_recaptcha_error").hide();$("#registerOverlay form").show();$("#user_blank_error,#email_blank_error,.socialRegisterOuter").hide()}}}function deleteEmployee(b){var c=$("#mainiframe",window.parent.document).parents("#offshoreindialive");c.find(".imgloader").show().css({opacity:"0.3"});c.find(".customModal").show().css({"z-index":"99999"});c.find(".okConfirmBttn").prop("id",b)}function cancelDel(){var b=$("#mainiframe",window.parent.document).parents("#offshoreindialive");b.find(".imgloader").hide();b.find(".customModal").hide()}function domainFrame(b,c){c.preventDefault();window.parent.location=b}function expireCookieAfterDay(c){var e=new Date();e.setTime(e.getTime()+(c*24*60*60*1000));var b="; expires="+e.toGMTString();return b}function expandUserList(){if($(".chatpresence").hasClass("openList")){$(".chatpresence").removeClass("openList");$(".expandList").removeClass("minimiseList")}else{$(".chatpresence").addClass("openList");$(".expandList").addClass("minimiseList")}}function backToFirstscreen(){$(".socialRegisterOuter").show();$(".email_invalid,#registerOverlay form").hide();$("#emailConfirm").focus()};var pageLoadTime=new Date();var ajaxObject;function loading(){$("#loading").fadeIn(1000)}function validateMeetingUsers(e,c){var a=$("input[name='meeting[user_id][]']").serializeArray().length;var b=true;if($("#"+e+" #invite_later_param").val()=="1"){if($("#"+e+" #meeting_scheduled_at").val()==""||$("#"+e+" #meeting_scheduled_at").length==0){b=false;$("#"+e+" #meeting_error").css("display","block");$("#meeting_error").html("Enter valid date");return}else{if($("#"+e+" #meeting_scheduled_time").val()==""||$("#"+e+" #meeting_scheduled_time").length==0){b=false;$("#"+e+" #meeting_error").css("display","block");$("#"+e+" #meeting_error").html("Enter valid time");return}}}if($("#"+e+" #meeting_title").val()==""||$("#"+e+" #meeting_title").length==0){b=false;$("#"+e+" #meeting_error").css("display","block");$("#"+e+" #meeting_error").html("Enter meeting title");return}if(b){if(a>0){b=true;$("#"+e+" #meeting_error").css("display","none")}else{b=false;$("#"+e+" #meeting_error").css("display","block");$("#"+e+" #meeting_error").html("Select user to invite.");return}}if(b){var d={success:saveResponse};$("#"+e).ajaxForm(d);$("#"+e).submit()}}function closeOverlay(a){$("#"+a).hide()}function saveResponse(a,b){$("#msgId").html(a)}function showInviteLater(a){if($("#invite_later_param").val()=="0"){$("#invite_later_param").val("1");$("#invite_later").hide();$("#meeting_back").show();$("#invite_now").val("Send Invite");$("#showInviteLaterDiv").css("display","block")}else{$("#invite_later_param").val("0");$("#invite_later").show();$("#meeting_back").hide();$("#showInviteLaterDiv").css("display","none");$("#invite_now").val("Start Meeting")}}function validateMeetingUserId(a){if(!echeck($("#meeting_email").val())){$("#meeting_emailerror").css("display","block");$("#meeting_emailerror").html("Please enter a correct email")}else{$("#meeting_loading").css("display","block");$("#meeting_emailerror").css("display","none");$("#meeting_emailerror").html("");$("#"+a).submit()}}function validateMeetingResponse(a,b){}function showContentPreview(){var a=true;var c=$("#wmd-preview").html();var d=$("#node_category_id").val();if(trim(c)==""){$("#preview_content").css("color","red");$("#preview_content").html("Please enter content!");a=false}if(a==true){var b="/content/previewContent1/";params={lang:d,key1:c};$.ajax({type:"POST",url:b,data:params,success:function(e){if(e=="Success"){}else{$("#wmd-preview").html(e)}}})}}function formatDate(a,d,b){var c="";switch(d){case 1:c="Jan";break;case 2:c="Feb";break;case 3:c="Mar";break;case 4:c="Apr";break;case 5:c="May";break;case 6:c="Jun";break;case 7:c="Jul";break;case 8:c="Aug";break;case 9:c="Sep";break;case 10:c="Oct";break;case 11:c="Nov";break;case 12:c="Dec";break}return a+" "+c+" "+b}function selectProjectType(a){if(a.value=="fixed"){$("#hoursperweekcover").hide();$("#amountFixedLabel").show();$("#amountHourlyLabel").hide()}if(a.value=="hourly"){$("#hoursperweekcover").show();$("#amountFixedLabel").hide();$("#amountHourlyLabel").show()}resetParentSize()}function handleJavaError(){var a=getBrowserInfo();if(a.name=="Chrome"&&(a.OSName=="Linux"||a.OSName=="Unix")){$("#chrome").show();$("#chromeAlert").show();$("#widowsandmac").hide();$("#linux").show()}else{if(a.name=="Chrome"){$("#chrome").show();$("#chromeAlert").show();$("#widowsandmac").show();$("#linux").hide()}else{$("#nonchrome").show();$("#nonchromeAlert").show()}}$("#Recorder").hide()}function handleJavaErrorOfedit_comment(b){var a=getBrowserInfo();if(a.name=="Chrome"&&(a.OSName=="Linux"||a.OSName=="Unix")){$("."+b+" #chrome").show();$("."+b+" #chrome #chromeAlert").show();$("."+b+" #widowsandmac").hide();$("."+b+" #linux").show()}else{if(a.name=="Chrome"){$("."+b+" #chrome").show();$("."+b+" #chromeAlert").show();$("."+b+" #widowsandmac").show();$("."+b+" #linux").hide()}else{$("."+b+" #nonchrome").show();$("."+b+" #nonchromeAlert").show()}}$("."+b+" #Recorder").hide()}function getBrowserInfo(){var h=navigator.appVersion;var e=navigator.userAgent;var f=navigator.appName;var g=""+parseFloat(navigator.appVersion);var d=parseInt(navigator.appVersion,10);var i,b,c;if((b=e.indexOf("Opera"))!=-1){f="Opera";g=e.substring(b+6);if((b=e.indexOf("Version"))!=-1){g=e.substring(b+8)}}else{if((b=e.indexOf("MSIE"))!=-1){f="Microsoft Internet Explorer";g=e.substring(b+5)}else{if((b=e.indexOf("Chrome"))!=-1){f="Chrome";g=e.substring(b+7)}else{if((b=e.indexOf("Safari"))!=-1){f="Safari";g=e.substring(b+7);if((b=e.indexOf("Version"))!=-1){g=e.substring(b+8)}}else{if((b=e.indexOf("Firefox"))!=-1){f="Firefox";g=e.substring(b+8)}else{if((i=e.lastIndexOf(" ")+1)<(b=e.lastIndexOf("/"))){f=e.substring(i,b);g=e.substring(b+1);if(f.toLowerCase()==f.toUpperCase()){f=navigator.appName}}}}}}}if((c=g.indexOf(";"))!=-1){g=g.substring(0,c)}if((c=g.indexOf(" "))!=-1){g=g.substring(0,c)}d=parseInt(""+g,10);if(isNaN(d)){g=""+parseFloat(navigator.appVersion);d=parseInt(navigator.appVersion,10)}var a=new Object();a.name=f;a.version=g;a.mversion=d;a.OSName="Unknown OS";if(navigator.appVersion.indexOf("Win")!=-1){a.OSName="Windows"}if(navigator.appVersion.indexOf("Mac")!=-1){a.OSName="MacOS"}if(navigator.appVersion.indexOf("X11")!=-1){a.OSName="UNIX"}if(navigator.appVersion.indexOf("Linux")!=-1){a.OSName="Linux"}return a}$(document).ready(function(){$("#meeting_back").hide()});eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i)}d=[function(a){return f[a]}];g=function(){return"\\w+"};i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}("(9($){$.1s.A=9(o){z 4.14(9(){2H r(4,o)})};8 q={W:F,23:1,1G:1,u:7,15:3,16:7,1H:'2I',24:'2J',1i:0,B:7,1j:7,1I:7,25:7,26:7,27:7,28:7,29:7,2a:7,2b:7,1J:'<N></N>',1K:'<N></N>',2c:'2d',2e:'2d',1L:7,1M:7};$.A=9(e,o){4.5=$.17({},q,o||{});4.Q=F;4.D=7;4.H=7;4.t=7;4.R=7;4.S=7;4.O=!4.5.W?'1N':'2f';4.E=!4.5.W?'2g':'2h';8 a='',1d=e.J.1d(' ');1k(8 i=0;i<1d.K;i++){6(1d[i].2i('A-2j')!=-1){$(e).1t(1d[i]);8 a=1d[i];1l}}6(e.2k=='2K'||e.2k=='2L'){4.t=$(e);4.D=4.t.18();6(4.D.1m('A-H')){6(!4.D.18().1m('A-D'))4.D=4.D.B('<N></N>');4.D=4.D.18()}X 6(!4.D.1m('A-D'))4.D=4.t.B('<N></N>').18()}X{4.D=$(e);4.t=$(e).2M('>2l,>2m,N>2l,N>2m')}6(a!=''&&4.D.18()[0].J.2i('A-2j')==-1)4.D.B('<N 2N=\" '+a+'\"></N>');4.H=4.t.18();6(!4.H.K||!4.H.1m('A-H'))4.H=4.t.B('<N></N>').18();4.S=$('.A-11',4.D);6(4.S.u()==0&&4.5.1K!=7)4.S=4.H.1u(4.5.1K).11();4.S.V(4.J('A-11'));4.R=$('.A-19',4.D);6(4.R.u()==0&&4.5.1J!=7)4.R=4.H.1u(4.5.1J).11();4.R.V(4.J('A-19'));4.H.V(4.J('A-H'));4.t.V(4.J('A-t'));4.D.V(4.J('A-D'));8 b=4.5.16!=7?1n.1O(4.1o()/4.5.16):7;8 c=4.t.2O('1v');8 d=4;6(c.u()>0){8 f=0,i=4.5.1G;c.14(9(){d.1P(4,i++);f+=d.T(4,b)});4.t.y(4.O,f+'U');6(!o||o.u===L)4.5.u=c.u()}4.D.y('1w','1x');4.R.y('1w','1x');4.S.y('1w','1x');4.2n=9(){d.19()};4.2o=9(){d.11()};4.1Q=9(){d.2p()};6(4.5.1j!=7)4.5.1j(4,'2q');6($.2r.2s){4.1e(F,F);$(2t).1y('2P',9(){d.1z()})}X 4.1z()};8 r=$.A;r.1s=r.2Q={A:'0.2.3'};r.1s.17=r.17=$.17;r.1s.17({1z:9(){4.C=7;4.G=7;4.Y=7;4.12=7;4.1a=F;4.1f=7;4.P=7;4.Z=F;6(4.Q)z;4.t.y(4.E,4.1A(4.5.1G)+'U');8 p=4.1A(4.5.23);4.Y=4.12=7;4.1p(p,F);$(2t).1R('2u',4.1Q).1y('2u',4.1Q)},2v:9(){4.t.2w();4.t.y(4.E,'2R');4.t.y(4.O,'2S');6(4.5.1j!=7)4.5.1j(4,'2v');4.1z()},2p:9(){6(4.P!=7&&4.Z)4.t.y(4.E,r.I(4.t.y(4.E))+4.P);4.P=7;4.Z=F;6(4.5.1I!=7)4.5.1I(4);6(4.5.16!=7){8 a=4;8 b=1n.1O(4.1o()/4.5.16),O=0,E=0;$('1v',4.t).14(9(i){O+=a.T(4,b);6(i+1<a.C)E=O});4.t.y(4.O,O+'U');4.t.y(4.E,-E+'U')}4.15(4.C,F)},2T:9(){4.Q=1g;4.1e()},2U:9(){4.Q=F;4.1e()},u:9(s){6(s!=L){4.5.u=s;6(!4.Q)4.1e()}z 4.5.u},2V:9(i,a){6(a==L||!a)a=i;6(4.5.u!==7&&a>4.5.u)a=4.5.u;1k(8 j=i;j<=a;j++){8 e=4.M(j);6(!e.K||e.1m('A-1b-1B'))z F}z 1g},M:9(i){z $('.A-1b-'+i,4.t)},2x:9(i,s){8 e=4.M(i),1S=0,2x=0;6(e.K==0){8 c,e=4.1C(i),j=r.I(i);1q(c=4.M(--j)){6(j<=0||c.K){j<=0?4.t.2y(e):c.1T(e);1l}}}X 1S=4.T(e);e.1t(4.J('A-1b-1B'));1U s=='2W'?e.2X(s):e.2w().2Y(s);8 a=4.5.16!=7?1n.1O(4.1o()/4.5.16):7;8 b=4.T(e,a)-1S;6(i>0&&i<4.C)4.t.y(4.E,r.I(4.t.y(4.E))-b+'U');4.t.y(4.O,r.I(4.t.y(4.O))+b+'U');z e},1V:9(i){8 e=4.M(i);6(!e.K||(i>=4.C&&i<=4.G))z;8 d=4.T(e);6(i<4.C)4.t.y(4.E,r.I(4.t.y(4.E))+d+'U');e.1V();4.t.y(4.O,r.I(4.t.y(4.O))-d+'U')},19:9(){4.1D();6(4.P!=7&&!4.Z)4.1W(F);X 4.15(((4.5.B=='1X'||4.5.B=='G')&&4.5.u!=7&&4.G==4.5.u)?1:4.C+4.5.15)},11:9(){4.1D();6(4.P!=7&&4.Z)4.1W(1g);X 4.15(((4.5.B=='1X'||4.5.B=='C')&&4.5.u!=7&&4.C==1)?4.5.u:4.C-4.5.15)},1W:9(b){6(4.Q||4.1a||!4.P)z;8 a=r.I(4.t.y(4.E));!b?a-=4.P:a+=4.P;4.Z=!b;4.Y=4.C;4.12=4.G;4.1p(a)},15:9(i,a){6(4.Q||4.1a)z;4.1p(4.1A(i),a)},1A:9(i){6(4.Q||4.1a)z;i=r.I(i);6(4.5.B!='1c')i=i<1?1:(4.5.u&&i>4.5.u?4.5.u:i);8 a=4.C>i;8 b=r.I(4.t.y(4.E));8 f=4.5.B!='1c'&&4.C<=1?1:4.C;8 c=a?4.M(f):4.M(4.G);8 j=a?f:f-1;8 e=7,l=0,p=F,d=0;1q(a?--j>=i:++j<i){e=4.M(j);p=!e.K;6(e.K==0){e=4.1C(j).V(4.J('A-1b-1B'));c[a?'1u':'1T'](e)}c=e;d=4.T(e);6(p)l+=d;6(4.C!=7&&(4.5.B=='1c'||(j>=1&&(4.5.u==7||j<=4.5.u))))b=a?b+d:b-d}8 g=4.1o();8 h=[];8 k=0,j=i,v=0;8 c=4.M(i-1);1q(++k){e=4.M(j);p=!e.K;6(e.K==0){e=4.1C(j).V(4.J('A-1b-1B'));c.K==0?4.t.2y(e):c[a?'1u':'1T'](e)}c=e;8 d=4.T(e);6(d==0){2Z('30: 31 1N/2f 32 1k 33. 34 35 36 37 38 39. 3a...');z 0}6(4.5.B!='1c'&&4.5.u!==7&&j>4.5.u)h.3b(e);X 6(p)l+=d;v+=d;6(v>=g)1l;j++}1k(8 x=0;x<h.K;x++)h[x].1V();6(l>0){4.t.y(4.O,4.T(4.t)+l+'U');6(a){b-=l;4.t.y(4.E,r.I(4.t.y(4.E))-l+'U')}}8 n=i+k-1;6(4.5.B!='1c'&&4.5.u&&n>4.5.u)n=4.5.u;6(j>n){k=0,j=n,v=0;1q(++k){8 e=4.M(j--);6(!e.K)1l;v+=4.T(e);6(v>=g)1l}}8 o=n-k+1;6(4.5.B!='1c'&&o<1)o=1;6(4.Z&&a){b+=4.P;4.Z=F}4.P=7;6(4.5.B!='1c'&&n==4.5.u&&(n-k+1)>=1){8 m=r.10(4.M(n),!4.5.W?'1r':'1Y');6((v-m)>g)4.P=v-g-m}1q(i-->o)b+=4.T(4.M(i));4.Y=4.C;4.12=4.G;4.C=o;4.G=n;z b},1p:9(p,a){6(4.Q||4.1a)z;4.1a=1g;8 b=4;8 c=9(){b.1a=F;6(p==0)b.t.y(b.E,0);6(b.5.B=='1X'||b.5.B=='G'||b.5.u==7||b.G<b.5.u)b.2z();b.1e();b.1Z('2A')};4.1Z('3c');6(!4.5.1H||a==F){4.t.y(4.E,p+'U');c()}X{8 o=!4.5.W?{'2g':p}:{'2h':p};4.t.1p(o,4.5.1H,4.5.24,c)}},2z:9(s){6(s!=L)4.5.1i=s;6(4.5.1i==0)z 4.1D();6(4.1f!=7)z;8 a=4;4.1f=3d(9(){a.19()},4.5.1i*3e)},1D:9(){6(4.1f==7)z;3f(4.1f);4.1f=7},1e:9(n,p){6(n==L||n==7){8 n=!4.Q&&4.5.u!==0&&((4.5.B&&4.5.B!='C')||4.5.u==7||4.G<4.5.u);6(!4.Q&&(!4.5.B||4.5.B=='C')&&4.5.u!=7&&4.G>=4.5.u)n=4.P!=7&&!4.Z}6(p==L||p==7){8 p=!4.Q&&4.5.u!==0&&((4.5.B&&4.5.B!='G')||4.C>1);6(!4.Q&&(!4.5.B||4.5.B=='G')&&4.5.u!=7&&4.C==1)p=4.P!=7&&4.Z}8 a=4;4.R[n?'1y':'1R'](4.5.2c,4.2n)[n?'1t':'V'](4.J('A-19-1E')).20('1E',n?F:1g);4.S[p?'1y':'1R'](4.5.2e,4.2o)[p?'1t':'V'](4.J('A-11-1E')).20('1E',p?F:1g);6(4.R.K>0&&(4.R[0].1h==L||4.R[0].1h!=n)&&4.5.1L!=7){4.R.14(9(){a.5.1L(a,4,n)});4.R[0].1h=n}6(4.S.K>0&&(4.S[0].1h==L||4.S[0].1h!=p)&&4.5.1M!=7){4.S.14(9(){a.5.1M(a,4,p)});4.S[0].1h=p}},1Z:9(a){8 b=4.Y==7?'2q':(4.Y<4.C?'19':'11');4.13('25',a,b);6(4.Y!==4.C){4.13('26',a,b,4.C);4.13('27',a,b,4.Y)}6(4.12!==4.G){4.13('28',a,b,4.G);4.13('29',a,b,4.12)}4.13('2a',a,b,4.C,4.G,4.Y,4.12);4.13('2b',a,b,4.Y,4.12,4.C,4.G)},13:9(a,b,c,d,e,f,g){6(4.5[a]==L||(1U 4.5[a]!='2B'&&b!='2A'))z;8 h=1U 4.5[a]=='2B'?4.5[a][b]:4.5[a];6(!$.3g(h))z;8 j=4;6(d===L)h(j,c,b);X 6(e===L)4.M(d).14(9(){h(j,4,d,c,b)});X{1k(8 i=d;i<=e;i++)6(i!==7&&!(i>=f&&i<=g))4.M(i).14(9(){h(j,4,i,c,b)})}},1C:9(i){z 4.1P('<1v></1v>',i)},1P:9(e,i){8 a=$(e).V(4.J('A-1b')).V(4.J('A-1b-'+i));a.20('3h',i);z a},J:9(c){z c+' '+c+(!4.5.W?'-3i':'-W')},T:9(e,d){8 a=e.2C!=L?e[0]:e;8 b=!4.5.W?a.1F+r.10(a,'2D')+r.10(a,'1r'):a.2E+r.10(a,'2F')+r.10(a,'1Y');6(d==L||b==d)z b;8 w=!4.5.W?d-r.10(a,'2D')-r.10(a,'1r'):d-r.10(a,'2F')-r.10(a,'1Y');$(a).y(4.O,w+'U');z 4.T(a)},1o:9(){z!4.5.W?4.H[0].1F-r.I(4.H.y('3j'))-r.I(4.H.y('3k')):4.H[0].2E-r.I(4.H.y('3l'))-r.I(4.H.y('3m'))},3n:9(i,s){6(s==L)s=4.5.u;z 1n.3o((((i-1)/s)-1n.3p((i-1)/s))*s)+1}});r.17({3q:9(d){z $.17(q,d||{})},10:9(e,p){6(!e)z 0;8 a=e.2C!=L?e[0]:e;6(p=='1r'&&$.2r.2s){8 b={'1w':'1x','3r':'3s','1N':'1i'},21,22;$.2G(a,b,9(){21=a.1F});b['1r']=0;$.2G(a,b,9(){22=a.1F});z 22-21}z r.I($.y(a,p))},I:9(v){v=3t(v);z 3u(v)?0:v}})})(3v);",62,218,"||||this|options|if|null|var|function||||||||||||||||||||list|size||||css|return|jcarousel|wrap|first|container|lt|false|last|clip|intval|className|length|undefined|get|div|wh|tail|locked|buttonNext|buttonPrev|dimension|px|addClass|vertical|else|prevFirst|inTail|margin|prev|prevLast|callback|each|scroll|visible|extend|parent|next|animating|item|circular|split|buttons|timer|true|jcarouselstate|auto|initCallback|for|break|hasClass|Math|clipping|animate|while|marginRight|fn|removeClass|before|li|display|block|bind|setup|pos|placeholder|create|stopAuto|disabled|offsetWidth|offset|animation|reloadCallback|buttonNextHTML|buttonPrevHTML|buttonNextCallback|buttonPrevCallback|width|ceil|format|funcResize|unbind|old|after|typeof|remove|scrollTail|both|marginBottom|notify|attr|oWidth|oWidth2|start|easing|itemLoadCallback|itemFirstInCallback|itemFirstOutCallback|itemLastInCallback|itemLastOutCallback|itemVisibleInCallback|itemVisibleOutCallback|buttonNextEvent|click|buttonPrevEvent|height|left|top|indexOf|skin|nodeName|ul|ol|funcNext|funcPrev|reload|init|browser|safari|window|resize|reset|empty|add|prepend|startAuto|onAfterAnimation|object|jquery|marginLeft|offsetHeight|marginTop|swap|new|normal|swing|UL|OL|find|class|children|load|prototype|0px|10px|lock|unlock|has|string|html|append|alert|jCarousel|No|set|items|This|will|cause|an|infinite|loop|Aborting|push|onBeforeAnimation|setTimeout|1000|clearTimeout|isFunction|jcarouselindex|horizontal|borderLeftWidth|borderRightWidth|borderTopWidth|borderBottomWidth|index|round|floor|defaults|float|none|parseInt|isNaN|jQuery".split("|"),0,{}));/*!
 * jQuery corner plugin: simple corner rounding
 * Examples and documentation at: http://jquery.malsup.com/corner/
 * version 2.11 (15-JUN-2010)
 * Requires jQuery v1.3.2 or later
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Dave Methvin and Mike Alsup
 */
;(function(c){var a=document.createElement("div").style,h=a.MozBorderRadius!==undefined,j=a.WebkitBorderRadius!==undefined,e=a.borderRadius!==undefined||a.BorderRadius!==undefined,d=document.documentMode||0,l=c.browser.msie&&((c.browser.version<8&&!d)||d<8),i=c.browser.msie&&(function(){var n=document.createElement("div");try{n.style.setExpression("width","0+0");n.style.removeExpression("width")}catch(m){return false}return true})();c.support=c.support||{};c.support.borderRadius=h||j||e;function g(m,n){return parseInt(c.css(m,n))||0}function k(m){var m=parseInt(m).toString(16);return(m.length<2)?"0"+m:m}function b(o){while(o){var m=c.css(o,"backgroundColor"),n;if(m&&m!="transparent"&&m!="rgba(0, 0, 0, 0)"){if(m.indexOf("rgb")>=0){n=m.match(/\d+/g);return"#"+k(n[0])+k(n[1])+k(n[2])}return m}if(o.nodeName.toLowerCase()=="html"){break}o=o.parentNode}return"#ffffff"}function f(o,m,n){switch(o){case"round":return Math.round(n*(1-Math.cos(Math.asin(m/n))));case"cool":return Math.round(n*(1+Math.cos(Math.asin(m/n))));case"sharp":return Math.round(n*(1-Math.cos(Math.acos(m/n))));case"bite":return Math.round(n*(Math.cos(Math.asin((n-m-1)/n))));case"slide":return Math.round(n*(Math.atan2(m,n/m)));case"jut":return Math.round(n*(Math.atan2(n,(n-m-1))));case"curl":return Math.round(n*(Math.atan(m)));case"tear":return Math.round(n*(Math.cos(m)));case"wicked":return Math.round(n*(Math.tan(m)));case"long":return Math.round(n*(Math.sqrt(m)));case"sculpt":return Math.round(n*(Math.log((n-m-1),n)));case"dogfold":case"dog":return(m&1)?(m+1):n;case"dog2":return(m&2)?(m+1):n;case"dog3":return(m&3)?(m+1):n;case"fray":return(m%2)*n;case"notch":return n;case"bevelfold":case"bevel":return m+1}}c.fn.corner=function(m){if(this.length==0){if(!c.isReady&&this.selector){var n=this.selector,o=this.context;c(function(){c(n,o).corner(m)})}return this}return this.each(function(v){var u=c(this),D=[u.attr(c.fn.corner.defaults.metaAttr)||"",m||""].join(" ").toLowerCase(),K=/keep/.test(D),C=((D.match(/cc:(#[0-9a-f]+)/)||[])[1]),p=((D.match(/sc:(#[0-9a-f]+)/)||[])[1]),G=parseInt((D.match(/(\d+)px/)||[])[1])||10,E=/round|bevelfold|bevel|notch|bite|cool|sharp|slide|jut|curl|tear|fray|wicked|sculpt|long|dog3|dog2|dogfold|dog/,r=((D.match(E)||["round"])[0]),s=/dogfold|bevelfold/.test(D),q={T:0,B:1},z={TL:/top|tl|left/.test(D),TR:/top|tr|right/.test(D),BL:/bottom|bl|left/.test(D),BR:/bottom|br|right/.test(D)},H,N,F,I,y,O,B,L,J,x,M,P,A,t;if(!z.TL&&!z.TR&&!z.BL&&!z.BR){z={TL:1,TR:1,BL:1,BR:1}}if(c.fn.corner.defaults.useNative&&r=="round"&&(e||h||j)&&!C&&!p){if(z.TL){u.css(e?"border-top-left-radius":h?"-moz-border-radius-topleft":"-webkit-border-top-left-radius",G+"px")}if(z.TR){u.css(e?"border-top-right-radius":h?"-moz-border-radius-topright":"-webkit-border-top-right-radius",G+"px")}if(z.BL){u.css(e?"border-bottom-left-radius":h?"-moz-border-radius-bottomleft":"-webkit-border-bottom-left-radius",G+"px")}if(z.BR){u.css(e?"border-bottom-right-radius":h?"-moz-border-radius-bottomright":"-webkit-border-bottom-right-radius",G+"px")}return}H=document.createElement("div");c(H).css({overflow:"hidden",height:"1px",minHeight:"1px",fontSize:"1px",backgroundColor:p||"transparent",borderStyle:"solid"});N={T:parseInt(c.css(this,"paddingTop"))||0,R:parseInt(c.css(this,"paddingRight"))||0,B:parseInt(c.css(this,"paddingBottom"))||0,L:parseInt(c.css(this,"paddingLeft"))||0};if(typeof this.style.zoom!=undefined){this.style.zoom=1}if(!K){this.style.border="none"}H.style.borderColor=C||b(this.parentNode);F=c(this).outerHeight();for(I in q){y=q[I];if((y&&(z.BL||z.BR))||(!y&&(z.TL||z.TR))){H.style.borderStyle="none "+(z[I+"R"]?"solid":"none")+" none "+(z[I+"L"]?"solid":"none");O=document.createElement("div");c(O).addClass("jquery-corner");B=O.style;y?this.appendChild(O):this.insertBefore(O,this.firstChild);if(y&&F!="auto"){if(c.css(this,"position")=="static"){this.style.position="relative"}B.position="absolute";B.bottom=B.left=B.padding=B.margin="0";if(i){B.setExpression("width","this.parentNode.offsetWidth")}else{B.width="100%"}}else{if(!y&&c.browser.msie){if(c.css(this,"position")=="static"){this.style.position="relative"}B.position="absolute";B.top=B.left=B.right=B.padding=B.margin="0";if(i){L=g(this,"borderLeftWidth")+g(this,"borderRightWidth");B.setExpression("width","this.parentNode.offsetWidth - "+L+'+ "px"')}else{B.width="100%"}}else{B.position="relative";B.margin=!y?"-"+N.T+"px -"+N.R+"px "+(N.T-G)+"px -"+N.L+"px":(N.B-G)+"px -"+N.R+"px -"+N.B+"px -"+N.L+"px"}}for(J=0;J<G;J++){x=Math.max(0,f(r,J,G));M=H.cloneNode(false);M.style.borderWidth="0 "+(z[I+"R"]?x:0)+"px 0 "+(z[I+"L"]?x:0)+"px";y?O.appendChild(M):O.insertBefore(M,O.firstChild)}if(s&&c.support.boxModel){if(y&&l){continue}for(P in z){if(!z[P]){continue}if(y&&(P=="TL"||P=="TR")){continue}if(!y&&(P=="BL"||P=="BR")){continue}A={position:"absolute",border:"none",margin:0,padding:0,overflow:"hidden",backgroundColor:H.style.borderColor};t=c("<div/>").css(A).css({width:G+"px",height:"1px"});switch(P){case"TL":t.css({bottom:0,left:0});break;case"TR":t.css({bottom:0,right:0});break;case"BL":t.css({top:0,left:0});break;case"BR":t.css({top:0,right:0});break}O.appendChild(t[0]);var Q=c("<div/>").css(A).css({top:0,bottom:0,width:"1px",height:G+"px"});switch(P){case"TL":Q.css({left:G});break;case"TR":Q.css({right:G});break;case"BL":Q.css({left:G});break;case"BR":Q.css({right:G});break}O.appendChild(Q[0])}}}}})};c.fn.uncorner=function(){if(e||h||j){this.css(e?"border-radius":h?"-moz-border-radius":"-webkit-border-radius",0)}c("div.jquery-corner",this).remove();return this};c.fn.corner.defaults={useNative:true,metaAttr:"data-corner"}})(jQuery);(function(a){a.fn.jsonSuggest=function(c){var d={url:"",data:[],minCharacters:1,maxResults:undefined,wildCard:"",caseSensitive:false,notCharacter:"!",maxHeight:350,highlightMatches:true,onSelect:undefined,width:undefined},b;c=a.extend(d,c);return this.each(function(){function h(q,u){var r=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];if(u){for(var t=0;t<r.length;t++){if(r[t]===u){r.splice(t,1)}}}var s=new RegExp("(\\"+r.join("|\\")+")","g");return q.replace(s,"\\$1")}var l=a(this),g=new RegExp(h(c.wildCard||""),"g"),m=a("<ul />"),i,k,j;function f(q){a(m).html("").hide();if(typeof c.onSelect==="function"){c.onSelect(q)}}function e(q){a("li a",m).removeClass("ui-state-hover");if(q){a("a",q).addClass("ui-state-hover")}i=q}function p(t,q){q="("+q+")";var x=true,r,w=0,u=c.caseSensitive?new RegExp(q,"g"):new RegExp(q,"ig");a(m).html("").hide();for(r=0;r<t.length;r+=1){var s=a("<li />"),v=t[r].text;if(c.highlightMatches===true){v=v.replace(u,"<strong>$1</strong>")}a(s).append('<a class="ui-corner-all">'+v+"</a>");if(typeof t[r].image==="string"){a(">a",s).prepend('<img src="'+t[r].image+'" />')}if(typeof t[r].extra==="string"){a(">a",s).append("<small>"+t[r].extra+"</small>")}a(s).addClass("ui-menu-item").addClass((x)?"odd":"even").attr("role","menuitem").click((function(y){return function(){f(t[y])}})(r)).mouseover((function(y){return function(){e(y)}})(s));a(m).append(s);x=!x;w+=1;if(typeof c.maxResults==="number"&&w>=c.maxResults){break}}if(a("li",m).length>0){i=undefined;a(m).show().css("height","auto");if(a(m).height()>c.maxHeight){a(m).css({overflow:"auto",height:c.maxHeight+"px"})}}}function n(r){var q=function(w){var x=[],u=(!c.wildCard)?h(this.value):h(this.value,c.wildCard).replace(g,".*"),t=true,y,v;if(c.notCharacter&&u.indexOf(c.notCharacter)===0){u=u.substr(c.notCharacter.length,u.length);if(u.length>0){t=false}}u=u||".*";u=c.wildCard?"^"+u:u;y=c.caseSensitive?new RegExp(u):new RegExp(u,"i");for(v=0;v<w.length;v+=1){if(y.test(w[v].text)===t){x.push(w[v])}}p(x,u)};if(this.value.length<c.minCharacters){a(m).html("").hide();return false}if(c.data&&c.data.length){q.apply(this,[c.data])}else{if(c.url&&typeof c.url==="string"){var s=this.value;a(m).html('<li class="ui-menu-item ajaxSearching"><a class="ui-corner-all">Searching...</a></li>').show().css("height","auto");b=window.clearTimeout(b);b=window.setTimeout(function(){a.getJSON(c.url,{search:s},function(t){if(t){p(t,s)}else{a(m).html("").hide()}})},500)}}}function o(q){switch(q.keyCode){case 13:a(i).trigger("click");return false;case 40:if(typeof i==="undefined"){i=a("li:first",m).get(0)}else{i=a(i).next().get(0)}e(i);if(i){a(m).scrollTop(i.offsetTop)}return false;case 38:if(typeof i==="undefined"){i=a("li:last",m).get(0)}else{i=a(i).prev().get(0)}e(i);if(i){a(m).scrollTop(i.offsetTop)}return false;default:n.apply(this,[q])}}a(m).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role","listbox").css({top:(l.outerHeight())+"px",left:c.left,width:c.width||(l.outerWidth()+"px"),"z-index":999,position:"absolute"}).hide();l.after(m).keyup(o).keydown(function(q){if(q.keyCode===9&&i){a(i).trigger("click");return true}}).blur(function(r){var q=a(m).offset();q.bottom=q.top+a(m).height();q.right=q.left+a(m).width();if(j<q.top||j>q.bottom||k<q.left||k>q.right){a(m).hide()}}).focus(function(q){a(m).css({top:(l.position().top+l.outerHeight())+"px",left:l.position().left+"px"});if(a("li",m).length>0){a(m).show()}}).attr("autocomplete","off");a(window).mousemove(function(q){k=q.pageX;j=q.pageY});c.notCharacter=h(c.notCharacter||"");if(c.data&&typeof c.data==="string"){c.data=a.parseJSON(c.data)}})}})(jQuery);!function(a){a.fn.jsonSuggestEmail=function(c){var b,d={url:"",data:[],minCharacters:1,maxResults:void 0,wildCard:"",caseSensitive:!1,notCharacter:"!",maxHeight:350,highlightMatches:!0,onSelect:void 0,width:void 0};return c=a.extend(d,c),this.each(function(){function k(h,l){var g=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];if(l){for(var m=0;m<g.length;m++){g[m]===l&&g.splice(m,1)}}var f=new RegExp("(\\"+g.join("|\\")+")","g");return h.replace(f,"\\$1")}function A(f){a(q).html("").hide(),"function"==typeof c.onSelect&&c.onSelect(f)}function j(f){a("li a",q).removeClass("ui-state-hover"),f&&a("a",f).addClass("ui-state-hover"),v=f}function e(o,h){var f=window.location.href.split("&id=")[0].split("value=")[1];h="("+h+")";var G,m=!0,F=0,E=c.caseSensitive?new RegExp(h,"g"):new RegExp(h,"ig");for(a(q).html("").hide(),G=0;G<o.length;G+=1){var p=a("<li />"),D=o[G].text;if(loginname="Tasks and Bugs"==f||"Tasks%20and%20Bugs"==f?o[G].login:o[G].id,!0===c.highlightMatches&&(D=D.replace(E,"<strong>$1</strong>")),a(p).append('<a class="ui-corner-all">'+D+" ("+loginname+")</a>"),"string"==typeof o[G].image&&a(">a",p).prepend('<img src="'+o[G].image+'" />'),"string"==typeof o[G].extra&&a(">a",p).append("<small>"+o[G].extra+"</small>"),a(p).addClass("ui-menu-item").addClass(m?"odd":"even").attr("role","menuitem").click(function(g){return function(){A(o[g])}}(G)).mouseover(function(g){return function(){j(g)}}(p)),a(q).append(p),m=!m,F+=1,"number"==typeof c.maxResults&&F>=c.maxResults){break}}a("li",q).length>0&&(v=void 0,a(q).show().css("height","auto"),a(q).height()>c.maxHeight&&a(q).css({overflow:"auto",height:c.maxHeight+"px"}))}function C(f){var h=function(r){var p,n,D=[],u=c.wildCard?k(this.value,c.wildCard).replace(i,".*"):k(this.value),m=!0;for(c.notCharacter&&0===u.indexOf(c.notCharacter)&&(u=u.substr(c.notCharacter.length,u.length)).length>0&&(m=!1),u=u||".*",u=c.wildCard?"^"+u:u,p=c.caseSensitive?new RegExp(u):new RegExp(u,"i"),n=0;n<r.length;n+=1){p.test(r[n].text)===m&&D.push(r[n])}e(D,u)};if(B(this).length<c.minCharacters){return a(q).html("").hide(),!1}if(c.data&&c.data.length){h.apply(this,[c.data])}else{if(c.url&&"string"==typeof c.url){var g=B(this);a(q).html('<li class="ui-menu-item ajaxSearching"><a class="ui-corner-all">Searching...</a></li>').show().css("height","auto"),b=window.clearTimeout(b),b=window.setTimeout(function(){a.getJSON(c.url,{search:g},function(l){l?e(l,g):a(q).html("").hide()})},500)}}}function t(f){switch(f.keyCode){case 13:return a(v).trigger("click"),!1;case 40:return v=void 0===v?a("li:first",q).get(0):a(v).next().get(0),j(v),v&&a(q).scrollTop(v.offsetTop),!1;case 38:return v=void 0===v?a("li:last",q).get(0):a(v).prev().get(0),j(v),v&&a(q).scrollTop(v.offsetTop),!1;default:C.apply(this,[f])}}function B(h){var l=h.value,g=z(h),m=l.lastIndexOf(",",g-1),f=l.indexOf(",",g);return m>=0&&f>=0?l.substring(m+1,f):f>=0?l.substring(0,f):m>=0?l.substring(m+1,l.length):l}function z(g){var h=0;if(document.selection){g.focus();var f=document.selection.createRange();f.moveStart("character",-g.value.length),h=f.text.length}else{(g.selectionStart||"0"==g.selectionStart)&&(h=g.selectionStart)}return h}var v,w,y,x=a(this),i=new RegExp(k(c.wildCard||""),"g"),q=a("<ul />");a(q).addClass("jsonSuggest ui-autocomplete ui-menu ui-widget ui-widget-content ui-corner-all").attr("role","listbox").css({top:x.outerHeight()+"px","margin-left":"0px",left:x.position().left+"px","z-index":999,position:"absolute"}).hide(),x.after(q).keyup(t).keydown(function(f){if(9===f.keyCode&&v){return a(v).trigger("click"),!0}}).blur(function(g){var f=a(q).offset();f.bottom=f.top+a(q).height(),f.right=f.left+a(q).width(),(y<f.top||y>f.bottom||w<f.left||w>f.right)&&a(q).hide()}).focus(function(f){a(q).css({top:x.position().top+x.outerHeight()+"px",left:x.position().left+"px"}),a("li",q).length>0&&a(q).show()}).attr("autocomplete","off"),a(window).mousemove(function(f){w=f.pageX,y=f.pageY}),c.notCharacter=k(c.notCharacter||""),c.data&&"string"==typeof c.data&&(c.data=a.parseJSON(c.data))})}}(jQuery);(function($,undefined){$.extend($.ui,{timepicker:{version:"0.2.3"}});var PROP_NAME="timepicker";var tpuuid=new Date().getTime();function Timepicker(){this.debug=true;this._curInst=null;this._isInline=false;this._disabledInputs=[];this._timepickerShowing=false;this._inDialog=false;this._dialogClass="ui-timepicker-dialog";this._mainDivId="ui-timepicker-div";this._inlineClass="ui-timepicker-inline";this._currentClass="ui-timepicker-current";this._dayOverClass="ui-timepicker-days-cell-over";this.regional=[];this.regional[""]={hourText:"Hour",minuteText:"Minute",amPmText:["AM","PM"]};this._defaults={showOn:"focus",button:null,showAnim:"fadeIn",showOptions:{},appendText:"",onSelect:null,onClose:null,timeSeparator:":",periodSeparator:" ",showPeriod:false,showPeriodLabels:true,showLeadingZero:true,showMinutesLeadingZero:true,altField:"",defaultTime:"now",onHourShow:null,onMinuteShow:null,zIndex:null,hours:{starts:0,ends:23},minutes:{starts:0,ends:55,interval:5},rows:4};$.extend(this._defaults,this.regional[""]);this.tpDiv=$('<div id="'+this._mainDivId+'" class="ui-timepicker ui-widget ui-helper-clearfix ui-corner-all " style="display: none"></div>')}$.extend(Timepicker.prototype,{markerClassName:"hasTimepicker",log:function(){if(this.debug){console.log.apply("",arguments)}},_widgetTimepicker:function(){return this.tpDiv},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachTimepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("time:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=="div"||nodeName=="span");if(!target.id){this.uuid+=1;target.id="tp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectTimepicker(target,inst)}else{if(inline){this._inlineTimepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,inline:inline,tpDiv:(!inline?this.tpDiv:$('<div class="'+this._inlineClass+' ui-timepicker ui-widget  ui-helper-clearfix"></div>'))}},_connectTimepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keyup(this._doKeyUp).bind("setData.timepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.timepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst)},_doKeyDown:function(event){var inst=$.timepicker._getInst(event.target);var handled=true;inst._keyEvent=true;if($.timepicker._timepickerShowing){switch(event.keyCode){case 9:$.timepicker._hideTimepicker();handled=false;break;case 13:$.timepicker._updateSelectedValue(inst);$.timepicker._hideTimepicker();return false;break;case 27:$.timepicker._hideTimepicker();break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.timepicker._showTimepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyUp:function(event){var inst=$.timepicker._getInst(event.target);$.timepicker._setTimeFromField(inst);$.timepicker._updateTimepicker(inst)},_attachments:function(input,inst){var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove()}if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}input.unbind("focus.timepicker",this._showTimepicker);if(inst.trigger){inst.trigger.remove()}var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both"){input.bind("focus.timepicker",this._showTimepicker)}if(showOn=="button"||showOn=="both"){var button=this._get(inst,"button");$(button).bind("click.timepicker",function(){if($.timepicker._timepickerShowing&&$.timepicker._lastInput==input[0]){$.timepicker._hideTimepicker()}else{$.timepicker._showTimepicker(input[0])}return false})}},_inlineTimepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.tpDiv).bind("setData.timepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.timepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setTimeFromField(inst);this._updateTimepicker(inst);inst.tpDiv.show()},_showTimepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0]}if($.timepicker._isDisabledTimepicker(input)||$.timepicker._lastInput==input){return}$.timepicker._hideTimepicker();var inst=$.timepicker._getInst(input);if($.timepicker._curInst&&$.timepicker._curInst!=inst){$.timepicker._curInst.tpDiv.stop(true,true)}var beforeShow=$.timepicker._get(inst,"beforeShow");extendRemove(inst.settings,(beforeShow?beforeShow.apply(input,[input,inst]):{}));inst.lastVal=null;$.timepicker._lastInput=input;$.timepicker._setTimeFromField(inst);if($.timepicker._inDialog){input.value=""}if(!$.timepicker._pos){$.timepicker._pos=$.timepicker._findPos(input);$.timepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return !isFixed});if(isFixed&&$.browser.opera){$.timepicker._pos[0]-=document.documentElement.scrollLeft;$.timepicker._pos[1]-=document.documentElement.scrollTop}var offset={left:$.timepicker._pos[0],top:$.timepicker._pos[1]};$.timepicker._pos=null;inst.tpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.timepicker._updateTimepicker(inst);inst._hoursClicked=false;inst._minutesClicked=false;offset=$.timepicker._checkOffset(inst,offset,isFixed);inst.tpDiv.css({position:($.timepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.timepicker._get(inst,"showAnim");var duration=$.timepicker._get(inst,"duration");var zIndex=$.timepicker._get(inst,"zIndex");var postProcess=function(){$.timepicker._timepickerShowing=true;var borders=$.timepicker._getBorders(inst.tpDiv);inst.tpDiv.find("iframe.ui-timepicker-cover").css({left:-borders[0],top:-borders[1],width:inst.tpDiv.outerWidth(),height:inst.tpDiv.outerHeight()})};if(!zIndex){zIndex=$(input).zIndex()+1}inst.tpDiv.zIndex(zIndex);if($.effects&&$.effects[showAnim]){inst.tpDiv.show(showAnim,$.timepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.tpDiv[showAnim||"show"]((showAnim?duration:null),postProcess)}if(!showAnim||!duration){postProcess()}if(inst.input.is(":visible")&&!inst.input.is(":disabled")){inst.input.focus()}$.timepicker._curInst=inst}},_updateTimepicker:function(inst){var self=this;var borders=$.timepicker._getBorders(inst.tpDiv);inst.tpDiv.empty().append(this._generateHTML(inst)).find("iframe.ui-timepicker-cover").css({left:-borders[0],top:-borders[1],width:inst.tpDiv.outerWidth(),height:inst.tpDiv.outerHeight()}).end().find(".ui-timepicker-minute-cell").bind("click",{fromDoubleClick:false},$.proxy($.timepicker.selectMinutes,this)).bind("dblclick",{fromDoubleClick:true},$.proxy($.timepicker.selectMinutes,this)).end().find(".ui-timepicker-hour-cell").bind("click",{fromDoubleClick:false},$.proxy($.timepicker.selectHours,this)).bind("dblclick",{fromDoubleClick:true},$.proxy($.timepicker.selectHours,this)).end().find(".ui-timepicker td a").bind("mouseout",function(){$(this).removeClass("ui-state-hover");if(this.className.indexOf("ui-timepicker-prev")!=-1){$(this).removeClass("ui-timepicker-prev-hover")}if(this.className.indexOf("ui-timepicker-next")!=-1){$(this).removeClass("ui-timepicker-next-hover")}}).bind("mouseover",function(){if(!self._isDisabledTimepicker(inst.inline?inst.tpDiv.parent()[0]:inst.input[0])){$(this).parents(".ui-timepicker-calendar").find("a").removeClass("ui-state-hover");$(this).addClass("ui-state-hover");if(this.className.indexOf("ui-timepicker-prev")!=-1){$(this).addClass("ui-timepicker-prev-hover")}if(this.className.indexOf("ui-timepicker-next")!=-1){$(this).addClass("ui-timepicker-next-hover")}}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end()},_generateHTML:function(inst){var h,m,row,html="",showPeriod=(this._get(inst,"showPeriod")==true),showPeriodLabels=(this._get(inst,"showPeriodLabels")==true),showLeadingZero=(this._get(inst,"showLeadingZero")==true),amPmText=this._get(inst,"amPmText"),rows=this._get(inst,"rows"),amRows=rows/2,pmFirstRow=amRows+1,hours=Array(),hours_options=this._get(inst,"hours"),hoursPerRow=null,hourCounter=0,hourLabel=this._get(inst,"hourText");for(h=hours_options.starts;h<=hours_options.ends;h++){hours.push(h)}hoursPerRow=Math.round(hours.length/rows+0.49);html='<table class="ui-timepicker-table ui-widget-content ui-corner-all"><tr><td class="ui-timepicker-hours"><div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+hourLabel+'</div><table class="ui-timepicker">';for(row=1;row<=rows;row++){html+="<tr>";if(row==1&&showPeriodLabels){html+='<th rowspan="'+amRows.toString()+'" class="periods">'+amPmText[0]+"</th>"}if(row==pmFirstRow&&showPeriodLabels){html+='<th rowspan="'+amRows.toString()+'" class="periods">'+amPmText[1]+"</th>"}while(hourCounter<hoursPerRow*row){html+=this._generateHTMLHourCell(inst,hours[hourCounter],showPeriod,showLeadingZero);hourCounter++}html+="</tr>"}html+='</tr></table></td><td class="ui-timepicker-minutes">';html+=this._generateHTMLMinutes(inst);html+="</td></tr></table>";html+=($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-timepicker-cover" frameborder="0"></iframe>':"");return html},_updateMinuteDisplay:function(inst){var newHtml=this._generateHTMLMinutes(inst);inst.tpDiv.find("td.ui-timepicker-minutes").html(newHtml).find(".ui-timepicker-minute-cell").bind("click",{fromDoubleClick:false},$.proxy($.timepicker.selectMinutes,this)).bind("dblclick",{fromDoubleClick:true},$.proxy($.timepicker.selectMinutes,this))},_generateHTMLMinutes:function(inst){var m,row,html="",rows=this._get(inst,"rows"),minutes=Array(),minutes_options=this._get(inst,"minutes"),minutesPerRow=null,minuteCounter=0,showMinutesLeadingZero=(this._get(inst,"showMinutesLeadingZero")==true),onMinuteShow=this._get(inst,"onMinuteShow"),minuteLabel=this._get(inst,"minuteText");if(!minutes_options.starts){minutes_options.starts=0}if(!minutes_options.ends){minutes_options.ends=59}for(m=minutes_options.starts;m<=minutes_options.ends;m+=minutes_options.interval){minutes.push(m)}minutesPerRow=Math.round(minutes.length/rows+0.49);if(onMinuteShow&&(onMinuteShow.apply((inst.input?inst.input[0]:null),[inst.hours,inst.minutes])==false)){for(minuteCounter=0;minuteCounter<minutes.length;minuteCounter+=1){m=minutes[minuteCounter];if(onMinuteShow.apply((inst.input?inst.input[0]:null),[inst.hours,m])){inst.minutes=m;break}}}html+='<div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+minuteLabel+'</div><table class="ui-timepicker">';minuteCounter=0;for(row=1;row<=rows;row++){html+="<tr>";while(minuteCounter<row*minutesPerRow){var m=minutes[minuteCounter];var displayText="";if(m!==undefined){displayText=(m<10)&&showMinutesLeadingZero?"0"+m.toString():m.toString()}html+=this._generateHTMLMinuteCell(inst,m,displayText);minuteCounter++}html+="</tr>"}html+="</table>";return html},_generateHTMLHourCell:function(inst,hour,showPeriod,showLeadingZero){var displayHour=hour;if((hour>12)&&showPeriod){displayHour=hour-12}if((displayHour==0)&&showPeriod){displayHour=12}if((displayHour<10)&&showLeadingZero){displayHour="0"+displayHour}var html="";var enabled=true;var onHourShow=this._get(inst,"onHourShow");if(hour==undefined){html='<td class="ui-state-default ui-state-disabled">&nbsp;</td>';return html}if(onHourShow){enabled=onHourShow.apply((inst.input?inst.input[0]:null),[hour])}if(enabled){html='<td class="ui-timepicker-hour-cell" data-timepicker-instance-id="#'+inst.id.replace("\\\\","\\")+'" data-hour="'+hour.toString()+'"><a class="ui-state-default '+(hour==inst.hours?"ui-state-active":"")+'">'+displayHour.toString()+"</a></td>"}else{html='<td><span class="ui-state-default ui-state-disabled '+(hour==inst.hours?" ui-state-active ":" ")+'">'+displayHour.toString()+"</span></td>"}return html},_generateHTMLMinuteCell:function(inst,minute,displayText){var html="";var enabled=true;var onMinuteShow=this._get(inst,"onMinuteShow");if(onMinuteShow){enabled=onMinuteShow.apply((inst.input?inst.input[0]:null),[inst.hours,minute])}if(minute==undefined){html='<td class=ui-state-default ui-state-disabled">&nbsp;</td>';return html}if(enabled){html='<td class="ui-timepicker-minute-cell" data-timepicker-instance-id="#'+inst.id.replace("\\\\","\\")+'" data-minute="'+minute.toString()+'" ><a class="ui-state-default '+(minute==inst.minutes?"ui-state-active":"")+'" >'+displayText+"</a></td>"}else{html='<td><span class="ui-state-default ui-state-disabled" >'+displayText+"</span></td>"}return html},_isDisabledTimepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_checkOffset:function(inst,offset,isFixed){var tpWidth=inst.tpDiv.outerWidth();var tpHeight=inst.tpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=document.documentElement.clientWidth+$(document).scrollLeft();var viewHeight=document.documentElement.clientHeight+$(document).scrollTop();offset.left-=(this._get(inst,"isRTL")?(tpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+tpWidth>viewWidth&&viewWidth>tpWidth)?Math.abs(offset.left+tpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+tpHeight>viewHeight&&viewHeight>tpHeight)?Math.abs(tpHeight+inputHeight):0);return offset},_findPos:function(obj){var inst=this._getInst(obj);var isRTL=this._get(inst,"isRTL");while(obj&&(obj.type=="hidden"||obj.nodeType!=1)){obj=obj[isRTL?"previousSibling":"nextSibling"]}var position=$(obj).offset();return[position.left,position.top]},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkExternalClick:function(event){if(!$.timepicker._curInst){return}var $target=$(event.target);if($target[0].id!=$.timepicker._mainDivId&&$target.parents("#"+$.timepicker._mainDivId).length==0&&!$target.hasClass($.timepicker.markerClassName)&&!$target.hasClass($.timepicker._triggerClass)&&$.timepicker._timepickerShowing&&!($.timepicker._inDialog&&$.blockUI)){$.timepicker._hideTimepicker()}},_hideTimepicker:function(input){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(this._timepickerShowing){var showAnim=this._get(inst,"showAnim");var duration=this._get(inst,"duration");var postProcess=function(){$.timepicker._tidyDialog(inst);this._curInst=null};if($.effects&&$.effects[showAnim]){inst.tpDiv.hide(showAnim,$.timepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.tpDiv[(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess)}if(!showAnim){postProcess()}var onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._timepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.tpDiv)}}this._inDialog=false}},_tidyDialog:function(inst){inst.tpDiv.removeClass(this._dialogClass).unbind(".ui-timepicker")},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this timepicker"}},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setTimeFromField:function(inst){if(inst.input.val()==inst.lastVal){return}var defaultTime=this._get(inst,"defaultTime");var timeToParse=defaultTime=="now"?this._getCurrentTimeRounded(inst):defaultTime;if((inst.inline==false)&&(inst.input.val()!="")){timeToParse=inst.input.val()}var timeVal=inst.lastVal=timeToParse;if(timeToParse==""){inst.hours=-1;inst.minutes=-1}else{var time=this.parseTime(inst,timeVal);inst.hours=time.hours;inst.minutes=time.minutes}$.timepicker._updateTimepicker(inst)},_setTimeTimepicker:function(target,time){var inst=this._getInst(target);if(inst){this._setTime(inst,time);this._updateTimepicker(inst);this._updateAlternate(inst,time)}},_setTime:function(inst,time,noChange){var origHours=inst.hours;var origMinutes=inst.minutes;var time=this.parseTime(inst,time);inst.hours=time.hours;inst.minutes=time.minutes;if((origHours!=inst.hours||origMinutes!=inst.minuts)&&!noChange){inst.input.trigger("change")}this._updateTimepicker(inst);this._updateSelectedValue(inst)},_getCurrentTimeRounded:function(inst){var currentTime=new Date();var timeSeparator=this._get(inst,"timeSeparator");var currentMinutes=currentTime.getMinutes();currentMinutes=Math.round(currentMinutes/5)*5;return currentTime.getHours().toString()+timeSeparator+currentMinutes.toString()},parseTime:function(inst,timeVal){var retVal=new Object();retVal.hours=-1;retVal.minutes=-1;var timeSeparator=this._get(inst,"timeSeparator");var amPmText=this._get(inst,"amPmText");var p=timeVal.indexOf(timeSeparator);if(p==-1){return retVal}retVal.hours=parseInt(timeVal.substr(0,p),10);retVal.minutes=parseInt(timeVal.substr(p+1),10);var showPeriod=(this._get(inst,"showPeriod")==true);var timeValUpper=timeVal.toUpperCase();if((retVal.hours<12)&&(showPeriod)&&(timeValUpper.indexOf(amPmText[1].toUpperCase())!=-1)){retVal.hours+=12}if((retVal.hours==12)&&(showPeriod)&&(timeValUpper.indexOf(amPmText[0].toUpperCase())!=-1)){retVal.hours=0}return retVal},selectHours:function(event){var $td=$(event.currentTarget),id=$td.attr("data-timepicker-instance-id"),newHours=$td.attr("data-hour"),fromDoubleClick=event.data.fromDoubleClick,target=$(id),inst=this._getInst(target[0]);$td.parents(".ui-timepicker-hours:first").find("a").removeClass("ui-state-active");$td.children("a").addClass("ui-state-active");inst.hours=newHours;var onMinuteShow=this._get(inst,"onMinuteShow");if(onMinuteShow){this._updateMinuteDisplay(inst)}this._updateSelectedValue(inst);inst._hoursClicked=true;if((inst._minutesClicked)||(fromDoubleClick)){$.timepicker._hideTimepicker()}return false},selectMinutes:function(event){var $td=$(event.currentTarget);var id=$td.attr("data-timepicker-instance-id");var newMinutes=$td.attr("data-minute");var fromDoubleClick=event.data.fromDoubleClick;var target=$(id);var inst=this._getInst(target[0]);$td.parents(".ui-timepicker-minutes:first").find("a").removeClass("ui-state-active");$td.children("a").addClass("ui-state-active");inst.minutes=newMinutes;this._updateSelectedValue(inst);inst._minutesClicked=true;if((inst._hoursClicked)||(fromDoubleClick)){$.timepicker._hideTimepicker();return false}return false},_updateSelectedValue:function(inst){var newTime=this._getParsedTime(inst);if(inst.input){inst.input.val(newTime);inst.input.trigger("change")}var onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[newTime,inst])}this._updateAlternate(inst,newTime);return newTime},_getParsedTime:function(inst){if((inst.hours<0)||(inst.hours>23)){inst.hours=12}if((inst.minutes<0)||(inst.minutes>59)){inst.minutes=0}var period="",showPeriod=(this._get(inst,"showPeriod")==true),showLeadingZero=(this._get(inst,"showLeadingZero")==true),amPmText=this._get(inst,"amPmText"),selectedHours=inst.hours?inst.hours:0,selectedMinutes=inst.minutes?inst.minutes:0,displayHours=selectedHours?selectedHours:0;if(showPeriod){if(inst.hours==0){displayHours=12}if(inst.hours<12){period=amPmText[0]}else{period=amPmText[1];if(displayHours>12){displayHours-=12}}}var h=displayHours.toString();if(showLeadingZero&&(displayHours<10)){h="0"+h}var m=selectedMinutes.toString();if(selectedMinutes<10){m="0"+m}var parsedTime=h+this._get(inst,"timeSeparator")+m;if(period.length>0){parsedTime+=this._get(inst,"periodSeparator")+period}return parsedTime},_updateAlternate:function(inst,newTime){var altField=this._get(inst,"altField");if(altField){$(altField).each(function(i,e){$(e).val(newTime)})}},_getTimeTimepicker:function(input){var inst=this._getInst(input);return this._getParsedTime(inst)},_getHourTimepicker:function(input){var inst=this._getInst(input);return inst.hours},_getMinuteTimepicker:function(input){var inst=this._getInst(input);return inst.minutes}});$.fn.timepicker=function(options){if(!$.timepicker.initialized){$(document).mousedown($.timepicker._checkExternalClick).find("body").append($.timepicker.tpDiv);$.timepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="getTime"||options=="getHour"||options=="getMinute")){return $.timepicker["_"+options+"Timepicker"].apply($.timepicker,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.timepicker["_"+options+"Timepicker"].apply($.timepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.timepicker["_"+options+"Timepicker"].apply($.timepicker,[this].concat(otherArgs)):$.timepicker._attachTimepicker(this,options)})};function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}$.timepicker=new Timepicker();$.timepicker.initialized=false;$.timepicker.uuid=new Date().getTime();$.timepicker.version="0.2.3";window["TP_jQuery_"+tpuuid]=$})(jQuery);function H(){var a=navigator&&navigator.userAgent&&/\bMSIE 6\./.test(navigator.userAgent);H=function(){return a};return a}(function(){function aA(q){q=q.split(/ /g);var r={};for(var v=q.length;--v>=0;){var u=q[v];if(u){r[u]=null}}return r}var ay="break continue do else for if return while ",k=ay+"auto case char const default double enum extern float goto int long register short signed sizeof static struct switch typedef union unsigned void volatile ",ai=k+"catch class delete false import new operator private protected public this throw true try ",ae=ai+"alignof align_union asm axiom bool concept concept_map const_cast constexpr decltype dynamic_cast explicit export friend inline late_check mutable namespace nullptr reinterpret_cast static_assert static_cast template typeid typename typeof using virtual wchar_t where ",ad=ai+"boolean byte extends final finally implements import instanceof null native package strictfp super synchronized throws transient ",i=ad+"as base by checked decimal delegate descending event fixed foreach from group implicit in interface internal into is lock object out override orderby params readonly ref sbyte sealed stackalloc string select uint ulong unchecked unsafe ushort var ",ac=ai+"debugger eval export function get null set undefined var with Infinity NaN ",ab="caller delete die do dump elsif eval exit foreach for goto if import last local my next no our print package redo require sub undef unless until use wantarray while BEGIN END ",B=ay+"and as assert class def del elif except exec finally from global import in is lambda nonlocal not or pass print raise try with yield False True None ",A=ay+"alias and begin case class def defined elsif end ensure false in module next nil not or redo rescue retry self super then true undef unless until when yield BEGIN END ",w=ay+"case done elif esac eval fi function in local set then until ",h=ae+i+ac+ab+B+A+w;function f(q){return q>="a"&&q<="z"||q>="A"&&q<="Z"}function aD(q,r,v,u){q.unshift(v,u||0);try{r.splice.apply(r,q)}finally{q.splice(0,2)}}var e=(function(){var q=["!","!=","!==","#","%","%=","&","&&","&&=","&=","(","*","*=","+=",",","-=","->","/","/=",":","::",";","<","<<","<<=","<=","=","==","===",">",">=",">>",">>=",">>>",">>>=","?","@","[","^","^=","^^","^^=","{","|","|=","||","||=","~","break","case","continue","delete","do","else","finally","instanceof","return","throw","try","typeof"],r="(?:(?:(?:^|[^0-9.])\\.{1,3})|(?:(?:^|[^\\+])\\+)|(?:(?:^|[^\\-])-)";for(var v=0;v<q.length;++v){var u=q[v];r+=f(u.charAt(0))?"|\\b"+u:"|"+u.replace(/([^=<>:&])/g,"\\$1")}r+="|^)\\s*$";return new RegExp(r)})(),t=/&/g,s=/</g,o=/>/g,c=/\"/g;function at(q){return q.replace(t,"&amp;").replace(s,"&lt;").replace(o,"&gt;").replace(c,"&quot;")}function ah(q){return q.replace(t,"&amp;").replace(s,"&lt;").replace(o,"&gt;")}var ak=/&lt;/g,aI=/&gt;/g,au=/&apos;/g,al=/&quot;/g,a=/&amp;/g,av=/&nbsp;/g;function am(q){var r=q.indexOf("&");if(r<0){return q}for(--r;(r=q.indexOf("&#",r+1))>=0;){var y=q.indexOf(";",r);if(y>=0){var x=q.substring(r+3,y),u=10;if(x&&x.charAt(0)==="x"){x=x.substring(1);u=16}var v=parseInt(x,u);if(!isNaN(v)){q=q.substring(0,r)+String.fromCharCode(v)+q.substring(y+1)}}}return q.replace(ak,"<").replace(aI,">").replace(au,"'").replace(al,'"').replace(a,"&").replace(av," ")}function n(q){return"XMP"===q.tagName}function ax(q,r){switch(q.nodeType){case 1:var y=q.tagName.toLowerCase();r.push("<",y);for(var x=0;x<q.attributes.length;++x){var u=q.attributes[x];if(!u.specified){continue}r.push(" ");ax(u,r)}r.push(">");for(var v=q.firstChild;v;v=v.nextSibling){ax(v,r)}if(q.firstChild||!/^(?:br|link|img)$/.test(y)){r.push("</",y,">")}break;case 2:r.push(q.name.toLowerCase(),'="',at(q.value),'"');break;case 3:case 4:r.push(ah(q.nodeValue));break}}var ag=null;function b(q){if(null===ag){var r=document.createElement("PRE");r.appendChild(document.createTextNode('<!DOCTYPE foo PUBLIC "foo bar">\n<foo />'));ag=!/</.test(r.innerHTML)}if(ag){var x=q.innerHTML;if(n(q)){x=ah(x)}return x}var v=[];for(var u=q.firstChild;u;u=u.nextSibling){ax(u,v)}return v.join("")}function aw(q){var r=0;return function(D){var C=null,x=0;for(var z=0,v=D.length;z<v;++z){var y=D.charAt(z);switch(y){case"\t":if(!C){C=[]}C.push(D.substring(x,z));var u=q-r%q;r+=u;for(;u>=0;u-="                ".length){C.push("                ".substring(0,u))}x=z+1;break;case"\n":r=0;break;default:++r}}if(!C){return D}C.push(D.substring(x));return C.join("")}}var an=/(?:[^<]+|<!--[\s\S]*?--\>|<!\[CDATA\[([\s\S]*?)\]\]>|<\/?[a-zA-Z][^>]*>|<)/g,d=/^<!--/,az=/^<\[CDATA\[/,ao=/^<br\b/i;function g(C){var D=C.match(an),z=[],y=0,u=[];if(D){for(var x=0,r=D.length;x<r;++x){var v=D[x];if(v.length>1&&v.charAt(0)==="<"){if(d.test(v)){continue}if(az.test(v)){z.push(v.substring(9,v.length-3));y+=v.length-12}else{if(ao.test(v)){z.push("\n");++y}else{u.push(y,v)}}}else{var q=am(v);z.push(q);y+=q.length}}}return{source:z.join(""),tags:u}}function aC(q,r){var v={};(function(){var z=q.concat(r);for(var D=z.length;--D>=0;){var y=z[D],C=y[3];if(C){for(var x=C.length;--x>=0;){v[C.charAt(x)]=y}}}})();var u=r.length;return function(J,L){L=L||0;var I=[L,"pln"],K="",G=0,F=J;while(F.length){var y,C=null,E,D=v[F.charAt(0)];if(D){E=F.match(D[1]);C=E[0];y=D[0]}else{for(var z=0;z<u;++z){D=r[z];var x=D[2];if(x&&!x.test(K)){continue}E=F.match(D[1]);if(E){C=E[0];y=D[0];break}}if(!C){y="pln";C=F.substring(0,1)}}I.push(L+G,y);G+=C.length;F=F.substring(C.length);if(y!=="com"&&/\S/.test(C)){K=C}}return I}}var aB=aC([],[["pln",/^[^<]+/,null],["dec",/^<!\w[^>]*(?:>|$)/,null],["com",/^<!--[\s\S]*?(?:--\>|$)/,null],["src",/^<\?[\s\S]*?(?:\?>|$)/,null],["src",/^<%[\s\S]*?(?:%>|$)/,null],["src",/^<(script|style|xmp)\b[^>]*>[\s\S]*?<\/\1\b[^>]*>/i,null],["tag",/^<\/?\w[^<>]*>/,null]]);function ap(q){var r=aB(q);for(var z=0;z<r.length;z+=2){if(r[z+1]==="src"){var y,v;y=r[z];v=z+2<r.length?r[z+2]:q.length;var x=q.substring(y,v),u=x.match(/^(<[^>]*>)([\s\S]*)(<\/[^>]*>)$/);if(u){r.splice(z,2,y,"tag",y+u[1].length,"src",y+u[1].length+(u[2]||"").length,"tag")}}}return r}var j=aC([["atv",/^\'[^\']*(?:\'|$)/,null,"'"],["atv",/^\"[^\"]*(?:\"|$)/,null,'"'],["pun",/^[<>\/=]+/,null,"<>/="]],[["tag",/^[\w:\-]+/,/^</],["atv",/^[\w\-]+/,/^=/],["atn",/^[\w:\-]+/,null],["pln",/^\s+/,null," \t\r\n"]]);function aE(q,r){for(var C=0;C<r.length;C+=2){var z=r[C+1];if(z==="tag"){var v,y;v=r[C];y=C+2<r.length?r[C+2]:q.length;var u=q.substring(v,y),x=j(u,v);aD(x,r,C,2);C+=x.length-2}}return r}function aG(q){var r=[],z=[];if(q.tripleQuotedStrings){r.push(["str",/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""])}else{if(q.multiLineStrings){r.push(["str",/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"])}else{r.push(["str",/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"])}}z.push(["pln",/^(?:[^\'\"\`\/\#]+)/,null," \r\n"]);if(q.hashComments){r.push(["com",/^#[^\r\n]*/,null,"#"])}if(q.cStyleComments){z.push(["com",/^\/\/[^\r\n]*/,null])}if(q.regexLiterals){z.push(["str",/^\/(?:[^\\\*\/\[]|\\[\s\S]|\[(?:[^\]\\]|\\.)*(?:\]|$))+(?:\/|$)/,e])}if(q.cStyleComments){z.push(["com",/^\/\*[\s\S]*?(?:\*\/|$)/,null])}var y=aA(q.keywords);q=null;var v=aC(r,z),x=aC([],[["pln",/^\s+/,null," \r\n"],["pln",/^[a-z_$@][a-z_$@0-9]*/i,null],["lit",/^0x[a-f0-9]+[a-z]/i,null],["lit",/^(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d+)(?:e[+\-]?\d+)?[a-z]*/i,null,"123456789"],["pun",/^[^\s\w\.$@]+/,null]]);function u(N,M){for(var L=0;L<M.length;L+=2){var F=M[L+1];if(F==="pln"){var I,K,J,G;I=M[L];K=L+2<M.length?M[L+2]:N.length;J=N.substring(I,K);G=x(J,I);for(var D=0,P=G.length;D<P;D+=2){var O=G[D+1];if(O==="pln"){var E=G[D],C=D+2<P?G[D+2]:J.length,Q=N.substring(E,C);if(Q==="."){G[D+1]="pun"}else{if(Q in y){G[D+1]="kwd"}else{if(/^@?[A-Z][A-Z$]*[a-z][A-Za-z$]*$/.test(Q)){G[D+1]=Q.charAt(0)==="@"?"lit":"typ"}}}}}aD(G,M,L,2);L+=G.length-2}}return M}return function(D){var C=v(D);C=u(D,C);return C}}var af=aG({keywords:h,hashComments:true,cStyleComments:true,multiLineStrings:true,regexLiterals:true});function aq(C,D){for(var z=0;z<D.length;z+=2){var y=D[z+1];if(y==="src"){var u,x;u=D[z];x=z+2<D.length?D[z+2]:C.length;var r=af(C.substring(u,x));for(var v=0,q=r.length;v<q;v+=2){r[v]+=u}aD(r,D,z,2);z+=r.length-2}}return D}function m(K,L){var J=false;for(var I=0;I<L.length;I+=2){var E=L[I+1],G,D;if(E==="atn"){G=L[I];D=I+2<L.length?L[I+2]:K.length;J=/^on|^style$/i.test(K.substring(G,D))}else{if(E==="atv"){if(J){G=L[I];D=I+2<L.length?L[I+2]:K.length;var F=K.substring(G,D),C=F.length,z=C>=2&&/^[\"\']/.test(F)&&F.charAt(0)===F.charAt(C-1),r,v,y;if(z){v=G+1;y=D-1;r=F}else{v=G+1;y=D-1;r=F.substring(1,F.length-1)}var x=af(r);for(var u=0,q=x.length;u<q;u+=2){x[u]+=v}if(z){x.push(y,"atv");aD(x,L,I+2,0)}else{aD(x,L,I,2)}}J=false}}}return L}function aF(q){var r=ap(q);r=aE(q,r);r=aq(q,r);r=m(q,r);return r}function ar(F,G,E){var D=[],y=0,C=null,x=null,z=0,v=0,u=aw(8);function q(J){if(J>y){if(C&&C!==x){D.push("</span>");C=null}if(!C&&x){C=x;D.push('<span class="',C,'">')}var I=ah(u(F.substring(y,J))).replace(/(\r\n?|\n| ) /g,"$1&nbsp;").replace(/\r\n?|\n/g,"<br />");D.push(I);y=J}}while(true){var r;r=z<G.length?(v<E.length?G[z]<=E[v]:true):false;if(r){q(G[z]);if(C){D.push("</span>");C=null}D.push(G[z+1]);z+=2}else{if(v<E.length){q(E[v]);x=E[v+1];v+=2}else{break}}}q(F.length);if(C){D.push("</span>")}return D.join("")}var aj={};function aH(q,r){for(var v=r.length;--v>=0;){var u=r[v];if(!aj.hasOwnProperty(u)){aj[u]=q}else{if("console" in window){console.log("cannot override language handler %s",u)}}}}aH(af,["default-code"]);aH(aF,["default-markup","html","htm","xhtml","xml","xsl"]);aH(aG({keywords:ae,hashComments:true,cStyleComments:true}),["c","cc","cpp","cs","cxx","cyc"]);aH(aG({keywords:ad,cStyleComments:true}),["java"]);aH(aG({keywords:w,hashComments:true,multiLineStrings:true}),["bsh","csh","sh"]);aH(aG({keywords:B,hashComments:true,multiLineStrings:true,tripleQuotedStrings:true}),["cv","py"]);aH(aG({keywords:ab,hashComments:true,multiLineStrings:true,regexLiterals:true}),["perl","pl","pm"]);aH(aG({keywords:A,hashComments:true,multiLineStrings:true,regexLiterals:true}),["rb"]);aH(aG({keywords:ac,cStyleComments:true,regexLiterals:true}),["js"]);function l(q,r){try{var z=g(q),y=z.source,v=z.tags;if(!aj.hasOwnProperty(r)){r=/^\s*</.test(y)?"default-markup":"default-code"}var x=aj[r].call({},y);return ar(y,v,x)}catch(u){if("console" in window){console.log(u);console.trace()}return q}}function p(q){var r=H(),C=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],z=[];for(var v=0;v<C.length;++v){for(var y=0;y<C[v].length;++y){z.push(C[v][y])}}C=null;var u=0;function x(){var N=(new Date).getTime()+250;for(;u<z.length&&(new Date).getTime()<N;u++){var M=z[u];if(M.className&&M.className.indexOf("prettyprint")>=0){var G=M.className.match(/\blang-(\w+)\b/);if(G){G=G[1]}var J=false;for(var L=M.parentNode;L;L=L.parentNode){if((L.tagName==="pre"||L.tagName==="code"||L.tagName==="xmp")&&L.className&&L.className.indexOf("prettyprint")>=0){J=true;break}}if(!J){var K=b(M);K=K.replace(/(?:\r\n?|\n)$/,"");var I=l(K,G);if(!n(M)){M.innerHTML=I}else{var E=document.createElement("PRE");for(var P=0;P<M.attributes.length;++P){var O=M.attributes[P];if(O.specified){E.setAttribute(O.name,O.value)}}E.innerHTML=I;M.parentNode.replaceChild(E,M);E=M}if(r&&M.tagName==="PRE"){var F=M.getElementsByTagName("br");for(var D=F.length;--D>=0;){var Q=F[D];Q.parentNode.replaceChild(document.createTextNode("\r\n"),Q)}}}}}if(u<z.length){setTimeout(x,250)}else{if(q){q()}}}x()}window.PR_normalizedHtml=ax;window.prettyPrintOne=l;window.prettyPrint=p;window.PR={createSimpleLexer:aC,registerLangHandler:aH,sourceDecorator:aG,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();(function(a){a.extend(a.fn,{validate:function(d){if(this.length){var c=a.data(this[0],"validator");if(c){return c}this.attr("novalidate","novalidate");c=new a.validator(d,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){d=this.find("input, button");d.filter(".cancel").click(function(){c.cancelSubmit=true});c.settings.submitHandler&&d.filter(":submit").click(function(){c.submitButton=this});this.submit(function(f){function b(){if(c.settings.submitHandler){if(c.submitButton){var e=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm);c.submitButton&&e.remove();return false}return true}c.settings.debug&&f.preventDefault();if(c.cancelSubmit){c.cancelSubmit=false;return b()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return b()}else{c.focusInvalid();return false}})}return c}else{d&&d.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")}},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var d=true,c=a(this[0].form).validate();this.each(function(){d&=c.element(this)});return d}},removeAttrs:function(e){var c={},f=this;a.each(e.split(/\s/),function(d,b){c[b]=f.attr(b);f.removeAttr(b)});return c},rules:function(i,c){var n=this[0];if(i){var m=a.data(n.form,"validator").settings,l=m.rules,k=a.validator.staticRules(n);switch(i){case"add":a.extend(k,a.validator.normalizeRule(c));l[n.name]=k;if(c.messages){m.messages[n.name]=a.extend(m.messages[n.name],c.messages)}break;case"remove":if(!c){delete l[n.name];return k}var j={};a.each(c.split(/\s/),function(b,d){j[d]=k[d];delete k[d]});return j}}n=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(n),a.validator.classRules(n),a.validator.attributeRules(n),a.validator.staticRules(n)),n);if(n.required){m=n.required;delete n.required;n=a.extend({required:m},n)}return n}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(d,c){this.settings=a.extend(true,{},a.validator.defaults,d);this.currentForm=c;this.init()};a.validator.format=function(d,c){if(arguments.length==1){return function(){var b=a.makeArray(arguments);b.unshift(d);return a.validator.format.apply(this,b)}}if(arguments.length>2&&c.constructor!=Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!=Array){c=[c]}a.each(c,function(f,b){d=d.replace(RegExp("\\{"+f+"\\}","g"),b)});return d};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(b){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b){if(b.name in this.submitted||b==this.lastElement){this.element(b)}},onclick:function(b){if(b.name in this.submitted){this.element(b)}else{b.parentNode.name in this.submitted&&this.element(b.parentNode)}},highlight:function(e,c,f){e.type==="radio"?this.findByName(e.name).addClass(c).removeClass(f):a(e).addClass(c).removeClass(f)},unhighlight:function(e,c,f){e.type==="radio"?this.findByName(e.name).removeClass(c).addClass(f):a(e).removeClass(c).addClass(f)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function e(h){var d=a.data(this[0].form,"validator"),b="on"+h.type.replace(/^validate/,"");d.settings[b]&&d.settings[b].call(d,this[0],h)}this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=this.groups={};a.each(this.settings.groups,function(d,b){a.each(b.split(/\s/),function(j,i){c[i]=d})});var f=this.settings.rules;a.each(f,function(d,b){f[d]=a.validator.normalizeRule(b)});a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e);this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var d=0,c=this.currentElements=this.elements();c[d];d++){this.check(c[d])}return this.valid()},element:function(d){this.lastElement=d=this.validationTargetFor(this.clean(d));this.prepareElement(d);this.currentElements=a(d);var c=this.check(d);if(c){delete this.invalid[d.name]}else{this.invalid[d.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return c},showErrors:function(d){if(d){a.extend(this.errorMap,d);this.errorList=[];for(var c in d){this.errorList.push({message:d[c],element:this.findByName(c)[0]})}this.successList=a.grep(this.successList,function(b){return !(b.name in d)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var c=0,f;for(f in e){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name==b.name}).length==1&&b},elements:function(){var d=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&d.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in c||!d.objectLength(a(this).rules())){return false}return c[this.name]=true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(i){i=this.validationTargetFor(this.clean(i));var c=a(i).rules(),n=false,m;for(m in c){var l={method:m,parameters:c[m]};try{var k=a.validator.methods[m].call(this,i.value.replace(/\r/g,""),i,l.parameters);if(k=="dependency-mismatch"){n=true}else{n=false;if(k=="pending"){this.toHide=this.toHide.not(this.errorsFor(i));return}if(!k){this.formatAndAdd(i,l);return false}}}catch(j){this.settings.debug&&window.console&&console.log("exception occured when checking element "+i.id+", check the '"+l.method+"' method",j);throw j}}if(!n){this.objectLength(c)&&this.successList.push(i);return true}},customMetaMessage:function(e,c){if(a.metadata){var f=this.settings.meta?a(e).metadata()[this.settings.meta]:a(e).metadata();return f&&f.messages&&f.messages[c]}},customMessage:function(e,c){var f=this.settings.messages[e];return f&&(f.constructor==String?f:f[c])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}},defaultMessage:function(d,c){return this.findDefined(this.customMessage(d.name,c),this.customMetaMessage(d,c),!this.settings.ignoreTitle&&d.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+d.name+"</strong>")},formatAndAdd:function(f,c){var h=this.defaultMessage(f,c.method),g=/\$?\{(\d+)\}/g;if(typeof h=="function"){h=h.call(this,c.parameters,f)}else{if(g.test(h)){h=jQuery.format(h.replace(g,"{$1}"),c.parameters)}}this.errorList.push({message:h,element:f});this.errorMap[f.name]=h;this.submitted[f.name]=h},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){for(var d=0;this.errorList[d];d++){var c=this.errorList[d];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass);this.showLabel(c.element,c.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(d=0;this.successList[d];d++){this.showLabel(this.successList[d])}}if(this.settings.unhighlight){d=0;for(c=this.validElements();c[d];d++){this.settings.unhighlight.call(this,c[d],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(e,c){var f=this.errorsFor(e);if(f.length){f.removeClass(this.settings.validClass).addClass(this.settings.errorClass);f.attr("generated")&&f.html(c)}else{f=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(e),generated:true}).addClass(this.settings.errorClass).html(c||"");if(this.settings.wrapper){f=f.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}this.labelContainer.append(f).length||(this.settings.errorPlacement?this.settings.errorPlacement(f,a(e)):f.insertAfter(e))}if(!c&&this.settings.success){f.text("");typeof this.settings.success=="string"?f.addClass(this.settings.success):this.settings.success(f)}this.toShow=this.toShow.add(f)},errorsFor:function(d){var c=this.idOrName(d);return this.errors().filter(function(){return a(this).attr("for")==c})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b)){b=this.findByName(b.name).not(this.settings.ignore)[0]}return b},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(d){var c=this.currentForm;return a(document.getElementsByName(d)).map(function(f,b){return b.form==c&&b.name==d&&b||null})},getLength:function(d,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c)){return this.findByName(c.name).filter(":checked").length}}return d.length},depend:function(d,c){return this.dependTypes[typeof d]?this.dependTypes[typeof d](d,c):true},dependTypes:{"boolean":function(b){return b},string:function(d,c){return !!a(d,c.form).length},"function":function(d,c){return d(c)}},optional:function(b){return !a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(d,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[d.name];if(c&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(d,c){d.constructor==String?this.classRuleSettings[d]=c:a.extend(this.classRuleSettings,d)},classRules:function(d){var c={};(d=a(d).attr("class"))&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])});return c},attributeRules:function(f){var c={};f=a(f);for(var h in a.validator.methods){var g;if(g=h==="required"&&typeof a.fn.prop==="function"?f.prop(h):f.attr(h)){c[h]=g}else{if(f[0].getAttribute("type")===h){c[h]=true}}}c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength;return c},metadataRules:function(d){if(!a.metadata){return{}}var c=a.data(d.form,"validator").settings.meta;return c?a(d).metadata()[c]:a(d).metadata()},staticRules:function(e){var c={},f=a.data(e.form,"validator");if(f.settings.rules){c=a.validator.normalizeRule(f.settings.rules[e.name])||{}}return c},normalizeRules:function(d,c){a.each(d,function(h,g){if(g===false){delete d[h]}else{if(g.param||g.depends){var b=true;switch(typeof g.depends){case"string":b=!!a(g.depends,c.form).length;break;case"function":b=g.depends.call(c,c)}if(b){d[h]=g.param!==undefined?g.param:true}else{delete d[h]}}}});a.each(d,function(f,b){d[f]=a.isFunction(b)?b(c):b});a.each(["minlength","maxlength","min","max"],function(){if(d[this]){d[this]=Number(d[this])}});a.each(["rangelength","range"],function(){if(d[this]){d[this]=[Number(d[this][0]),Number(d[this][1])]}});if(a.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}d.messages&&delete d.messages;return d},normalizeRule:function(d){if(typeof d=="string"){var c={};a.each(d.split(/\s/),function(){c[this]=true});d=c}return d},addMethod:function(e,c,f){a.validator.methods[e]=c;a.validator.messages[e]=f!=undefined?f:a.validator.messages[e];c.length<3&&a.validator.addClassRules(e,a.validator.normalizeRule(e))},methods:{required:function(e,c,f){if(!this.depend(f,c)){return"dependency-mismatch"}switch(c.nodeName.toLowerCase()){case"select":return(e=a(c).val())&&e.length>0;case"input":if(this.checkable(c)){return this.getLength(e,c)>0}default:return a.trim(e).length>0}},remote:function(h,c,l){if(this.optional(c)){return"dependency-mismatch"}var k=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={});k.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=k.message;l=typeof l=="string"&&{url:l}||l;if(this.pending[c.name]){return"pending"}if(k.old===h){return k.valid}k.old=h;var j=this;this.startRequest(c);var i={};i[c.name]=h;a.ajax(a.extend(true,{url:l,mode:"abort",port:"validate"+c.name,dataType:"json",data:i,success:function(e){j.settings.messages[c.name].remote=k.originalMessage;var b=e===true;if(b){var d=j.formSubmitted;j.prepareElement(c);j.formSubmitted=d;j.successList.push(c);j.showErrors()}else{d={};e=e||j.defaultMessage(c,"remote");d[c.name]=k.message=a.isFunction(e)?e(h):e;j.showErrors(d)}k.valid=b;j.stopRequest(c,b)}},l));return"pending"},minlength:function(e,c,f){return this.optional(c)||this.getLength(a.trim(e),c)>=f},maxlength:function(e,c,f){return this.optional(c)||this.getLength(a.trim(e),c)<=f},rangelength:function(e,c,f){e=this.getLength(a.trim(e),c);return this.optional(c)||e>=f[0]&&e<=f[1]},min:function(e,c,f){return this.optional(c)||e>=f},max:function(e,c,f){return this.optional(c)||e<=f},range:function(e,c,f){return this.optional(c)||e>=f[0]&&e<=f[1]},email:function(d,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(d)},url:function(d,c){return this.optional(c)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(d)},date:function(d,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(d))},dateISO:function(d,c){return this.optional(c)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(d)},number:function(d,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(d)},digits:function(d,c){return this.optional(c)||/^\d+$/.test(d)},creditcard:function(h,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9 -]+/.test(h)){return false}var l=0,k=0,j=false;h=h.replace(/\D/g,"");for(var i=h.length-1;i>=0;i--){k=h.charAt(i);k=parseInt(k,10);if(j){if((k*=2)>9){k-=9}}l+=k;j=!j}return l%10==0},accept:function(e,c,f){f=typeof f=="string"?f.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(c)||e.match(RegExp(".("+f+")$","i"))},equalTo:function(e,c,f){f=a(f).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()});return e==f.val()}}});a.format=a.validator.format})(jQuery);(function(f){var e={};if(f.ajaxPrefilter){f.ajaxPrefilter(function(c,b,a){b=c.port;if(c.mode=="abort"){e[b]&&e[b].abort();e[b]=a}})}else{var d=f.ajax;f.ajax=function(b){var a=("port" in b?b:f.ajaxSettings).port;if(("mode" in b?b:f.ajaxSettings).mode=="abort"){e[a]&&e[a].abort();return e[a]=d.apply(this,arguments)}return d.apply(this,arguments)}}})(jQuery);(function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(e,c){function f(b){b=a.event.fix(b);b.type=c;return a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(e,f,true)},teardown:function(){this.removeEventListener(e,f,true)},handler:function(b){arguments[0]=a.event.fix(b);arguments[0].type=c;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{validateDelegate:function(e,c,f){return this.bind(c,function(d){var b=a(d.target);if(b.is(e)){return f.apply(b,arguments)}})}})})(jQuery);(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var c=a.data(this[0],"validator");if(c){return c}this.attr("novalidate","novalidate");c=new a.validator(b,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){var d=this.find("input, button");d.filter(".cancel").click(function(){c.cancelSubmit=true});if(c.settings.submitHandler){d.filter(":submit").click(function(){c.submitButton=this})}this.submit(function(e){if(c.settings.debug){e.preventDefault()}function f(){if(c.settings.submitHandler){if(c.submitButton){var g=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm);if(c.submitButton){g.remove()}return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return f()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return f()}else{c.focusInvalid();return false}})}return c},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var c=true;var b=a(this[0].form).validate();this.each(function(){c&=b.element(this)});return c}},removeAttrs:function(d){var b={},c=this;a.each(d.split(/\s/),function(e,f){b[f]=c.attr(f);c.removeAttr(f)});return b},rules:function(e,b){var g=this[0];if(e){var d=a.data(g.form,"validator").settings;var i=d.rules;var j=a.validator.staticRules(g);switch(e){case"add":a.extend(j,a.validator.normalizeRule(b));i[g.name]=j;if(b.messages){d.messages[g.name]=a.extend(d.messages[g.name],b.messages)}break;case"remove":if(!b){delete i[g.name];return j}var h={};a.each(b.split(/\s/),function(k,l){h[l]=j[l];delete j[l]});return h}}var f=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(g),a.validator.classRules(g),a.validator.attributeRules(g),a.validator.staticRules(g)),g);if(f.required){var c=f.required;delete f.required;f=a.extend({required:c},f)}return f}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+b.value)},filled:function(b){return !!a.trim(""+b.value)},unchecked:function(b){return !b.checked}});a.validator=function(b,c){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(b,c){if(arguments.length==1){return function(){var d=a.makeArray(arguments);d.unshift(b);return a.validator.format.apply(this,d)}}if(arguments.length>2&&c.constructor!=Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!=Array){c=[c]}a.each(c,function(d,e){b=b.replace(new RegExp("\\{"+d+"\\}","g"),e)});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(b,c){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b,c){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b,c){if(b.name in this.submitted||b==this.lastElement){this.element(b)}},onclick:function(b,c){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).addClass(b).removeClass(c)}else{a(d).addClass(b).removeClass(c)}},unhighlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).removeClass(b).addClass(c)}else{a(d).removeClass(b).addClass(c)}}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(e,f){a.each(f.split(/\s/),function(h,g){b[g]=e})});var d=this.settings.rules;a.each(d,function(e,f){d[e]=a.validator.normalizeRule(f)});function c(g){var f=a.data(this[0].form,"validator"),e="on"+g.type.replace(/^validate/,"");f.settings[e]&&f.settings[e].call(f,this[0],g)}a(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",c).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",c);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=(this.currentElements=this.elements());c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.validationTargetFor(this.clean(c));this.lastElement=c;this.prepareElement(c);this.currentElements=a(c);var b=this.check(c);if(b){delete this.invalid[c.name]}else{this.invalid[c.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(c){if(c){a.extend(this.errorMap,c);this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(d){return !(d.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(d){var c=0;for(var b in d){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name==b.name}).length==1&&b},elements:function(){var c=this,b={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&c.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!c.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){return a(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},check:function(c){c=this.validationTargetFor(this.clean(c));var h=a(c).rules();var d=false;for(var i in h){var g={method:i,parameters:h[i]};try{var b=a.validator.methods[i].call(this,c.value.replace(/\r/g,""),c,g.parameters);if(b=="dependency-mismatch"){d=true;continue}d=false;if(b=="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!b){this.formatAndAdd(c,g);return false}}catch(f){this.settings.debug&&window.console&&console.log("exception occured when checking element "+c.id+", check the '"+g.method+"' method",f);throw f}}if(d){return}if(this.objectLength(h)){this.successList.push(c)}return true},customMetaMessage:function(b,d){if(!a.metadata){return}var c=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return c&&c.messages&&c.messages[d]},customMessage:function(c,d){var b=this.settings.messages[c];return b&&(b.constructor==String?b:b[d])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(c,e){var d=this.defaultMessage(c,e.method),b=/\$?\{(\d+)\}/g;if(typeof d=="function"){d=d.call(this,e.parameters,c)}else{if(b.test(d)){d=jQuery.format(d.replace(b,"{$1}"),e.parameters)}}this.errorList.push({message:d,element:c});this.errorMap[c.name]=d;this.submitted[c.name]=d},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){for(var c=0;this.errorList[c];c++){var b=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(var c=0,d=this.validElements();d[c];c++){this.settings.unhighlight.call(this,d[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(c,d){var b=this.errorsFor(c);if(b.length){b.removeClass(this.settings.validClass).addClass(this.settings.errorClass);b.attr("generated")&&b.html(d)}else{b=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:true}).addClass(this.settings.errorClass).html(d||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){this.settings.errorPlacement?this.settings.errorPlacement(b,a(c)):b.insertAfter(c)}}if(!d&&this.settings.success){b.text("");typeof this.settings.success=="string"?b.addClass(this.settings.success):this.settings.success(b)}this.toShow=this.toShow.add(b)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")==b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b)){b=this.findByName(b.name).not(this.settings.ignore)[0]}return b},checkable:function(b){return/radio|checkbox/i.test(b.type)},findByName:function(b){var c=this.currentForm;return a(document.getElementsByName(b)).map(function(d,e){return e.form==c&&e.name==b&&e||null})},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return c.length},depend:function(c,b){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,b):true},dependTypes:{"boolean":function(c,b){return c},string:function(c,b){return !!a(c,b.form).length},"function":function(c,b){return c(b)}},optional:function(b){return !a.validator.methods.required.call(this,a.trim(b.value),b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(c&&this.pendingRequest==0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest==0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,c){b.constructor==String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(c){var d={};var b=a(c).attr("class");b&&a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(d,a.validator.classRuleSettings[this])}});return d},attributeRules:function(c){var e={};var b=a(c);for(var f in a.validator.methods){var d;if(f==="required"&&typeof a.fn.prop==="function"){d=b.prop(f)}else{d=b.attr(f)}if(d){e[f]=d}else{if(b[0].getAttribute("type")===f){e[f]=true}}}if(e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)){delete e.maxlength}return e},metadataRules:function(b){if(!a.metadata){return{}}var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(c){var d={};var b=a.data(c.form,"validator");if(b.settings.rules){d=a.validator.normalizeRule(b.settings.rules[c.name])||{}}return d},normalizeRules:function(c,b){a.each(c,function(f,e){if(e===false){delete c[f];return}if(e.param||e.depends){var d=true;switch(typeof e.depends){case"string":d=!!a(e.depends,b.form).length;break;case"function":d=e.depends.call(b,b);break}if(d){c[f]=e.param!==undefined?e.param:true}else{delete c[f]}}});a.each(c,function(d,e){c[d]=a.isFunction(e)?e(b):e});a.each(["minlength","maxlength","min","max"],function(){if(c[this]){c[this]=Number(c[this])}});a.each(["rangelength","range"],function(){if(c[this]){c[this]=[Number(c[this][0]),Number(c[this][1])]}});if(a.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}if(c.messages){delete c.messages}return c},normalizeRule:function(c){if(typeof c=="string"){var b={};a.each(c.split(/\s/),function(){b[this]=true});c=b}return c},addMethod:function(b,d,c){a.validator.methods[b]=d;a.validator.messages[b]=c!=undefined?c:a.validator.messages[b];if(d.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(c,b,e){if(!this.depend(e,b)){return"dependency-mismatch"}switch(b.nodeName.toLowerCase()){case"select":var d=a(b).val();return d&&d.length>0;case"input":if(this.checkable(b)){return this.getLength(c,b)>0}default:return a.trim(c).length>0}},remote:function(f,c,g){if(this.optional(c)){return"dependency-mismatch"}var d=this.previousValue(c);if(!this.settings.messages[c.name]){this.settings.messages[c.name]={}}d.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=d.message;g=typeof g=="string"&&{url:g}||g;if(this.pending[c.name]){return"pending"}if(d.old===f){return d.valid}d.old=f;var b=this;this.startRequest(c);var e={};e[c.name]=f;a.ajax(a.extend(true,{url:g,mode:"abort",port:"validate"+c.name,dataType:"json",data:e,success:function(i){b.settings.messages[c.name].remote=d.originalMessage;var k=i===true;if(k){var h=b.formSubmitted;b.prepareElement(c);b.formSubmitted=h;b.successList.push(c);b.showErrors()}else{var l={};var j=i||b.defaultMessage(c,"remote");l[c.name]=d.message=a.isFunction(j)?j(f):j;b.showErrors(l)}d.valid=k;b.stopRequest(c,k)}},g));return"pending"},minlength:function(c,b,d){return this.optional(b)||this.getLength(a.trim(c),b)>=d},maxlength:function(c,b,d){return this.optional(b)||this.getLength(a.trim(c),b)<=d},rangelength:function(d,b,e){var c=this.getLength(a.trim(d),b);return this.optional(b)||(c>=e[0]&&c<=e[1])},min:function(c,b,d){return this.optional(b)||c>=d},max:function(c,b,d){return this.optional(b)||c<=d},range:function(c,b,d){return this.optional(b)||(c>=d[0]&&c<=d[1])},email:function(c,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(c)},url:function(c,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},date:function(c,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(c))},dateISO:function(c,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},number:function(c,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(c)},digits:function(c,b){return this.optional(b)||/^\d+$/.test(c)},creditcard:function(f,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9 -]+/.test(f)){return false}var g=0,e=0,b=false;f=f.replace(/\D/g,"");for(var h=f.length-1;h>=0;h--){var d=f.charAt(h);var e=parseInt(d,10);if(b){if((e*=2)>9){e-=9}}g+=e;b=!b}return(g%10)==0},accept:function(c,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||c.match(new RegExp(".("+d+")$","i"))},equalTo:function(c,b,e){var d=a(e).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()});return c==d.val()}}});a.format=a.validator.format})(jQuery);(function(c){var a={};if(c.ajaxPrefilter){c.ajaxPrefilter(function(f,e,g){var d=f.port;if(f.mode=="abort"){if(a[d]){a[d].abort()}a[d]=g}})}else{var b=c.ajax;c.ajax=function(e){var f=("mode" in e?e:c.ajaxSettings).mode,d=("port" in e?e:c.ajaxSettings).port;if(f=="abort"){if(a[d]){a[d].abort()}return(a[d]=b.apply(this,arguments))}return b.apply(this,arguments)}}})(jQuery);(function(a){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){a.each({focus:"focusin",blur:"focusout"},function(c,b){a.event.special[b]={setup:function(){this.addEventListener(c,d,true)},teardown:function(){this.removeEventListener(c,d,true)},handler:function(f){arguments[0]=a.event.fix(f);arguments[0].type=b;return a.event.handle.apply(this,arguments)}};function d(f){f=a.event.fix(f);f.type=b;return a.event.handle.call(this,f)}})}a.extend(a.fn,{validateDelegate:function(d,c,b){return this.bind(c,function(e){var f=a(e.target);if(f.is(d)){return b.apply(f,arguments)}})}})})(jQuery);(function(a){a.fn.alphanumeric=function(j){var b=a(this),g="abcdefghijklmnopqrstuvwxyz",c=a.extend({ichars:"!@#$%^&*()+=[]\\';,/{}|\":<>?~`.- _",nchars:"",allow:""},j),f=c.allow.split(""),d=0,e,h;for(d;d<f.length;d++){if(c.ichars.indexOf(f[d])!=-1){f[d]="\\"+f[d]}}if(c.nocaps){c.nchars+=g.toUpperCase()}if(c.allcaps){c.nchars+=g}c.allow=f.join("|");h=new RegExp(c.allow,"gi");e=(c.ichars+c.nchars).replace(h,"");b.keypress(function(k){var i=String.fromCharCode(!k.charCode?k.which:k.charCode);if(e.indexOf(i)!=-1&&!k.ctrlKey){k.preventDefault()}});b.blur(function(){var k=b.val(),i=0;for(i;i<k.length;i++){if(e.indexOf(k[i])!=-1){b.val("");return false}}return false});return b};a.fn.numeric=function(d){var c="abcdefghijklmnopqrstuvwxyz",b=c.toUpperCase();return this.each(function(){a(this).alphanumeric(a.extend({nchars:c+b},d))})};a.fn.alpha=function(c){var b="1234567890";return this.each(function(){a(this).alphanumeric(a.extend({nchars:b},c))})}})(jQuery);(function(a){a.fn.numeric=function(d,e){if(typeof d==="boolean"){d={decimal:d}}d=d||{};if(typeof d.negative=="undefined"){d.negative=true}var b=(d.decimal===false)?"":d.decimal||".";var c=(d.negative===true)?true:false;e=(typeof(e)=="function"?e:function(){});return this.data("numeric.decimal",b).data("numeric.negative",c).data("numeric.callback",e).keypress(a.fn.numeric.keypress).keyup(a.fn.numeric.keyup).blur(a.fn.numeric.blur)};a.fn.numeric.keypress=function(h){var b=a.data(this,"numeric.decimal");var c=a.data(this,"numeric.negative");var d=h.charCode?h.charCode:h.keyCode?h.keyCode:0;if(d==13&&this.nodeName.toLowerCase()=="input"){return true}else{if(d==13){return false}}var f=false;if((h.ctrlKey&&d==97)||(h.ctrlKey&&d==65)){return true}if((h.ctrlKey&&d==120)||(h.ctrlKey&&d==88)){return true}if((h.ctrlKey&&d==99)||(h.ctrlKey&&d==67)){return true}if((h.ctrlKey&&d==122)||(h.ctrlKey&&d==90)){return true}if((h.ctrlKey&&d==118)||(h.ctrlKey&&d==86)||(h.shiftKey&&d==45)){return true}if(d<48||d>57){var g=a(this).val();if(g.indexOf("-")!==0&&c&&d==45&&(g.length===0||parseInt(a.fn.getSelectionStart(this),10)===0)){return true}if(b&&d==b.charCodeAt(0)&&g.indexOf(b)!=-1){f=false}if(d!=8&&d!=9&&d!=13&&d!=35&&d!=36&&d!=37&&d!=39&&d!=46){f=false}else{if(typeof h.charCode!="undefined"){if(h.keyCode==h.which&&h.which!==0){f=true;if(h.which==46){f=false}}else{if(h.keyCode!==0&&h.charCode===0&&h.which===0){f=true}}}}if(b&&d==b.charCodeAt(0)){if(g.indexOf(b)==-1){f=true}else{f=false}}}else{f=true}return f};a.fn.numeric.keyup=function(r){var l=a(this).value;if(l&&l.length>0){var f=a.fn.getSelectionStart(this);var q=a.data(this,"numeric.decimal");var n=a.data(this,"numeric.negative");if(q!==""&&q!==null){var d=l.indexOf(q);if(d===0){this.value="0"+l}if(d==1&&l.charAt(0)=="-"){this.value="-0"+l.substring(1)}l=this.value}var c=[0,1,2,3,4,5,6,7,8,9,"-",q];var h=l.length;for(var p=h-1;p>=0;p--){var b=l.charAt(p);if(p!==0&&b=="-"){l=l.substring(0,p)+l.substring(p+1)}else{if(p===0&&!n&&b=="-"){l=l.substring(1)}}var g=false;for(var o=0;o<c.length;o++){if(b==c[o]){g=true;break}}if(!g||b==" "){l=l.substring(0,p)+l.substring(p+1)}}var s=l.indexOf(q);if(s>0){for(var m=h-1;m>s;m--){var t=l.charAt(m);if(t==q){l=l.substring(0,m)+l.substring(m+1)}}}this.value=l;a.fn.setSelection(this,f)}};a.fn.numeric.blur=function(){var b=a.data(this,"numeric.decimal");var e=a.data(this,"numeric.callback");var d=this.value;if(d!==""){var c=new RegExp("^\\d+$|^\\d*"+b+"\\d+$");if(!c.exec(d)){e.apply(this)}}};a.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",a.fn.numeric.keypress).unbind("blur",a.fn.numeric.blur)};a.fn.getSelectionStart=function(c){if(c.createTextRange){var b=document.selection.createRange().duplicate();b.moveEnd("character",c.value.length);if(b.text===""){return c.value.length}return c.value.lastIndexOf(b.text)}else{return c.selectionStart}};a.fn.setSelection=function(d,c){if(typeof c=="number"){c=[c,c]}if(c&&c.constructor==Array&&c.length==2){if(d.createTextRange){var b=d.createTextRange();b.collapse(true);b.moveStart("character",c[0]);b.moveEnd("character",c[1]);b.select()}else{if(d.setSelectionRange){d.focus();d.setSelectionRange(c[0],c[1])}}}}})(jQuery);(function(j){var m={className:"autosizejs",append:"",callback:!1},d="hidden",b="border-box",g="lineHeight",p='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',c=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],l="oninput",k="onpropertychange",h=j(p)[0];h.setAttribute(l,"return"),j.isFunction(h[l])||k in h?(j(h).css(g,"99px"),j(h).css(g)==="99px"&&c.push(g),j.fn.autosize=function(a){return a=j.extend({},m,a||{}),this.each(function(){function x(){var v,t,f;e||(e=!0,n.value=A.value+a.append,n.style.overflowY=A.style.overflowY,f=parseInt(A.style.height,10),n.style.width=r.css("width"),n.scrollTop=0,n.scrollTop=90000,v=n.scrollTop,t=d,v>o?(v=o,t="scroll"):v<u&&(v=u),v+=i,A.style.overflowY=t,f!==v&&(A.style.height=v+"px",w&&a.callback.call(A)),setTimeout(function(){e=!1},1))}var A=this,r=j(A),n,u=r.height(),o=parseInt(r.css("maxHeight"),10),e,s=c.length,z,i=0,q=A.value,w=j.isFunction(a.callback);if(r.css("box-sizing")===b||r.css("-moz-box-sizing")===b||r.css("-webkit-box-sizing")===b){i=r.outerHeight()-r.height()}if(r.data("mirror")||r.data("ismirror")){return}n=j(p).data("ismirror",!0).addClass(a.className)[0],z=r.css("resize")==="none"?"none":"horizontal",r.data("mirror",j(n)).css({overflow:d,overflowY:d,wordWrap:"break-word",resize:z}),o=o&&o>0?o:90000;while(s--){n.style[c[s]]=r.css(c[s])}j("body").append(n),k in A?l in A?A[l]=A.onkeyup=x:A[k]=x:(A[l]=x,A.value="",A.value=q),j(window).resize(x),r.bind("autosize",x),x()})}):j.fn.autosize=function(a){return this}})(jQuery);function searchTagLabel(c,b){var a="<div id='div_"+c+"'>"+b+"<a href=\"javascript:closeSpan('div_"+c+"')\"></a></div>";return a}function showStatusMessage(j,c){var b=JSON.parse(c);var f=document.application.username.value;var l="";var a=0;if(b.path){l=b.path;a=b.id}var i="";if(b.link){i=b.link}var d=showUserStatus(b.statusId,j,b.statusUserId,f,b.parentId,b.message,l,i,"statusoverlay",a,"status","","u");var k=b.statusId;if(parseInt(b.parentId)>0){k=b.parentId}if($("#conversation-"+k+" .userprofilecover").length>0){var h=showUserStatus(b.statusId,j,b.statusUserId,f,b.parentId,b.message,l,i,"statusoverlay",a,"conver","","u");$("#conversation-"+k+" .userprofilecover").append(h)}showStatusMessageHtml(d);try{resetParentSize()}catch(g){}}function showUserStatus(b,f,l,i,j,q,p,k,h,a,e,o,d){var m=e+b;var e="#"+m;var c="";if(o.length<1){if($("#application #username").length>0){c=$("#application #username").val()}}var g="<div class='containerContent status "+f+"' id='"+m+"'><div class='userShareCover' onmouseover='showUserShare(\""+e+"\")' onmouseout='hideUserShare(\""+e+"\")'>";if(o.length>1){g="<div class='containerContent status' id='"+m+"'><div class='userShareCover' onmouseover='showUserShare(\""+e+"\")' onmouseout='hideUserShare(\""+e+"\")'>"}if(o.length<1){f=f.toLowerCase();g=g+"<div class='statusRight'>";if(f!=c){g=g+"<div class='userShare'><strong class='arrowUserCard'></strong><img src='/images/defaultprofileimage.jpg' id='profileimage' width='75'/>";g=g+"<div class='userInfoCard'><a class='chat' title='Chat' href='javascript:openMOverlay(\""+f+"\")'><span class='actions'>Chat</span></a>";g=g+"<a href='javascript:openRecoOverlay("+l+',"'+f+'","'+f+"\")' class='recommend' title='Recommend'><span class='actions'>Recommend</span></a>";g=g+"<a href='javascript:openOfflineOverlay("+l+',"'+f+"\")' class='offlinemessage' title='Send Offline Message'><span class='actions'>Offline Message</span></a></div></div>"}}else{g=g+"<a class='heading' href='/company/publicprofile/"+o+"/"+l+"'>@"+o+"</a>";if(d=="c"){g=g+"<div class='userShare'><strong class='arrowUserCard'></strong><img src='/images/defaultprofileimage.jpg' id='profileimage' width='75'/><div class='userInfoCard'><a class='follow' title='Company Updates' href='/company/publicprofile/"+o+"/"+l+"'><span class='actions'>Updates</span></a>";g=g+"<a href='javascript:parent.joinCompanyRoom(\"c_"+l+"\")' class='offlinemessage' title='Contact Company'><span class='actions'>Company Chat</span></a></div></div><div class='statusRight'>"}else{g=g+"<div class='userShare'><strong class='arrowUserCard'></strong><img src='/images/defaultprofileimage.jpg' id='profileimage' width='75'/><div class='userInfoCard'><a class='follow selected' title='Project Updates' href='/project/activities?value=Activities&id="+l+"'><span class='actions'>Updates</span></a>";g=g+"<a href='javascript:parent.doPresenceProject(\"p_"+l+'","member","'+o+"\");' class='offlinemessage' title='Open Project Group Chat'><span class='actions'>Project Chat</span></a></div></div></div><div class='statusRight'>"}}g=g+"<div class='statusMessage'>"+q;if(p&&p.length>0){g=g+"<br/><a href='"+p+"' target='_blank'>"+p+"</a>"}if(k&&k.length>0){g=g+"<br/><a href='"+k+"' target='_blank'>"+k+"</a>"}g=g+"</div><div style='width:100%;float:left;'><div style='float:right;margin-right:5px;'><div class='userShareCover'><a class='heading' href='/profile/publicprofile/"+f+"/"+l+"'>@"+f+"</a></div></div><div class='userBox' style='float:right;'><img src='/images/defaultprofileimage.jpg' id='profileimage' width='30'/></div><div class='bottomPanel clr'><ul class='statusLinks'>";var n=b;if(j&&!isNaN(j)&&parseInt(j)>0){n=j;g=g+"<li><a href='javascript:void(0)'  class='statusConversation' title='View Conversation' onclick='showConversation("+j+")'></a></li>"}if((p&&p.length>0)||(k&&k.length>0)){g=g+"<li><a href='javascript:void(0)' class='statusExpand' title='See Details(Expand)' onclick='showStatusDetails(this,\""+b+'","'+p+'","'+a+'","'+k+'","'+e+'","#'+h+"\")'></a></li>"}g=g+"<li><a href='javascript:void(0)' class='statusReply' title='Reply' onclick='moveReplyBox(\""+e+'","'+n+"\");'></a></li>";if(i==f){g=g+"<li><a href='javascript:void(0)' class='statusDelete' title='Delete' onclick='deleteStatus(\""+e+'","'+b+'","#'+h+"\")'></a></li>"}g=g+"<li><a href='javascript:void(0)' class='statusFavourite' title='Favourite' onclick='markFavoriteStatus(\""+e+'","'+b+'","#'+h+"\",this)'></a></li>";g=g+"</li><li class='statusLoader'><img src='/stylesheets/new/images/ajax-loader.gif' /></li></ul><span class='statusTimeDiff timeAgo'>Just now</span></div></div><div class='messageDetails'></div></div></div></div>";return g};