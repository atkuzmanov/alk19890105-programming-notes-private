var key,browserData,subscription,permissionAllowed,iFrameReference,skipSubscriberReport,subscriberIdCallback,isSubscribed=!1,optinStatus="disable",host="https://sdk.truepush.com/",cdnUrl="https://cdni.truepush.com/",subDomainsHost="tr1.us",fromSubDomain=!1,EnableHTTPLocalTest=!1,version="v2.0.2",defaultKey="BKShchY7I9trZE-r3asUBs3uxgD-BxZGViDdHDsBBj1IOZN9So7Pu2pgEsveYOYlMeaUMYCKCCSnhy8Mo-C5WsU",fromIframe=!1,fromWordpress=!1;!function(t,e,o){"use strict";e.HTTP=new function(){this.post=function(t,e,o,n){var i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.onreadystatechange=function(){if(4==this.readyState){if(200!=this.status)return n("error",null);try{return n(null,JSON.parse(i.responseText))}catch(t){return n(null,i.responseText)}}},i.open("POST",t,!0),o&&o.headers&&(i=function(t,e){for(var o=Object.keys(e),n=0;n<o.length;++n){var i=o[n];t.setRequestHeader(i,e[i])}return t}(i,o.headers)),o&&o.credentials&&(i.withCredentials=!0),i.send(JSON.stringify(e))}}}(0,this);var desktopAllowedVersions={chrome:40,chromium:40,edge:17,firefox:55,safari:11.1,os_x:10.9,opera:37,yandex:19},mobileAllowedVersions={chrome:40,firefox:44,opera:"all"};function isNotifAllowed(){return promise=new Promise(function(t,e){browserData.ua.startsWith("WordPress")&&t(),CheckBrowserCampatability()?isPrivateMode(browserData.browser.name.toLowerCase()).then(function(e){t()}).catch(function(t){e("not allowed")}):e("not allowed")})}function CheckBrowserCampatability(){var t=browserData.browser.name.toLowerCase(),e=browserData.ua.indexOf("Mobile")>=0,o=browserData.browser.major;return e?!!mobileAllowedVersions[t]&&("all"===mobileAllowedVersions[t]||mobileAllowedVersions[t]<=o):"safari"===t?"safari"in window&&"pushNotification"in window.safari:!!desktopAllowedVersions[t]&&("all"===desktopAllowedVersions[t]||desktopAllowedVersions[t]<=o)}function isPrivateMode(t){return promise=new Promise(function(e,o){if("firefox"===t)try{localStorage.test=2,e("done!")}catch(t){o("private browser")}else if("safari"===t){var n=window.sessionStorage;try{n.setItem("someKeyHere","test"),n.removeItem("someKeyHere"),e("done!")}catch(t){t.code===DOMException.QUOTA_EXCEEDED_ERR&&0===n.length&&(console.log(" private safari"),o("private browser"))}}else if("chrome"===t||"opera"===t||"chromium"===t){(i=window.RequestFileSystem||window.webkitRequestFileSystem)||(console.log("FS check failed.."),o("private browser")),i(window.TEMPORARY,100,function(t){e("done!")},function(e){console.log(" private "+t),o("private browser")})}else if("edge"===t)window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?e("done!"):o("private browser");else if("ucbrowser"===t)e("done!");else if("yandex"===t){var i;(i=window.RequestFileSystem||window.webkitRequestFileSystem)||(console.log("FS check failed.."),o("private browser")),i(window.TEMPORARY,100,function(t){e("done!")},function(e){console.log(" private "+t),o("private browser")})}})}!function(t,e,o){"use strict";e.truepushSDK=function(t){function e(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),o=atob(e),n=new Uint8Array(o.length),i=0;i<o.length;++i)n[i]=o.charCodeAt(i);return n}function o(t){return t=(t=(t=t.split("=")[0]).replace(/\+/g,"-")).replace(/\//g,"_")}function n(t){var e=JSON.parse(JSON.stringify(t)),n={};return e.keys||(e.keys={auth:o(btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("auth"))))),p256dh:o(btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("p256dh")))))}),e&&(n.endpoint=e.endpoint,n.keys={},n.keys.p256dh=e.keys.p256dh,n.keys.auth=e.keys.auth),n}function i(t){return!(t&&t.endpoint&&t.endpoint.indexOf("android.")<0)}function s(t,e){if(g.browserData&&g.browserData.browser&&"Safari"===g.browserData.browser.name){var o=window.safari.pushNotification.permission(g.safariDetails.webPushId);o&&"granted"===o.permission&&o.deviceToken&&(t.deviceToken=o.deviceToken)}if(subscription&&(t.subscription=subscription),"optin"==e||"show"==e){var n=localStorage.getItem("tp-uniqueShow");n||(localStorage.setItem("tp-uniqueShow",!0),s({uniqueShow:!0},"uniqueShow"))}(navigator.language||navigator.userLanguage&&"allowed_cookies_personal_data"===window.truepushSDKInfo.userConsent)&&(t.language=navigator.language||navigator.userLanguage),"allowed_cookies_only"===f.userConsent&&(t.deniedPersonalData=!0),function(t,e){var o=localStorage.getItem("tp-visitsData");try{if((o=o?JSON.parse(o):{})[e]){var n=o[e].count?o[e].count:0;try{o[e]=t,o[e].count=++n}catch(t){console.log("visitData error")}}else o[e]=t,o[e].count=1;localStorage.setItem("tp-visitsData",JSON.stringify(o))}catch(t){}}(t,e)}function r(t,e){if(!(e>=2)){var o=localStorage.getItem("tp-visitsData");if(o||t)try{var n=host+"api/v1/updateVisit",i=[];t?i=t:(o=JSON.parse(o),i=a(o));var s={visitsData:i,platformId:g._id};"allowed_cookies_only"===f.userConsent&&(s.deniedPersonalData=!0),HTTP.post(n,s,{credentials:!0,headers:{"Content-Type":"application/json"}},function(t,o){if(t)return e||(e=0),r(i,++e);localStorage.removeItem("tp-visitsData"),t?console.log("error occured ",t):o&&"ERROR"==o.status&&console.log("error occured ",o)})}catch(t){console.log("updatevisit error",t)}}}function a(t){for(var e=[],o=Object.keys(t),n=0;n<o.length;n++)t[o[n]].keyType=o[n],e.push(t[o[n]]);return e}var p,u=["add-tags","remove-tags","get-tags"];function l(){try{p={top_bar:'\n  <div class="horizontalbar_truepush" id="jklm-topbar" style=" top:'+g.customStyles.top+"px; bottom:"+g.customStyles.bottom+'px;">\n    <div class="bar_truepush d-flex" style="background-color:'+g.customStyles.barColor+";color:"+g.customStyles.textColor+';">\n      <div class="optinbar_content">\n        <span class="px-2">'+g.customStyles.barText+'</span>\n        <button class="mr-1" onclick="truepush.subscribeUserByTwoWayOptIn(\'hide\')" style="background-color:'+g.customStyles.buttonColor+"; color:"+g.customStyles.buttonTextColor+';">'+g.customStyles.buttonText+'</button>\n        <b class="px-3 py-2" onclick="truepush.HideOptin(\'close\')" >x</b>\n      </div>\n    </div>\n  </div>\n  ',default2:'\n    <div class="defaultplus_truepush" id="jklm-default2">\n      <div class="overlay-tp"></div>\n      <div class="p-rel defaultplus_box_tp">\n        <div class="defaultplus_content_tp">\n          <a href="javascript:void(0)">\n            <span> Webpush by \n            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 872.6 872.6" style="enable-background:new 0 0 872.6 872.6;width: 24px;height: 24px;vertical-align: middle;" xml:space="preserve">\n            <style type="text/css">\n                .st0{fill:#E54F50;}\n                .st1{fill:#FFFFFF;}\n            </style>\n            <g>\n                <path id="logo_truepush_1_" class="st0" d="M158.4,111.9h556.8c25.2,0,45.6,20.4,45.6,45.6v556.8c0,25.2-20.4,45.6-45.6,45.6H158.4   c-25.2,0-45.6-20.4-45.6-45.6V157.5C112.8,132.3,133.2,111.9,158.4,111.9z"/>\n                <g>\n                    <g id="TruePushLogo_2_" transform="translate(120.000000, 187.000000)">\n                        <g id="Shape_20_">\n                            <path class="st1" d="M159.6,105.7c-8.1,0-15.6,3.1-21.3,8.8c-1.9,1.9-3.4,3.9-4.7,6.2c1.3-2.2,2.9-4.2,4.7-6.1      C144,108.9,151.5,105.8,159.6,105.7l72.8,0.1c0,0,0-0.1,0-0.1H159.6z M251.7,100c0,0.1-0.1,0.2-0.1,0.2c-0.2,0.3-0.3,0.7-0.5,1      l0,0c-2.5,5.1-4,10.3-4.6,15.7c0.6-5.3,2.2-10.6,4.7-15.7L251.7,100C251.8,100,251.8,100,251.7,100      C251.8,100,251.8,100,251.7,100z"/>\n                        </g>\n                        <g id="Shape_9_">\n                            <path class="st1" d="M159.6,105.7c-8.1,0-15.6,3.1-21.3,8.8c-1.9,1.9-3.4,3.9-4.7,6.2c1.3-2.2,2.9-4.2,4.7-6.1      C144,108.9,151.5,105.8,159.6,105.7l72.8,0.1c0,0,0-0.1,0-0.1H159.6z M251.7,100c0,0.1-0.1,0.2-0.1,0.2c-0.2,0.3-0.3,0.7-0.5,1      l0,0c-2.5,5.1-4,10.3-4.6,15.7c0.6-5.3,2.2-10.6,4.7-15.7L251.7,100C251.8,100,251.8,100,251.7,100      C251.8,100,251.8,100,251.7,100z"/>\n                        </g>\n                        <g id="Shape_8_">\n                            <polygon class="st1" points="402,165.3 401.9,143.7 402,143.7     "/>\n                            <polygon class="st1" points="364,135.8 363,213.6 363.9,135.8     "/>\n                        </g>\n                        <g id="Shape_7_">\n                            <path class="st1" d="M280,73.9c1.1-0.5,2.2-1,3.3-1.5C282.2,72.8,281,73.3,280,73.9z M159.6,89.7c-12.3,0-23.9,4.8-32.6,13.5      c-2.7,2.7-5,5.7-6.9,9c1.9-3.2,4.3-6.2,7-8.9C135.7,94.5,147.2,89.8,159.6,89.7l79.6,0.1c0,0,0-0.1,0.1-0.1H159.6z"/>\n                        </g>\n                        <g id="Shape_5_">\n                            <path class="st1" d="M251.7,100c0,0.1-0.1,0.2-0.1,0.2C251.7,100.1,251.7,100.1,251.7,100C251.8,100,251.8,100,251.7,100      C251.8,100,251.8,100,251.7,100z M232.4,105.8c-0.7,2.7-1.3,5.4-1.7,8.1C231.1,111.1,231.7,108.4,232.4,105.8L232.4,105.8z       M251.7,100c0,0.1-0.1,0.2-0.1,0.2C251.7,100.1,251.7,100.1,251.7,100C251.8,100,251.8,100,251.7,100      C251.8,100,251.8,100,251.7,100z M232.4,105.8c-0.7,2.7-1.3,5.4-1.7,8.1C231.1,111.1,231.7,108.4,232.4,105.8L232.4,105.8z       M241.4,86.2c1.5-2.3,3.2-4.5,5-6.5C244.6,81.7,243,83.9,241.4,86.2z M246.5,79.6c1.1-1.3,2.3-2.6,3.5-3.8      C248.8,77.1,247.6,78.3,246.5,79.6z M250,75.8c1.2-1.2,2.5-2.4,3.8-3.6C252.5,73.4,251.2,74.6,250,75.8z M262.2,65.8      c-0.5,0.4-1.1,0.7-1.6,1.1C261.1,66.5,261.6,66.1,262.2,65.8L262.2,65.8z M251.7,100c0,0.1-0.1,0.2-0.1,0.2      C251.7,100.1,251.7,100.1,251.7,100C251.8,100,251.8,100,251.7,100C251.8,100,251.8,100,251.7,100z M232.4,105.8      c-0.7,2.7-1.3,5.4-1.7,8.1C231.1,111.1,231.7,108.4,232.4,105.8L232.4,105.8z M288.1,127.3L288.1,127.3l0-1.1L288.1,127.3z       M386,165.6L386,165.6l0,7.9L386,165.6z M232.4,105.8c-0.7,2.7-1.3,5.4-1.7,8.1C231.1,111.1,231.7,108.4,232.4,105.8      L232.4,105.8z M251.7,100c0,0.1-0.1,0.2-0.1,0.2C251.7,100.1,251.7,100.1,251.7,100C251.8,100,251.8,100,251.7,100      C251.8,100,251.8,100,251.7,100z"/>\n                        </g>\n                        <g id="Shape_4_">\n                            <polygon class="st1" points="272.2,126 272.2,135.6 272.1,135.6 272.1,127.3     "/>\n                            <polygon class="st1" points="386.1,173.5 386,165.6 386,165.6     "/>\n                        </g>\n                        <g id="Shape_1_">\n                            <rect x="159.9" y="127.3" class="st1" width="51.5" height="16.4"/>\n                        </g>\n                        <g id="Shape_2_">\n                            <path class="st1" d="M472.9,49.8H160.7c-23,0-44.8,9-61.1,25.2C83.1,91,74.1,112.6,74.1,135.7c0,47.3,38.8,85.8,86.6,85.8h69.9      l0.6,154.8c0.2,39.6,38.7,71.8,85.9,71.8h0.2c47.3-0.2,85.7-32.7,85.6-72.4l-0.6-154.1h70.6c47.8,0,86.6-38.5,86.6-85.8      C559.5,88.3,520.6,49.8,472.9,49.8z M160.7,205.5c-38.9,0-70.6-31.3-70.6-69.8c0-18.7,7.3-36.2,20.7-49.3      c13.4-13.3,31.1-20.6,49.9-20.6h101.5c-0.5,0.4-1.1,0.7-1.6,1.1c0,0-0.1,0.1-0.1,0.1c0,0,0,0,0,0c-0.6,0.4-1.1,0.8-1.7,1.2      c-0.6,0.4-1.1,0.9-1.7,1.3c-0.5,0.4-1.1,0.8-1.6,1.3c-0.6,0.5-1.1,0.9-1.7,1.4c-1.3,1.2-2.6,2.4-3.8,3.6      c-1.2,1.2-2.4,2.5-3.5,3.8c-1.8,2.1-3.5,4.3-5,6.5c-0.4,0.6-0.8,1.1-1.1,1.7c0,0-0.1,0.1-0.1,0.2c-0.3,0.5-0.7,1.1-1,1.6      c0,0,0,0.1-0.1,0.1h-79.6c-12.3,0-23.9,4.8-32.6,13.4c-2.7,2.7-5,5.7-7,8.9c-0.2,0.3-0.4,0.6-0.6,1c-0.2,0.3-0.4,0.6-0.5,1      c0,0,0,0,0,0c-0.3,0.5-0.5,1-0.8,1.5c-0.1,0.2-0.2,0.3-0.2,0.5c-0.1,0.3-0.3,0.5-0.4,0.8c0,0.1-0.1,0.2-0.1,0.3      c-0.2,0.5-0.4,1-0.6,1.4c-0.2,0.5-0.4,1.1-0.6,1.7c0,0,0,0,0,0c-0.1,0.3-0.2,0.7-0.3,1c-0.1,0.3-0.2,0.7-0.3,1      c0,0.1,0,0.1-0.1,0.2c-0.2,0.7-0.4,1.3-0.6,2c-0.1,0.4-0.2,0.8-0.3,1.1c-0.1,0.4-0.2,0.7-0.2,1.1c-0.1,0.7-0.3,1.5-0.4,2.2      c-0.1,0.8-0.2,1.5-0.3,2.3c-0.1,0.8-0.1,1.5-0.2,2.3c0,0.8-0.1,1.5-0.1,2.3c0,25.3,20.6,45.9,46,45.9h149.2v23.9H160.7z       M232.4,105.8c-0.7,2.7-1.3,5.4-1.7,8.1c-0.1,0.9-0.2,1.8-0.3,2.7c0,0.5-0.1,1-0.1,1.6c0,0.7-0.1,1.4-0.1,2.1c0,0.7,0,1.3,0,2      l0,5.1l0.1,8.4l0.1,29.9h-70.8c-16.5,0-30-13.4-30-29.9c0-0.2,0-0.5,0-0.7c0-0.2,0-0.5,0-0.7c0-0.1,0-0.2,0-0.3      c0-0.4,0-0.9,0.1-1.3c0-0.4,0.1-0.7,0.1-1.1c0,0,0,0,0-0.1c0-0.3,0.1-0.6,0.1-0.9c0-0.1,0-0.2,0-0.3c0-0.3,0.1-0.6,0.2-0.9      c0-0.2,0.1-0.4,0.1-0.6c0.1-0.3,0.1-0.5,0.2-0.7c0-0.1,0.1-0.3,0.1-0.4c0.1-0.3,0.2-0.6,0.3-0.9c0.1-0.2,0.1-0.4,0.2-0.6      c0.1-0.2,0.1-0.4,0.2-0.6c0.2-0.4,0.3-0.9,0.5-1.3c0,0,0-0.1,0-0.1c0.2-0.4,0.4-0.9,0.6-1.3c0.2-0.4,0.4-0.9,0.7-1.3      c0,0,0,0,0,0c0.2-0.3,0.3-0.6,0.5-1c1.3-2.2,2.8-4.3,4.7-6.2c5.6-5.7,13.2-8.8,21.3-8.8L232.4,105.8      C232.4,105.7,232.4,105.7,232.4,105.8L232.4,105.8z M401.9,143.7h68.9v-16.4h-85l0.3,54.3h0l0.2,31.9l0.6,162.1      c0.1,30.9-31.2,56.2-69.6,56.4H317c-38.4,0-69.7-25-69.9-55.8l-0.6-154.7h24.3l-2,144.1c-0.1,8.4,3.4,16.7,9.8,23.3      c8.7,8.9,21.7,14,35.7,14.1c0.3,0,0.6,0,0.9,0c0.6,0,1.2,0,1.8,0h0.1c0.4,0,0.9,0,1.3-0.1c0.5,0,0.9,0,1.4-0.1      c0.2,0,0.5,0,0.7-0.1c0.6,0,1.2-0.1,1.8-0.2c0.1,0,0.2,0,0.3,0c0.5-0.1,0.9-0.1,1.4-0.2c1.4-0.2,2.9-0.5,4.3-0.8      c0.3,0,0.5-0.1,0.7-0.2c0,0,0,0,0.1,0c0.4-0.1,0.9-0.2,1.3-0.4c0.7-0.2,1.5-0.4,2.2-0.6c0.4-0.1,0.8-0.3,1.1-0.4      s0.7-0.3,1.1-0.4c0.8-0.3,1.5-0.6,2.3-0.9c0.5-0.2,0.9-0.4,1.4-0.6c0.2-0.1,0.4-0.2,0.6-0.3s0.4-0.2,0.6-0.3      c0.3-0.1,0.5-0.2,0.7-0.4c0.5-0.3,1-0.5,1.6-0.8c0.5-0.3,1-0.6,1.5-0.9c1.2-0.8,2.4-1.6,3.6-2.5c0.2-0.2,0.5-0.4,0.7-0.5      c0.5-0.4,0.9-0.7,1.3-1.1c0.6-0.5,1.1-1,1.7-1.5c6.6-6.4,10.2-14.5,10.4-22.9l2.1-153.2l0.9-77.8l0.1-8.5h-16l-1,86l-2.1,153.2      c-0.1,5.3-3,9.2-5.5,11.7c-5.8,5.6-15,8.9-24.8,8.7c-9.7-0.1-18.8-3.6-24.4-9.3c-2.4-2.5-5.3-6.6-5.3-11.9l2-144.3h21.9v135.8      h16V213.5l0-86.2h-16l0,38.3h-21l0.4-29.8v-8.5h0l0-1.1c0-0.7,0.1-1.4,0.2-2.1c0-0.2,0.1-0.5,0.1-0.7      c1.5-7.4,8.8-13.6,18.4-16.3c0.6-0.2,1.2-0.3,1.8-0.5c0.2,0,0.4-0.1,0.6-0.1c0.8-0.2,1.5-0.3,2.3-0.4c2-0.3,4-0.5,6.1-0.5h156.3      c16.5,0,30,13.5,30,30c0,16.5-13.5,29.9-30,29.9h-72v-0.3L401.9,143.7z M386.1,173.5l0-7.9h0L386.1,173.5z M472.9,205.5h-70.6      l-0.1-23.9h72c25.4,0,46-20.6,46-45.9c0-25.4-20.6-46-46-46H317.8c-13.8,0-26.1,4.8-34.4,12.4c-0.2,0.2-0.5,0.4-0.7,0.7      c-3.9,3.8-6.9,8.3-8.7,13.2c-0.1,0.3-0.2,0.6-0.3,0.9c-1,2.9-1.5,6-1.5,9.2v9.6l-0.4,30h-25.4l-0.1-30l-0.1-8.3l0-5.1      c0-0.9,0-1.7,0.1-2.6c0-0.4,0-0.9,0.1-1.3c0-0.4,0.1-0.9,0.1-1.3c0.6-5.3,2.2-10.6,4.6-15.7l0,0c0.2-0.3,0.3-0.7,0.5-1      c0-0.1,0.1-0.2,0.1-0.2c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0c0,0,0,0,0,0l0,0c0,0,0,0,0,0v0c0,0,0,0,0,0s0,0,0,0      c0,0,0,0,0-0.1c0.3-0.5,0.5-0.9,0.8-1.4c0-0.1,0.1-0.1,0.1-0.2c0.3-0.4,0.5-0.8,0.8-1.3c0.7-1.1,1.4-2.2,2.2-3.2      c0.2-0.3,0.4-0.6,0.7-0.9c0.2-0.3,0.5-0.6,0.7-0.9c0.2-0.3,0.5-0.6,0.7-0.9c0.2-0.3,0.5-0.6,0.7-0.9v0c0.2-0.3,0.5-0.6,0.8-0.8      c0.3-0.3,0.5-0.6,0.8-0.8c0.5-0.6,1-1.1,1.6-1.6c0.3-0.3,0.5-0.5,0.8-0.8c0.6-0.5,1.1-1.1,1.7-1.6h0c0.6-0.5,1.2-1,1.8-1.5      c0.3-0.3,0.6-0.5,0.9-0.7c0.3-0.3,0.6-0.5,0.9-0.7c0.3-0.3,0.6-0.5,0.9-0.7c0.3-0.2,0.6-0.5,1-0.7c0.6-0.5,1.3-0.9,2-1.3      c0.7-0.4,1.3-0.9,2-1.3c0.4-0.2,0.8-0.5,1.2-0.7c0.3-0.2,0.6-0.4,0.9-0.5c0.3-0.2,0.7-0.4,1-0.5c0.7-0.4,1.4-0.8,2.1-1.1      c0.4-0.2,0.7-0.4,1.1-0.5c1.1-0.5,2.2-1,3.3-1.5c0.8-0.3,1.5-0.6,2.3-0.9c0.4-0.2,0.8-0.3,1.2-0.4c0,0,0.1,0,0.1,0      c0.3-0.1,0.6-0.2,0.9-0.3c0.1,0,0.1,0,0.2-0.1c0.4-0.1,0.8-0.3,1.2-0.4c0.4-0.1,0.8-0.3,1.2-0.4c0.8-0.3,1.6-0.5,2.4-0.7      c0.4-0.1,0.8-0.2,1.2-0.3c0.8-0.2,1.6-0.4,2.5-0.6c0.4-0.1,0.8-0.2,1.2-0.3c0.4-0.1,0.8-0.2,1.3-0.3c0.3-0.1,0.6-0.1,0.9-0.2      c0.5-0.1,1.1-0.2,1.6-0.3c0.4-0.1,0.9-0.2,1.3-0.2c0.6-0.1,1.1-0.2,1.7-0.3c0.3,0,0.5-0.1,0.8-0.1c0.5-0.1,0.9-0.1,1.4-0.2      c0.9-0.1,1.7-0.2,2.6-0.3c0.5,0,1.1-0.1,1.7-0.1c0.3,0,0.7,0,1-0.1c0.8,0,1.7-0.1,2.5-0.1c0.5,0,0.9,0,1.3,0h157.2      c38.9,0,70.6,31.4,70.6,69.9C543.5,174.1,511.8,205.5,472.9,205.5z"/>\n                        </g>\n                    </g>\n                </g>\n            </g>\n            </svg>\n              <span> Truepush </span> \n            </span>\n          </a>\n        </div>\n      </div>\n    </div>\n    ',bell:' \n    <div class="belloptin_truepush" onclick="truepush.subscribeUserByTwoWayOptIn()">\n      <div class="bellcircle_optinicon"  style="background-color:'+g.customStyles.circleColor+'">\n        <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" data-name="Capa 1" viewBox="0 0 58.59 58.59">\n          <title>notification</title>\n          <path d="M43.88,41.21a14.1,14.1,0,0,1-2.38-7.86v-8A12.21,12.21,0,0,0,30.72,13.26v-3H27.79v3A12.32,12.32,0,0,0,17.09,25.5v7.85a14.18,14.18,0,0,1-2.38,7.86l-2.8,4.2H25.15a4.4,4.4,0,0,0,8.29,0H46.68Zm-26.5,1.27A17,17,0,0,0,20,33.35V25.5a9.35,9.35,0,0,1,9.24-9.39h0a9.29,9.29,0,0,1,9.28,9.28v8a17,17,0,0,0,2.64,9.13Z" style="fill:'+g.customStyles.bellColor+'" />\n          <path d="M50.15,19.28l-2.07,2.07a11.25,11.25,0,0,1,.12,15.76l2.1,2a14.17,14.17,0,0,0-.15-19.87Z" style="fill:'+g.customStyles.bellColor+'" />\n          <path d="M46,23.42,43.93,25.5a5.35,5.35,0,0,1,0,7.55l2.1,2.05A8.32,8.32,0,0,0,46,23.42Z" style="fill:'+g.customStyles.bellColor+'" />\n          <path d="M10.51,21.35,8.44,19.28a14.15,14.15,0,0,0-.15,19.87l2.1-2a11.23,11.23,0,0,1,.12-15.76Z" style="fill:'+g.customStyles.bellColor+'" />\n          <path d="M14.66,25.5l-2.08-2.08a8.31,8.31,0,0,0-.06,11.68l2.09-2.05a5.37,5.37,0,0,1-1.53-3.76A5.3,5.3,0,0,1,14.66,25.5Z" style="fill:'+g.customStyles.bellColor+'" />\n        </svg>\n      </div>\n    </div>\n    ',box:'\n    <div class="optinbox_truepush optinbox_truepush_iframe">\n      <div class="d-flex optinbox_tpsection">\n        <div>\n          <h5 style="display:'+(g.customStyles.visibleStatus?"none":"block")+' !important">'+g.customStyles.mainText+'</h5>\n          <h5 style="display:'+(g.customStyles.visibleStatus?"block":"none")+' !important">Allow updates from '+g.websiteURL+"</h5>\n          <p>"+g.customStyles.subText+'</p>\n          <div class="optinbox_tpbuttons">\n            <button type="button" onclick="truepush.HideOptin(\'close\')" class="tp_btn_default">'+g.customStyles.firstBtnText+'</button>\n            <button type="button" onclick="truepush.subscribeUserByTwoWayOptIn(\'hide\')" class="tp_btn_primary">'+g.customStyles.secondBtnText+'</button>\n            <div class="text-center mt-1">\n              <a href="javascript:void(0)">Powered by Truepush</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    ',box2:'\n    <div class="optinbox_truepush optinbox_plus_truepush optinboxplus_truepush_iframe">\n            <div class="optinbox_plus_tpsection">\n                <div class="optinbox_plus_media d-flex">\n                    <div class="optinbox_plus_image">\n                        <img src="'+cdnUrl+"website_icons/"+g.websiteIcon+'" alt="">\n                    </div>\n                    <div class="optinbox_plus_media_body">\n                      <p style="display:'+(g.customStyles.visibleStatus?"none":"block")+' !important">'+g.customStyles.mainText+' </p>\n                      <p style="display:'+(g.customStyles.visibleStatus?"block":"none")+' !important">Allow updates from '+g.websiteURL+' </p>\n                    </div>\n                </div>\n                <div class="optinbox_tpbuttons mt-2 mb-1">\n                    <button type="button" onclick="truepush.HideOptin(\'close\')" class="tp_btn_default">'+g.customStyles.firstBtnText+'</button>\n                    <button type="button" class="tp_btn_primary" onclick="truepush.subscribeUserByTwoWayOptIn(\'hide\')">'+g.customStyles.secondBtnText+'</button>\n                    <div class="text-center mt-2">\n                        <a href="javascript:void(0)">Powered by Truepush</a>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n        ',default:'\n    <button onclick="truepush.HideOptin()">Ã—</button> \n    <p>Notifications by</p>\n    <a href="https://www.truepush.com?medium=default&source=rh5bpz549" target="_blank">TruePush</a>\n    '}}catch(t){console.log(t)}var t=document.createElement("div"),e="";!g.websiteSSL&&browserData&&browserData.browser&&"Safari"!=browserData.browser.name&&(e=" iframe_optin_notifications");try{t.innerHTML='\n<div class="truepush_optin_notifications'+e+'">\n\n</div>\n'}catch(t){console.log("error is ",t)}return document.body.appendChild(t)}function c(t){if(localStorage.removeItem("optinShow"),sessionStorage.removeItem("new_session"),"default"!=t.optInType){o="default+"===(o="box+"===(o=t.optInType)?"box2":o)?"default2":o,document.getElementsByClassName("truepush_optin_notifications")[0].innerHTML=p[o];var e="box+"===t.optInType?"box2":t.optInType;e="default+"===e?"default2":e,t.websiteSSL||y&&y.postMessage({type:"iframeShow"},"*"),setTimeout(function(){if(!t.websiteSSL){var o={type:"optinHeight"},n="";"bell"===e?n="belloptin_truepush":"box2"===e?n="optinbox_truepush optinbox_plus_truepush":"default2"===e?n="defaultplus_truepush":"top_bar"===e?n="bar_truepush d-flex":"box"===e&&(n="optinbox_truepush"),o.height=document.getElementsByClassName(n)[0].clientHeight+5,y&&y.postMessage(o,"*")}"default2"==e&&(-1!=navigator.userAgent.indexOf("Opera")||-1!=navigator.userAgent.indexOf("OPR")?document.getElementById("jklm-default2").className="defaultplus_truepush opera_defaultplus_truepush":-1!=navigator.userAgent.indexOf("Firefox")?document.getElementById("jklm-default2").className="defaultplus_truepush moz_defaultplus_truepush":-1!=navigator.userAgent.indexOf("Edge")&&(document.getElementById("jklm-default2").className="defaultplus_truepush edge_defaultplus_truepush")),t.websiteSSL&&"top_bar"===e&&(""!==t.customStyles.top?document.body.style.cssText="margin-top:"+document.getElementsByClassName("bar_truepush d-flex")[0].clientHeight+"px !important":document.getElementsByTagName("html")[0].style.cssText="margin-bottom:"+document.getElementsByClassName("bar_truepush d-flex")[0].clientHeight+"px !important")},500)}var o;"custom"!==t.optInType&&"bell"!==t.optInType&&"spec_time"===t.optInFrequencyType?localStorage.setItem("optinShow",Date.now()+6e4*t.optInFrequency):"new_session"===t.optInFrequencyType&&sessionStorage.setItem("new_session","true")}this.subscribeUserByTwoWayOptIn=function(t){s({optinClick:!0},"optinClick"),t&&truepush.HideOptin(),P()},this.HideOptin=function(t){"close"==t&&(s({optinIgnore:!0},"optinIgnore"),r(),localStorage.getItem("optinShow")||"custom"===g.optInType||"bell"===g.optInType||"spec_time"!==g.optInFrequencyType||localStorage.setItem("optinShow",Date.now()+6e4*g.optInFrequency),"new_session"===g.optInFrequencyType&&sessionStorage.setItem("new_session","true")),"top_bar"===g.optInType&&(""!==g.customStyles.top?document.body.style.cssText="margin-top: 0px !important":document.getElementsByTagName("html")[0].style.cssText="margin-bottom:0px !important");var e="box+"===g.optInType?"box2":g.optInType;e="default+"===e?"default2":e;var o=document.getElementsByClassName("truepush_optin_notifications")[0];o.className="truepush_optin_notifications d-none",g.websiteSSL||y&&y.postMessage({type:"hideOptin"},"*")};var d,m,f,g,b,h,_,x,y,w={platformDetails:!0,jsFiles:!0},v=Notification.permission,S=!1,I=!0;function T(){var t;"undefined"!=typeof Promise?fromSubDomain?k():((t=document.createElement("style")).innerHTML='@import "https://fonts.googleapis.com/css?family=Nunito+Sans:400,600,700";.d-none{display:none}.d-block{display:block}.d-flex{display:-ms-flexbox!important;display:-webkit-box!important;display:flex!important}.truepush_optin_notifications{font-family:"Nunito Sans", sans-serif!important;border:none!important;font-size:14px;color:#000;margin:0;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.truepush_optin_notifications .text-center{text-align:center!important}.truepush_optin_notifications .text-right{text-align:right!important}.truepush_optin_notifications .text-left{text-align:left!important}.truepush_optin_notifications .justify-content-center{-ms-flex-pack:center!important;-webkit-box-pack:center!important;justify-content:center!important}.truepush_optin_notifications .justify-content-start{-ms-flex-pack:start!important;-webkit-box-pack:start!important;justify-content:flex-start!important}.truepush_optin_notifications .justify-content-end{-ms-flex-pack:end!important;-webkit-box-pack:end!important;justify-content:flex-end!important}.truepush_optin_notifications .color-primary{color:#4a90e2}.truepush_optin_notifications .color-link{color:#4a90e2}.truepush_optin_notifications .p-rel{position:relative}.truepush_optin_notifications .p-abs{position:absolute}.truepush_optin_notifications .m-1{margin:6px!important}.truepush_optin_notifications .m-2{margin:12px!important}.truepush_optin_notifications .m-3{margin:18px!important}.truepush_optin_notifications .m-4{margin:24px!important}.truepush_optin_notifications .m-5{margin:30px!important}.truepush_optin_notifications .mx-1{margin-left:6px!important;margin-right:6px!important}.truepush_optin_notifications .mx-2{margin-left:12px!important;margin-right:12px!important}.truepush_optin_notifications .mx-3{margin-left:18px!important;margin-right:18px!important}.truepush_optin_notifications .mx-4{margin-left:24px!important;margin-right:24px!important}.truepush_optin_notifications .mx-5{margin-left:30px!important;margin-right:30px!important}.truepush_optin_notifications .my-1{margin-top:6px!important;margin-bottom:6px!important}.truepush_optin_notifications .my-2{margin-top:12px!important;margin-bottom:12px!important}.truepush_optin_notifications .my-3{margin-top:18px!important;margin-bottom:18px!important}.truepush_optin_notifications .my-4{margin-top:24px!important;margin-bottom:24px!important}.truepush_optin_notifications .my-5{margin-top:30px!important;margin-bottom:30px!important}.truepush_optin_notifications .mt-1{margin-top:6px!important}.truepush_optin_notifications .mt-2{margin-top:12px!important}.truepush_optin_notifications .mt3{margin-top:18px!important}.truepush_optin_notifications .mt-4{margin-top:24px!important}.truepush_optin_notifications .mt-5{margin-top:30px!important}.truepush_optin_notifications .mb-1{margin-bottom:6px!important}.truepush_optin_notifications .mb-2{margin-bottom:12px!important}.truepush_optin_notifications .mb-3{margin-bottom:18px!important}.truepush_optin_notifications .mb-4{margin-bottom:24px!important}.truepush_optin_notifications .mb-5{margin-bottom:30px!important}.truepush_optin_notifications .ml-1{margin-left:6px!important}.truepush_optin_notifications .ml-2{margin-left:12px!important}.truepush_optin_notifications .ml-3{margin-left:18px!important}.truepush_optin_notifications .ml-4{margin-left:24px!important}.truepush_optin_notifications .ml-5{margin-left:30px!important}.truepush_optin_notifications .mr-1{margin-right:6px!important}.truepush_optin_notifications .mr-2{margin-right:12px!important}.truepush_optin_notifications .mr-3{margin-right:18px!important}.truepush_optin_notifications .mr-4{margin-right:24px!important}.truepush_optin_notifications .mr-5{margin-right:30px!important}.truepush_optin_notifications .p-1{padding:6px!important}.truepush_optin_notifications .p-2{padding:12px!important}.truepush_optin_notifications .p-3{padding:18px!important}.truepush_optin_notifications .p-4{padding:24px!important}.truepush_optin_notifications .p-5{padding:30px!important}.truepush_optin_notifications .px-1{padding-left:6px!important;padding-right:6px!important}.truepush_optin_notifications .px-2{padding-left:12px!important;padding-right:12px!important}.truepush_optin_notifications .px-3{padding-left:18px!important;padding-right:18px!important}.truepush_optin_notifications .px-4{padding-left:24px!important;padding-right:24px!important}.truepush_optin_notifications .px-5{padding-left:30px!important;padding-right:30px!important}.truepush_optin_notifications .py-1{padding-top:6px!important;padding-bottom:6px!important}.truepush_optin_notifications .py-2{padding-top:12px!important;padding-bottom:12px!important}.truepush_optin_notifications .py-3{padding-top:18px!important;padding-bottom:18px!important}.truepush_optin_notifications .py-4{padding-top:24px!important;padding-bottom:24px!important}.truepush_optin_notifications .py-5{padding-top:30px!important;padding-bottom:30px!important}.truepush_optin_notifications .pt-1{padding-top:6px!important}.truepush_optin_notifications .pt-2{padding-top:12px!important}.truepush_optin_notifications .pt-3{padding-top:18px!important}.truepush_optin_notifications .pt-4{padding-top:24px!important}.truepush_optin_notifications .pt-5{padding-top:30px!important}.truepush_optin_notifications .pb-1{padding-bottom:6px!important}.truepush_optin_notifications .pb-2{padding-bottom:12px!important}.truepush_optin_notifications .pb-3{padding-bottom:18px!important}.truepush_optin_notifications .pb-4{padding-bottom:24px!important}.truepush_optin_notifications .pb-5{padding-bottom:30px!important}.truepush_optin_notifications .pl-1{padding-left:6px!important}.truepush_optin_notifications .pl-2{padding-left:12px!important}.truepush_optin_notifications .pl-3{padding-left:18px!important}.truepush_optin_notifications .pl-4{padding-left:24px!important}.truepush_optin_notifications .pl-5{padding-left:30px!important}.truepush_optin_notifications .pr-1{padding-right:6px!important}.truepush_optin_notifications .pr-2{padding-right:12px!important}.truepush_optin_notifications .pr-3{padding-right:18px!important}.truepush_optin_notifications .pr-4{padding-right:24px!important}.truepush_optin_notifications .pr-5{padding-right:30px!important}.truepush_optin_notifications .xy-m{position:absolute;top:50%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.truepush_optin_notifications .y-m{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.truepush_optin_notifications .x-m{position:absolute;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.truepush_optin_notifications .truepush_overlay{width:100%;height:100%;position:fixed;background:#000;background-color:rgba(0, 0, 0, 0.3);z-index:999999;left:0;right:0;margin:auto;top:0;overflow:hidden}.truepush_optin_notifications .defaultplus_truepush{width:800px;height:220px;position:fixed;top:0;left:0;z-index:9999999999999999}.truepush_optin_notifications .defaultplus_truepush:after{content:"";width:100%;height:100%;position:absolute;left:50%;top:50%;-webkit-filter:blur(80px);filter:blur(80px);background-color:rgba(0, 0, 0, 0.4);-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%)}.truepush_optin_notifications .defaultplus_truepush .defaultplus_box_tp{position:relative;z-index:99999999}.truepush_optin_notifications .defaultplus_truepush .defaultplus_box_tp .defaultplus_content_tp{position:absolute;top:20px;right:120px}.truepush_optin_notifications .defaultplus_truepush .defaultplus_box_tp .defaultplus_content_tp a{color:#fff!important;cursor:default!important;font-size:14px;font-weight:800;text-decoration:none;background:none;margin:0;padding:0;text-shadow:2px 2px 8px #7c7c7c;font-family:"Nunito Sans", sans-serif!important}.truepush_optin_notifications .defaultplus_truepush .defaultplus_box_tp .defaultplus_content_tp a:hover{text-decoration:none!important}.truepush_optin_notifications .defaultplus_truepush .defaultplus_box_tp .defaultplus_content_tp a img{vertical-align:middle;margin:0 2px;width:18px}.truepush_optin_notifications .defaultplus_truepush .defaultplus_box_tp .defaultplus_content_tp span{color:#fff!important}.truepush_optin_notifications .moz_defaultplus_truepush{width:960px}.truepush_optin_notifications .moz_defaultplus_truepush .defaultplus_content_tp{right:60px}.truepush_optin_notifications .opera_defaultplus_truepush .defaultplus_content_tp{right:160px}.truepush_optin_notifications .edge_defaultplus_truepush{width:100%!important;height:120px!important;bottom:0!important;left:0!important;top:auto}.truepush_optin_notifications .edge_defaultplus_truepush .defaultplus_content_tp{top:22px!important;left:22%!important}.truepush_optin_notifications .belloptin_truepush{position:fixed;right:25px;bottom:30px;z-index:999999999999!important;padding:2px}.truepush_optin_notifications .belloptin_truepush .bellcircle_optinicon{display:flex!important;display:-webkit-box!important;display:-ms-flexbox!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important;text-align:center!important;-webkit-box-align:center!important;-webkit-box-pack:center!important;width:50px;height:50px;border-radius:50%;background:red;margin:0;padding:0}.truepush_optin_notifications .belloptin_truepush .bellcircle_optinicon svg{width:36px;height:36px;fill:#fff;vertical-align:sub;text-align:center;margin:0;padding:0}.truepush_optin_notifications .horizontalbar_truepush{position:fixed;bottom:0;width:100%;left:0;right:0;margin:0 auto;z-index:9999999}.truepush_optin_notifications .horizontalbar_truepush .bar_truepush{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:10px;background:#000;color:#fff}.truepush_optin_notifications .horizontalbar_truepush .bar_truepush .optinbar_content span{font-size:16px}.truepush_optin_notifications .horizontalbar_truepush .bar_truepush .optinbar_content button{display:inline!important;background-color:#4A90E2;color:#fff;border-width:0!important;padding:8px 12px!important;font-size:14px!important;font-weight:500;border:0;border-radius:2px;margin:0 auto!important;text-transform:none!important;font-family:"Nunito Sans", sans-serif!important}.truepush_optin_notifications .horizontalbar_truepush .bar_truepush .optinbar_content b{font-size:16px;cursor:pointer}.truepush_optin_notifications .optinbox_truepush{position:fixed;top:0;margin:0;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:999999999999!important;text-align:center;width:100%;max-width:360px;height:-webkit-max-content;height:-moz-max-content;height:max-content;background:#ffffff;border:1px solid #f0f0f0;margin:0 auto}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection{padding:12px 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection h5{font-size:16px;font-weight:600;color:#282828;margin:0;line-height:1.4}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection p{font-size:13px;color:#7c7c7c;margin:12px 0;font-weight:500;padding:0;line-height:1.4}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection .optinbox_tpbuttons button{padding:8px 26px;font-size:14px;font-weight:500;margin:6px;border-radius:2px}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection .optinbox_tpbuttons .tp_btn_default{background:#f2f4ff;border:1px solid #ebeefc;-webkit-box-shadow:0 0 8px 0 white;box-shadow:0 0 8px 0 white;color:#3b69ff;margin-left:0}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection .optinbox_tpbuttons .tp_btn_primary{background:#3b69ff;color:#fff;border:1px solid #3b69ff;-webkit-box-shadow:0 0 6px 0 #c0cfff;box-shadow:0 0 6px 0 #c0cfff}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection .optinbox_tpbuttons a{text-decoration:none!important;cursor:default!important;font-size:12px;font-weight:500;padding:0;margin:0;color:#7c7c7c}.truepush_optin_notifications .optinbox_plus_truepush{width:100%;max-width:350px;height:-webkit-max-content;height:-moz-max-content;height:max-content;margin:0 auto;background:#ffffff;border:1px solid #f0f0f0}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection{padding:10px}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_plus_media{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-align:start;-webkit-box-align:start;align-items:flex-start;text-align:left}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_plus_media .optinbox_plus_image{flex:0 0 60px;-webkit-box-flex:0;-ms-flex:0 0 60px;height:60px;margin-right:16px;overflow:hidden}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_plus_media .optinbox_plus_image img{max-width:100%;width:100%;border-radius:2px}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_plus_media .optinbox_plus_media_body{-ms-flex:1;-webkit-box-flex:1;flex:1;word-break:break-all}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_plus_media .optinbox_plus_media_body p{margin:0;font-size:15px;color:#484848;line-height:1.4;font-weight:600;font-family:"Nunito Sans", sans-serif!important}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_tpbuttons button{padding:8px 26px;font-size:14px;font-weight:500;margin:5px;border-radius:2px;font-family:"Nunito Sans", sans-serif!important}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_tpbuttons .tp_btn_default{background:#f2f4ff;border:1px solid #ebeefc;-webkit-box-shadow:0 0 8px 0 white;box-shadow:0 0 8px 0 white;color:#3b69ff;margin-left:0}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_tpbuttons .tp_btn_primary{background:#3b69ff;color:#fff;border:1px solid #3b69ff;-webkit-box-shadow:0 0 6px 0 #c0cfff;box-shadow:0 0 6px 0 #c0cfff}.truepush_optin_notifications .optinbox_plus_truepush .optinbox_plus_tpsection .optinbox_tpbuttons a{text-decoration:none!important;cursor:default!important;font-size:12px;font-weight:500;padding:0;margin:0;color:#7c7c7c;font-family:"Nunito Sans", sans-serif!important}iframe{border:0;background:none;-webkit-box-shadow:none;box-shadow:none}.iframe_optinbell_tp{width:62px;height:62px;position:fixed;bottom:20px;right:30px;z-index:999999999}.iframe_optin_notifications .belloptin_truepush{right:50%!important;bottom:50%!important;-webkit-transform:translateX(50%) translateY(-50%);-ms-transform:translateX(50%) translateY(-50%);transform:translateX(50%) translateY(50%)}.iframe_optinbar_tp{position:fixed;width:100%;bottom:0;left:0;right:0;margin:0 auto;height:50px;z-index:9999999}.iframe_optinbox_tp{position:fixed;max-width:400px;width:100%;padding:0 5px;height:180px;top:0;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:9999999}.optinbox_truepush_iframe{width:100%}.iframe_optinboxplus_tp{max-width:400px;width:100%;top:0;height:160px;position:fixed;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);z-index:9999999}.optinboxplus_truepush_iframe{width:100%}.iframe_optin_notifications .optinbox_truepush_iframe{top:0!important;bottom:auto!important}.iframe_optin_notifications .optinboxplus_truepush_iframe{top:0!important;bottom:auto!important}@media screen and (max-width:574.98px){.truepush_optin_notifications .defaultplus_truepush{width:100%;height:auto;bottom:0;top:auto;left:0}.truepush_optin_notifications .defaultplus_truepush .defaultplus_box_tp .defaultplus_content_tp{top:auto;left:40%;bottom:20px;-webkit-transform:translateX(-40%);-ms-transform:translateX(-40%);transform:translateX(-40%);right:auto}.truepush_optin_notifications .horizontalbar_truepush .bar_truepush .optinbar_content span{display:block;padding:0 0 12px 0!important}.truepush_optin_notifications .optinbox_truepush{top:auto;bottom:0}.iframe_optinbox_tp{top:auto;bottom:0;max-width:360px}.iframe_optinboxplus_tp{top:auto;bottom:0;max-width:360px}}@media screen and (max-width:398.98px){.truepush_optin_notifications .optinbox_truepush{max-width:98%}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection{padding:12px 8px}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection h5{font-size:14px;font-weight:600}.truepush_optin_notifications .optinbox_truepush .optinbox_tpsection p{font-size:12px}.iframe_optin_notifications .optinbox_truepush_iframe{top:auto!important;bottom:0!important}.iframe_optin_notifications .optinboxplus_truepush_iframe{top:auto!important;bottom:0!important}}',document.head.appendChild(t),k()):console.log("browser is not supported")}function k(){isNotifAllowed().then(function(t){setTimeout(function(){m||fromSubDomain||q()},100)}).catch(function(t){console.log("not allowed in browser"),I=!1;try{document.getElementById("jklm-custom").style.display="none"}catch(t){}})}window.addEventListener("message",function(t){var e=t.data;e&&e.optInType?(e.browserInfo&&(browserData=e.browserInfo,delete e.browserInfo),(g=e).userConsent&&(f||(f={}),f.userConsent=g.userConsent,console.log("userConsent iss ",f,f.userConsent)),fromIframe&&T(),fromSubDomain&&(m||q()),fromSubDomain&&(document.getElementById("subDomainTP").innerHTML=" Subscribe to "+g.websiteURL,document.getElementById("requestDiv").style.display="block")):e&&"getSubscriberId"===e.type?function(t){var e={};if("granted"!=Notification.permission)return t(e={error:"Permission not granted",result:null});if(!X())return t(e={error:"Script not yet initialized",result:null});var o=localStorage.getItem("subscriberId");if(o)return t(e={error:null,result:o});V(function(o){if(!o)return t(e={error:"Subscription not found",result:null});var n=host+"api/v1/getSubscriberId",i={userPlatformId:g._id,subscription:o};HTTP.post(n,i,C,function(o,n){return o?t(e={error:"Unable to serve subscriberId",result:null}):"ERROR"==n.status?t(e={error:i.message,result:null}):n&&n.data?(e={error:null,result:n.data},localStorage.setItem("subscriberId",n.data),t(e)):t(e={error:"Unable to serve subscriberId",result:null})})})}(function(t){t.type="subscriberId",y&&y.postMessage(t,"*")}):e&&"subscriberId"===e.type?subscriberIdCallback&&(subscriberIdCallback(e.error,e.result),subscriberIdCallback=null):e&&"hideOptin"===e.type?(document.getElementById("tp-iframe").style.display="none","top_bar"===g.optInType&&(""!==g.customStyles.top?document.body.style.cssText="margin-top: 0px !important":document.getElementsByTagName("html")[0].style.cssText="margin-bottom:0px !important")):e&&"optinHeight"===e.type?(document.getElementById("tp-iframe").style.minHeight=e.height+"px","top_bar"==g.optInType&&(""!==g.customStyles.top?document.body.style.cssText="margin-top:"+e.height+"px !important":document.getElementsByTagName("html")[0].style.cssText="margin-bottom:"+e.height+"px !important")):e&&"iframeShow"===e.type&&(document.getElementById("tp-iframe").style.display="block")},!1),function(){(function(){try{return window.self!==window.top}catch(t){return!0}})()&&(fromIframe=!0,y=window.parent);window.name&&"HTTPSubscriptionWindow"==window.name?fromSubDomain=!0:window.location.href.indexOf(subDomainsHost)>=0&&!fromIframe&&(fromSubDomain=!0)}(),setTimeout(function(){!m&&f&&fromSubDomain&&(x=!0,truepush.Init(f))},5e3);var C={credentials:!0,headers:{"Content-Type":"application/json"}};function R(t){var o,n;key=e(g.vapidDetails.publicKey);var i={scope:"/"};if(!navigator||!navigator.serviceWorker)return console.log("Push notifications are not working in this browser..because serviceWorker not supported.");var s=window.location.protocol+"//"+window.location.hostname;window.location.port&&(s=s+":"+window.location.port),fromSubDomain?(n="/sw-"+version+".js?key="+g._id+"&isAltUrl=true&version="+version,o="/sub-domain/sw-"+version+".js?key="+g._id+"&isAltUrl=true&version="+version):fromWordpress?o=n="/wp-content/plugins/truepush/sw.php?version="+version:(n="/"+f.serviceWorkerFileName+"?truepush&key="+g._id,truepushVersionInfo&&truepushVersionInfo.swJsUrl&&(n+="&version="+truepushVersionInfo.key,n+="&swJSHost="+truepushVersionInfo.swJSHost),f.absoluteSWPath&&(n=s+n,i.scope=s+"/"),o=n),EnableHTTPLocalTest&&(n=o,i=null),f.scriptRegisterEveryTime||!1!==f.scriptRegisterEveryTime?navigator.serviceWorker.register(n,i).then(function(e){navigator.serviceWorker.ready.then(function(e){t(e)})}).catch(function(e){console.log("service worker not ready",e),t(null)}):navigator.serviceWorker.getRegistration(s+"/").then(function(e){e&&e.active&&e.active.scriptURL&&e.active.scriptURL.indexOf("sw.js")>-1?navigator.serviceWorker.ready.then(function(e){t(e)}):navigator.serviceWorker.register(n,i).then(function(e){navigator.serviceWorker.ready.then(function(e){t(e)})}).catch(function(e){console.log("service worker not ready",e),t(null)})})}function D(){"granted"===Notification.permission&&(permissionAllowed=!0,skipSubscriberReport=!0,R(function(t){t?t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:key}).then(function(t){return subscription=n(t),skipSubscriberReport=!0,subscription?void N(subscription,"update"):truepush.subscribeUserVapid(!0)}).catch(function(t){console.log("registration 123 "),console.log("error iss ",t),M()}):console.log("Error in Service Worker registration")})),fromSubDomain?"denied"==Notification.permission?z("block"):(z("request"),truepush.subscribeUserVapid()):"default"===Notification.permission&&"custom"!=g.optInType&&setTimeout(function(){(function(){if("Firefox"===browserData.browser.name){var t=document.cookie.match(new RegExp("(^| )permission=([^;]+)"));return!t}return!0})()&&("default"!=g.optInType?"default+"===g.optInType&&("spec_time"===g.optInFrequencyType&&localStorage.getItem("optinShow")<=Date.now()||!sessionStorage.getItem("new_session")&&"new_session"===g.optInFrequencyType||"page_refresh"===g.optInFrequencyType)?(s({optin:!0,optinType:g.optInType},"optin"),c(g),truepush.subscribeUserVapid(),optinStatus="enable"):("bell"===g.optInType||"spec_time"===g.optInFrequencyType&&localStorage.getItem("optinShow")<=Date.now()||!sessionStorage.getItem("new_session")&&"new_session"===g.optInFrequencyType||"page_refresh"===g.optInFrequencyType)&&(s({optin:!0,optinType:g.optInType},"optin"),c(g),optinStatus="enable"):("spec_time"===g.optInFrequencyType&&localStorage.getItem("optinShow")<=Date.now()||!sessionStorage.getItem("new_session")&&"new_session"===g.optInFrequencyType||"page_refresh"===g.optInFrequencyType)&&(c(g),truepush.subscribeUserVapid()))},1e3*g.optinShowInterval),isSubscribed=!1}function N(t,e,o){if(!E(t,"vapid")&&!i(t)){var n={subscription:t,userPlatformId:g._id,isChrome:function(){if(navigator&&navigator.plugins){for(var t=0;t<navigator.plugins.length;t++)if("Chrome PDF Viewer"==navigator.plugins[t].name)return!0;return!1}return!1}(),language:navigator.language||navigator.userLanguage,optinType:g.optInType};"update"==e&&"Opera"===browserData.browser.name&&"mobile"===browserData.device.type&&(n.forceUpdate=!0),"allowed_cookies_only"===f.userConsent&&(n.deniedPersonalData=!0,delete n.language),"granted"===v&&(n.skipTriggers=!0),skipSubscriberReport&&(n.skipSubscriberReport=!0);var s=localStorage.getItem("tp-visitsData");if(s)try{s=JSON.parse(s),n.visitsData=a(s)}catch(t){}var r=host+"api/v1/upsertSubscriber";HTTP.post(r,n,C,function(e,n){n&&n.data&&(O(t),localStorage.setItem("subscriberId",n.data),localStorage.removeItem("tp-visitsData"),console.log("calling callback ",o),o()),e&&console.log("error while making upsertsubscriber req")})}}function O(t){let e;e="object"==typeof t?JSON.stringify(t):t,localStorage.setItem("subscription",e)}function E(t,e){var o=localStorage.getItem("subscription");return!!localStorage&&("vapid"==e&&(t=JSON.parse(JSON.stringify(t)),t=JSON.stringify(t)),t==o)}function P(){return fromIframe?function(){"enable"!=optinStatus||"box"!==g.optInType&&"bell"!==g.optInType&&"top_bar"!==g.optInType||truepush.HideOptin();var t;t=EnableHTTPLocalTest?window.open(host+"sub-domain/subscribe/"+g._id,"HTTPSubscriptionWindow","location=yes,height=570,width=520,scrollbars=yes,status=yes"):window.open(g.altUrl+"/subscribe/"+g._id,"HTTPSubscriptionWindow","location=yes,height=570,width=520,scrollbars=yes,status=yes");setTimeout(()=>{U(t)},1e3)}():browserData&&browserData.browser&&"Safari"===browserData.browser.name?void A():truepush.subscribeUserVapid()}function z(t){var e=document.getElementById("successDiv"),o=document.getElementById("requestDiv"),n=document.getElementById("blockDiv");e.style.display="none",o.style.display="none",n.style.display="none","request"===t?o.style.display="block":"success"===t?(e.style.display="block",setTimeout(function(){self.close()},4e3)):"block"===t&&(n.style.display="block")}function H(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value}function M(){navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){t?t.unsubscribe().then(function(t){skipSubscriberReport=!1,truepush.subscribeUserVapid(!0)}):console.log("subscription is null")}).catch(function(t){console.log("error while getting ReSubscribe",t)})}).catch(function(t){console.log("error while ready ReSubscribe",t)})}this.subscribeUserVapid=function(t){if(browserData&&browserData.browser&&"Safari"===browserData.browser.name)A();else if((Notification&&"granted"!=Notification.permission||t)&&"serviceWorker"in navigator)try{permissionAllowed||fromSubDomain||s({show:!0,optinType:g.optInType},"show"),Notification.requestPermission().then(function(o){localStorage.setItem("permission",Notification.permission),"enable"==optinStatus&&truepush.HideOptin(),"denied"===Notification.permission?(s({block:!0,optinType:g.optInType},"block"),r(),fromSubDomain&&z("block")):"default"===Notification.permission?("Firefox"===browserData.browser.name&&function(t,e){var o=new Date;o.setTime(o.getTime()+1e4);var n="; expires="+o.toGMTString();document.cookie=t+"="+e+n+"; path=/"}("permission","blocked"),s({ignore:!0,optinType:g.optInType},"ignore"),r()):"granted"===Notification.permission&&(key=e(g.vapidDetails.publicKey),R(function(e){console.log("registered service worker ",e),e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:key}).then(function(o){subscription=n(o),!g.welcomeNotification||t||i(subscription)||skipSubscriberReport||function(t){var e=g.welcomeNotifTemplate;console.log(e);var o={};e.image&&(o.image=cdnUrl+"campaign_images/"+H(e.image));e.icon&&(o.icon=cdnUrl+"website_icons/"+H(e.icon));e.message&&(o.body=H(e.message));e.isActionRequired&&(o.requireInteraction=!0);o.data=g.welcomeNotifTemplate,e.url&&(o.data.link=H(e.url));o.data&&(o.data.skipReport=!0,o.data.isWelcomeNotification=!0,o.data.platformId=g._id);t.showNotification(H(e.title),o);var n={event:"view",platformId:g._id},i=host+"api/v1/welomeNotificationStats";HTTP.post(i,n,C,function(t,e){t&&console.log("error while making upsertsubscriber req")})}(e),"enable"==optinStatus&&truepush.HideOptin(),localStorage.setItem("permission","granted"),fromSubDomain&&z("success"),console.log("saving subscription-----"),N(subscription,"no",function(){console.log("sending unsaved tags"),$()})}).catch(function(t){console.log("catch error ",t),"granted"===Notification.permission&&(console.log("ReSubscribe",JSON.stringify(t)),M())})}))})}catch(t){console.log("error in catch block ",t)}},this.Init=function(t,e){if(f=t,!S||!fromSubDomain||x){S=!0;var o=t.id;if(t.userConsent||(t.userConsent="allowed_cookies_personal_data"),["allowed_cookies_only","denied","allowed_cookies_personal_data"].indexOf(t.userConsent)<0)return m=!0,e?e("Invalid userConsent...!!!"):void 0;if("denied"!==f.userConsent){if(f.serviceWorkerFileName||(f.serviceWorkerFileName="sw.js"),f.serviceWorkerFileName&&-1!=f.serviceWorkerFileName.indexOf("/"))return m=!0,e("Invalid serviceWorkerFileName...!!!");I&&(!fromIframe&&!fromSubDomain||x?L(o,function(t,e){if(e&&"SUCCESS"==e.status){try{if(e.data.browserDetails&&(browserData=e.data.browserDetails,localStorage.setItem("browserInfo",JSON.stringify(e.data.browserDetails)),delete e.data.browserDetails),e.data&&!e.data.sameData?(g=e.data,localStorage.setItem("platformDetails",JSON.stringify(g))):(g=localStorage.getItem("platformDetails"),g=JSON.parse(g)),g&&g.audiencePrime){var o=document.createElement("script");o.type="text/javascript",o.defer=!0,o.async=!0,o.onload=function(){audiencePlay.set(g.audiencePrime.apiKey),audiencePlay.start(g.audiencePrime.source),audiencePlay.end(),audiencePlay.send()},o.src="https://truepush.audienceplay.com/audienceplay.js",document.body.appendChild(o)}F(g)?fromSubDomain?(q(),m=!0):T():(localStorage.removeItem("platformDetails"),console.log("platform data is not valid"))}catch(t){}g&&g.websiteSSL&&(console.log("seinding available reqss",d),Q())}else console.log("Unable to service truepushsdk",t)}):w.platformDetails=!1)}else m=!0}};var L=function(t,e){g&&console.log("platform detils fuond ",g);var o=host+"api/v2/truepushSDKPlatfromDetails",n={};if(n.platformId=t,"v2"===version&&(n.version="v2"),localStorage.getItem("platformDetails")){var i=localStorage.getItem("platformDetails");(i=JSON.parse(i)).updatedDate&&(n.updatedDate=i.updatedDate)}if(!fromIframe&&!fromSubDomain){"allowed_cookies_only"===f.userConsent&&(n.deniedPersonalData=!0),n.visit=!0,localStorage.getItem("visited-tp")||(n.uniqueVisitors=!0,localStorage.setItem("visited-tp",!0));var s=localStorage.getItem("tp-visitsData");if(s)try{s=JSON.parse(s),n.visitsData=a(s)}catch(t){}var r=localStorage.getItem("subscription");r&&(n.subscription=r);var p=localStorage.getItem("browserInfo");p&&(browserData=JSON.parse(p),n.skipBrowserInfo=!0)}HTTP.post(o,n,C,function(t,o){if(I)return t||localStorage.removeItem("tp-visitsData"),g?void 0:e(t,o)})},F=function(t){try{return t.customStyles&&t.customStyles[t.optInType]?t.customStyles=Object.assign({},t.customStyles[t.optInType]):t.customStyles=J[t.optInType],w.platformDetails=!1,"top_bar"===t.optInType&&0!==t.customStyles.top&&0!==t.customStyles.bottom&&(t.customStyles.top=0,t.customStyles.bottom=""),t.websiteSSL||(t.altUrl=function(t){var e,o=/((https|http):\/\/)?(www\.)?([\w_\.-]+)(\/?)/.exec(t.websiteURL);o?(o[4].replace(/\//g,""),e=o[4].replace(/\./g,"-")):e=null;return"https://"+e+"."+subDomainsHost}(t)),t.optinShowInterval||(t.optinShowInterval=0),t&&t.vapidDetails&&t.vapidDetails.publicKey||(t.vapidDetails={publicKey:defaultKey}),t.optInFrequencyType||(t.optInFrequencyType="page_refresh"),t.safariDetails&&t.safariDetails.webPushId&&(d=t.safariDetails.webPushId),!0}catch(t){}};function q(){console.log("inside start process ",g),m||(m=!0,fromSubDomain||l(),fromIframe&&!fromSubDomain?("granted"==Notification.permission||!localStorage||localStorage.getItem("permission")&&"default"!==localStorage.getItem("permission"))&&"default"!==Notification.permission||("custom"!=g.optInType&&setTimeout(function(){"default"!=g.optInType&&"default+"!=g.optInType?("bell"===g.optInType||"spec_time"===g.optInFrequencyType&&localStorage.getItem("optinShow")<=Date.now()||!sessionStorage.getItem("new_session")&&"new_session"===g.optInFrequencyType||"page_refresh"===g.optInFrequencyType)&&(c(g),s({optin:!0,optinType:g.optInType},"optin"),optinStatus="enable"):("spec_time"===g.optInFrequencyType&&localStorage.getItem("optinShow")<=Date.now()||!sessionStorage.getItem("new_session")&&"new_session"===g.optInFrequencyType||"page_refresh"===g.optInFrequencyType)&&(c(g),P())},1e3*g.optinShowInterval),isSubscribed=!1):(g.websiteSSL||fromSubDomain)&&"safari"!=browserData.browser.name.toLowerCase()?D():"safari"==browserData.browser.name.toLowerCase()?function(t){if("all"===t.browserSupport){if(t.safariDetails&&t.safariDetails.webPushId)return!0;console.log("No safari certificate found",t)}else console.log("not opted for safari")}(g)&&function(){if(console.log("webpushId ->>>> ",d),"safari"in window&&"pushNotification"in window.safari){var t=window.safari.pushNotification.permission(d);"default"===t.permission?"custom"!=g.optInType&&setTimeout(function(){"default"!=g.optInType&&"default+"!=g.optInType?("bell"===g.optInType||"spec_time"===g.optInFrequencyType&&localStorage.getItem("optinShow")<=Date.now()||!sessionStorage.getItem("new_session")&&"new_session"===g.optInFrequencyType||"page_refresh"===g.optInFrequencyType)&&(s({optin:!0,optinType:g.optInType},"optin"),c(g),optinStatus="enable"):("spec_time"===g.optInFrequencyType&&localStorage.getItem("optinShow")<=Date.now()||!sessionStorage.getItem("new_session")&&"new_session"===g.optInFrequencyType||"page_refresh"===g.optInFrequencyType)&&(g.optInType="bell",c(g),optinStatus="enable")},1e3*g.optinShowInterval):"granted"===t.permission&&(subscription=t.deviceToken)}}():function(){try{!function(){var t="box+"===g.optInType?"box2":g.optInType;t="default+"===t?"default2":t;var e=document.createElement("div"),o="";"bell"===t?o="iframe_optinbell_tp":"top_bar"===t?o="iframe_optinbar_tp":"box"===t?o="iframe_optinbox_tp":"box2"===t&&(o="iframe_optinboxplus_tp");e.innerHTML="<iframe id='tp-iframe' onload='truepush.Iframloaded()' class="+o+" style='display:none;bottom:"+g.customStyles.bottom+"px;top:"+g.customStyles.top+"px' src='"+g.altUrl+"/subscribe/"+g._id+"?fromIframe=true'>";var n=document.createElement("div");n.innerHTML="<iframe id='tp-iframe' onload='truepush.Iframloaded()' class="+o+" style='display:none;bottom:"+g.customStyles.bottom+"px;top:"+g.customStyles.top+"px' src='"+host+"sub-domain/subscribe/"+g._id+"?fromIframe=true'>",EnableHTTPLocalTest&&(e=n);document.body.appendChild(e)}()}catch(t){}}())}function U(t){console.log("sending data to child "),t&&(g.userConsent=f.userConsent,g.browserInfo=browserData,t.postMessage(g,"*"))}function A(){if("safari"in window&&"pushNotification"in window.safari){var t=window.safari.pushNotification.permission(d);"default"===t.permission&&(localStorage.removeItem("subscription"),localStorage.removeItem("tags"),window.safari.pushNotification.requestPermission(host.slice(0,-1),d,{platformId:g._id},B))}}function B(){truepush.HideOptin();var t=window.safari.pushNotification.permission(d);if(localStorage.setItem("permission",t.permission),"denied"===t.permission)s({block:!0,optinType:g.optInType},"block"),r();else if("granted"===t.permission){g._id,t.deviceToken;subscription=t.deviceToken;!function(t,e){if(console.log("saving sub 1"),E(t,"safari"))return;console.log("2");var o={subscription:t,platformId:g._id,language:navigator.language||navigator.userLanguage,optinType:g.optInType};"allowed_cookies_only"===f.userConsent&&(o.deniedPersonalData=!0,delete o.language);"granted"===v&&(o.skipTriggers=!0);skipSubscriberReport&&(o.skipSubscriberReport=!0);var n=localStorage.getItem("tp-visitsData");if(n)try{n=JSON.parse(n),o.visitsData=a(n)}catch(t){}var i=host+"api/v1/safari/addSubscriber";console.log("3",o),HTTP.post(i,o,C,function(o,n){console.log("add subscriber response ",o,n,n),n&&n.data&&(console.log("subscriberid is available"),O(t),localStorage.setItem("subscriberId",n.data),localStorage.removeItem("tp-visitsData"),console.log("calling callback ",e),e()),o&&console.log("error while making upsertsubscriber req")})}(subscription,function(){console.log("savesubscription response "),$()})}}this.Iframloaded=function(){U(iFrameReference=document.getElementById("tp-iframe").contentWindow)},this.IsInitialized=function(){return!!S},this.GetUserConsent=function(){return f.userConsent};var J={box:{mainText:"Allow updates from truepush.com",firstBtnText:"Not now",subText:"You can turn it off whenever you like.",secondBtnText:"Allow",visibleStatus:"none"},"box+":{mainText:"Allow updates from truepush.com",firstBtnText:"Not now",secondBtnText:"Allow",visibleStatus:"none"},top_bar:{barColor:"#000",textColor:"#fff",buttonColor:"#4A90E2",buttonTextColor:"#fff",barText:"This is optinbar text information",buttonText:"Subscribe to push notifications",top:0,bottom:""},bell:{circleColor:"#F00",bellColor:"#fff"},custom:{backgroundColor:"#4A90E2",textColor:"#fff",buttonText:"Subscribe to push notifications"},default:{},"default+":{}};this.push=function(t){if("function"==typeof t)S||(S=!0,t());else{if(u.indexOf(t.operation)<0)return void console.log("Invalid operation");"add-tags"===t.operation?truepush.addTags(t.data,t.callback):"remove-tags"==t.operation?truepush.removeTags(t.data,t.callback):"get-tags"==t.operation&&truepush.getTags(t.callback)}},this.GetSubscriberId=function(t){if(g&&!g.websiteSSL)return subscriberIdCallback=t,void iFrameReference.postMessage({type:"getSubscriberId"},"*");if("granted"!=Notification.permission)return t("Permission not granted",null);if(!X())return t("Script not yet initialized",null);var e=localStorage.getItem("subscriberId");if(e)return t(null,e);V(function(e){e||t("subscription not found",null);var o=host+"api/v1/getSubscriberId",n={userPlatformId:g._id,subscription:e};HTTP.post(o,n,C,function(e,o){return e?t("Unable to serve subscriberId",null):"ERROR"==o.status?t(n.message,null):o&&o.data?(localStorage.setItem("subscriberId",o.data),t(null,o.data)):t("Unable to serve subscriberId",null)})})};var V=function(t){if("granted"!=Notification.permission)return t(null);if(subscription)return t(subscription);if(fromIframe){var e=localStorage.getItem("subscription");if(e)try{return"object"==typeof e&&(e=n(JSON.parse(e))),t(e)}catch(e){return t(null)}return t(null)}if(browserData&&browserData.browser&&"Safari"===browserData.browser.name){try{var o=window.safari.pushNotification.permission(d)}catch(t){console.log("456",t)}return o.deviceToken?t(o.deviceToken):t(null)}navigator.serviceWorker.ready.then(function(e){e.pushManager.getSubscription().then(function(e){return t(n(e))}).catch(function(e){return t(null)})}).catch(function(e){return t(null)})},j=host+"api/v1/";this.getTags=function(t){W(function(e){if(e)return"INIT-ERROR"===e.statusCode?void(_={callback:t}):t(e,null);tt("get");var o=j+"getTags",n={userPlatformId:g._id};V(function(e){if(console.log("123"),!e)return t({message:"Notification permission not granted.",status:"ERROR",statusCode:"SUBSCRIPTION-ERROR"},null);console.log("subscription iss  ",e),n.subscription=e,HTTP.post(o,n,C,function(e,o){return e?t({message:"Something went wrong. Please try again.",status:"ERROR",statusCode:"INS-ERROR"},null):"ERROR"==o.status?t(o,null):t(null,o)})})})},this.removeTags=function(t,e){W(function(o){if(o)return"INIT-ERROR"===o.statusCode?void(h={tags:t,callback:e}):"SUBSCRIPTION-ERROR"==o.statusCode?void Z(t):e(o,null);G(t),tt("remove");var n=j+"removeTags";if(!t||!t.length)return e({message:"Tags shouldn't be empty.",status:"ERROR",statusCode:"VALIDATION-ERROR"},null);var i={userPlatformId:g._id,tags:t};V(function(t){if(!t)return e({message:"Notification permission not granted.",status:"ERROR",statusCode:"SUBSCRIPTION-ERROR"},null);i.subscription=t,HTTP.post(n,i,C,function(t,o){return t?e({message:"Something went wrong. Please try again.",status:"ERROR",statusCode:"INS-ERROR"},null):"ERROR"==o.status?e(o,null):e(null,o)})})})},this.addTags=function(t,e){W(function(o){if(o)return"INIT-ERROR"===o.statusCode?void(b={tags:t,callback:e}):"SUBSCRIPTION-ERROR"==o.statusCode?(console.log("saving tags into localstorage"),void Y(t)):e(o,null);console.log("IsAllowedToAddTags response ",o,t);var n=j+"addTags";if(!t||!t.length)return e({message:"Tags shouldn't be empty.",status:"ERROR",statusCode:"VALIDATION-ERROR"},null);var i=K(t);if(tt("add"),0===i.length)return e(null,{message:"Tags added successfully.",status:"SUCCESS",status_code:"SUCCESS"});var s={userPlatformId:g._id,tags:i};V(function(o){if(console.log("vapid subscription ",o),!o)return e({message:"Notification permission not granted.",status:"ERROR",statusCode:"SUBSCRIPTION-ERROR"},null);s.subscription=o,HTTP.post(n,s,C,function(o,n){return o?e({message:"Something went wrong. Please try again.",status:"ERROR",statusCode:"INS-ERROR"},null):"ERROR"==n.status?e(n):(localStorage.setItem("tags",JSON.stringify({tags:t})),e(null,n))})})})};var W=function(t){var e={message:"Notification permission not granted.",status:"ERROR",statusCode:"SUBSCRIPTION-ERROR"};return S?"allowed_cookies_personal_data"!=f.userConsent?(e.message="consent denied",e.statusCode="CONSENT-DENIED",t(e)):g?g.websiteSSL?"granted"!=Notification.permission?t(e):t(null):(e.message="Tags support for http websites is not available yet.",e.statusCode="HTTP-ERROR",t(e)):(e.message="platformdetails are not ready",e.statusCode="INIT-ERROR",t(e)):(e.message="truepush sdk is not initialized",e.statusCode="INIT-ERROR",t(e))},X=function(){return!!S&&!!g},K=function(t){var e=localStorage.getItem("tags");if(!e)return t;try{e=(e=JSON.parse(e)).tags;for(var o=[],n=0;n<t.length;n++){var i=e.findIndex(function(e){return e.tagName===t[n].tagName&&e.tagValue===t[n].tagValue&&e.tagType===t[n].tagType});-1==i&&o.push(t[n])}return o}catch(e){return localStorage.removeItem("tags"),t}};const Y=function(t){t=JSON.parse(JSON.stringify(t));let e=localStorage.getItem("unsavedTags");if(e)try{e=JSON.parse(e)}catch(t){console.error(t),e=[]}else e=[];for(let o of e){let e=t.findIndex(t=>t.tagName==o.tagName&&t.tagType==o.tagType&&t.tagValue==o.tagValue);e>=0&&t.splice(e,1)}t=e.concat(t),localStorage.setItem("unsavedTags",JSON.stringify(t))},Z=function(t){t=JSON.parse(JSON.stringify(t));let e=localStorage.getItem("unsavedTags");if(e)try{e=JSON.parse(e)}catch(t){console.error(t),e=[]}else e=[];for(let o of t){let t=e.findIndex(t=>t.tagName==o.tagName&&t.tagType==o.tagType&&t.tagValue==o.tagValue);t>=0&&e.splice(t,1)}e.length>0?localStorage.setItem("unsavedTags",JSON.stringify(e)):localStorage.removeItem("unsavedTags")};var G=function(t){var e=localStorage.getItem("tags");if(e)try{e=(e=JSON.parse(e)).tags;for(var o=[],n=0;n<e.length;n++){var i=t.findIndex(function(t){return t.tagName===e[n].tagName&&t.tagValue===e[n].tagValue});-1==i&&o.push(e[n])}return o.length!=e.length&&o.length>0&&localStorage.setItem("tags",JSON.stringify({tags:o})),void(0==o.length&&localStorage.removeItem("tags"))}catch(e){return localStorage.removeItem("tags"),t}};this.GetPlatformDetails1=function(){return"Testing string"};var Q=function(){b&&(console.log("inside SendAvailableTagRequests. tagsToAdd ",b),truepush.addTags(b.tags,b.callback)),h&&truepush.removeTags(h.tags,h.callback),_&&truepush.getTags(_.callback)};const $=function(){console.log("saving tags to localstorage");let t=localStorage.getItem("unsavedTags");if(t)try{t=JSON.parse(t)}catch(e){console.error(e),t=[]}else t=[];t.length>0&&truepush.addTags(t,function(t,e){console.log(t,e),t||localStorage.removeItem("unsavedTags")})};var tt=function(t){"get"===t&&(_=null),"add"===t&&(b=null),"remove"===t&&(h=null)};"permissions"in navigator&&navigator.permissions.query({name:"notifications"}).then(function(t){t.onchange=function(){"prompt"==t.state&&(localStorage.setItem("permission","default"),localStorage.removeItem("subscriberId"),localStorage.removeItem("subscription"),localStorage.removeItem("tags")),"denied"==t.state&&localStorage.setItem("permission","denied")}})}}(0,this),window.addEventListener("load",function(){var t=[];if(window.truepush&&(t=window.truepush),window.truepush&&window.truepush.Init)console.log("Already initialize truepush.");else{let e;truepush=new truepushSDK;for(let o=0;o<t.length;o++)if("function"==typeof t[o]){e=t[o],t.splice(o,1);break}if(!e)return void console.error("initialization script not found");if(truepush.push(e),t&&0==t.length)return;if("allowed_cookies_personal_data"!=truepush.GetUserConsent())return void console.log("UserConsent for personal data is denied, Can not add tags.");for(let e=0;e<t.length;e++)truepush.push(t[e])}}),loadAppJs=function(){var t=[];if(window.truepush&&(t=window.truepush),window.truepush&&window.truepush.Init)console.log("Already initialize truepush.");else{let e;truepush=new truepushSDK;for(let o=0;o<t.length;o++)if("function"==typeof t[o]){e=t[o],t.splice(o,1);break}if(!e)return void console.error("initialization script not found");if(truepush.push(e),t&&0==t.length)return;if("allowed_cookies_personal_data"!=truepush.GetUserConsent())return void console.log("UserConsent for personal data is denied, Can not add tags.");for(let e=0;e<t.length;e++)truepush.push(t[e])}};