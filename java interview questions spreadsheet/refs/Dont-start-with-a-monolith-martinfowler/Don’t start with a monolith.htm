<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0058)https://martinfowler.com/articles/dont-start-monolith.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="uft-8" name="charset">

<title>Don’t start with a monolith</title>

<meta content="summary_large_image" name="twitter:card">

<meta content="16665197" name="twitter:site:id">

<meta content="Don’t start with a monolith" property="og:title">

<meta content="https://martinfowler.com/articles/dont-start-monolith.html" property="og:url">

<meta content="Don’t start with a monolith if you want to end up with microservices. It’s usually a good idea to follow the YAGNI principle, but a monolith won’t magically contain services waiting to be liberated." property="og:description">

<meta content="https://martinfowler.com/articles/dont-start-monolith/monolith-theory-practice.png" property="og:image">

<meta content="martinfowler.com" property="og:site_name">

<meta content="article" property="og:type">

<meta content="2015-06-09 09:09 EDT" property="og:article:modified_time">

<meta content="@stilkov" name="twitter:creator">

<meta content="width=device-width, initial-scale=1" name="viewport">

<link href="./Don’t start with a monolith_files/article.css" rel="stylesheet" type="text/css">
</head>

<body><header id="banner" style="background-image: url(&quot;/banner.png&quot;); background-repeat: no-repeat">

<div class="name-logo"><a href="https://martinfowler.com/"><img src="./Don’t start with a monolith_files/mf-name-white.png"></a></div>
  <div class="search">
    <!-- SiteSearch Google -->
    <form method="GET" action="https://www.google.com/search">
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="oe" value="UTF-8">
      <input class="field" type="text" name="q" size="15" maxlength="255" value="">
      <button class="button" type="submit" name="btnG" value=" " title="Search">
      <input type="hidden" name="domains" value="martinfowler.com">
      <input type="hidden" name="sitesearch" value=""> 
      <input type="hidden" name="sitesearch" value="martinfowler.com">
    
  </button></form></div>

<div class="menu-button navmenu-button"><a class="icon icon-bars" href="https://martinfowler.com/articles/dont-start-monolith.html#navmenu-bottom"></a></div>

<nav class="top-menu">
<ul>
<li><a class="" href="https://refactoring.com/">Refactoring</a></li>

<li><a class="" href="https://martinfowler.com/agile.html">Agile</a></li>

<li><a class="" href="https://martinfowler.com/architecture">Architecture</a></li>

<li><a class="" href="https://martinfowler.com/aboutMe.html">About</a></li>

<li><a class="tw" href="https://www.thoughtworks.com/">ThoughtWorks</a></li>

<li><a class="icon icon-rss" href="https://martinfowler.com/feed.atom" title="feed"></a></li>

<li><a class="icon icon-twitter" href="https://www.twitter.com/martinfowler" title="twitter stream"></a></li>
</ul>
</nav>
</header>
<nav id="top-navmenu">
<nav class="navmenu">
<div class="nav-head">  <div class="search">
    <!-- SiteSearch Google -->
    <form method="GET" action="https://www.google.com/search">
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="oe" value="UTF-8">
      <input class="field" type="text" name="q" size="15" maxlength="255" value="">
      <button class="button" type="submit" name="btnG" value=" " title="Search">
      <input type="hidden" name="domains" value="martinfowler.com">
      <input type="hidden" name="sitesearch" value=""> 
      <input type="hidden" name="sitesearch" value="martinfowler.com">
    
  </button></form></div>

<div class="closediv">
<span class="close" title="close"></span>
</div>
</div>

<div class="nav-body">
<div class="topics">
<h2>Topics</h2>

<p><a href="https://martinfowler.com/architecture">Architecture</a></p>

<p><a href="https://refactoring.com/">Refactoring</a></p>

<p><a href="https://martinfowler.com/agile.html">Agile</a></p>

<p><a href="https://martinfowler.com/delivery.html">Delivery</a></p>

<p><a href="https://martinfowler.com/microservices">Microservices</a></p>

<p><a href="https://martinfowler.com/data">Data</a></p>

<p><a href="https://martinfowler.com/testing">Testing</a></p>

<p><a href="https://martinfowler.com/dsl.html">DSL</a></p>
</div>

<div class="about">
<h2>about me</h2>

<p><a href="https://martinfowler.com/aboutMe.html">About</a></p>

<p><a href="https://martinfowler.com/books">Books</a></p>

<p><a href="https://martinfowler.com/faq.html">FAQ</a></p>
</div>

<div class="content">
<h2>content</h2>

<p><a href="https://martinfowler.com/videos.html">Videos</a></p>

<p><a href="https://martinfowler.com/tags">Content Index</a></p>

<p><a href="https://martinfowler.com/articles/eurogames">Board Games</a></p>

<p><a href="https://martinfowler.com/photos">Photography</a></p>
</div>

<div class="tw">
<h2>ThoughtWorks</h2>

<p><a href="https://thoughtworks.com/insights">Insights</a></p>

<p><a href="https://thoughtworks.com/careers">Careers</a></p>

<p><a href="https://thoughtworks.com/products">Products</a></p>
</div>

<div class="feeds">
<h2>follow</h2>

<p><a href="https://www.twitter.com/martinfowler">Twitter</a></p>

<p><a href="https://martinfowler.com/feed.atom">RSS</a></p>
</div>
</div>
</nav>
</nav>

<main>
<h1>Don’t start with a monolith</h1>

<p class="subtitle">… when your goal is a microservices
  architecture</p>

<div class="short-front">
<div class="author"><a href="https://www.innoq.com/blog/st/"><img alt="Photo of Stefan Tilkov" src="./Don’t start with a monolith_files/stilkov.jpg" width="80"></a>
<p class="name"><a href="https://www.innoq.com/blog/st/">Stefan Tilkov</a></p>

<div class="bio">
<p>
  Stefan Tilkov is a co-founder and principal consultant at <a href="https://www.innoq.com/">innoQ</a>, a technology
  consulting company with offices in Germany and Switzerland. He
  has been involved in the design of large-scale, distributed
  systems for more than two decades, using a variety of
  technologies and tools ranging from C++ and CORBA over
  J2EE/Java EE and Web Services to REST and Ruby on Rails. He
  has authored numerous articles and a book
  (“<a href="http://rest-http.info/">REST und HTTP</a>”, German),
  and is a frequent speaker at conferences around the world.
      </p>
</div>
</div>

<div class="clear"></div>

<p class="date">09 June 2015</p>
</div>

<div class="paperBody shallow">
<p> In the last few months, I’ve heard repeatedly that the only way to
get to a successful microservices architecture is by starting with a
monolith first. <a href="http://www.codingthearchitecture.com/2014/07/06/distributed_big_balls_of_mud.html">To
paraphrase Simon Brown</a>: If you can’t build a well-structured
monolith, what makes you think you can build a well-structured set of
microservices? The most recent – and, as usual, very convincing –
rendering of this argument comes from <a href="https://martinfowler.com/bliki/MonolithFirst.html">Martin Fowler</a> on this very site. As I had
a chance to comment on an earlier draft, I had some time to think
about this. And I did, especially because I usually find myself in
agreement with him, and some others whose views I typically share
seemed to agree with him, too.
</p>

<p>I’m firmly convinced that starting with a monolith is usually exactly the
wrong thing to do. 
</p>

<p>Starting to build a new system is exactly the time when you should
be thinking about carving it up into pieces. I strongly disagree with
the idea that you can postpone this, as expressed by Sam Newman, again
someone I agree with 95% of the time:
</p>

<blockquote>
<p>I remain convinced that it is much easier to partition an existing,
  "brownfield" system than to do so up front with a new, greenfield
  system. You have more to work with. You have code you can examine,
  you can speak to people who use and maintain the system. You also
  know what 'good' looks like - you have a working system to change,
  making it easier for you to know when you may have got something
  wrong or been too aggressive in your decision making process.</p>

<p class="quote-attribution">-- <a href="http://samnewman.io/blog/2015/04/07/microservices-for-greenfield">Sam Newman</a></p>
</blockquote>

<p>In the majority of cases, it will be awfully hard, if not outright
impossible, to cut up an existing monolith this way. (That doesn’t
mean it’s always impossible, but that’s a topic for a future post.)
There is some common ground in that I agree you should know the domain
you’re building a system for very well before trying to partition
it, though: In my view, the ideal scenario is one where you’re building a
<i>second version</i> of an existing system.
</p>

<p>If you are actually able to build a well-structured monolith, you
probably don’t need microservices in the first place. Which is OK! I
definitely agree with <a href="https://martinfowler.com/bliki/MicroservicePremium.html">Martin</a>: You shouldn’t introduce the
complexity of additional distribution into your system if you don’t
have a very good reason for doing so.
</p>

<p>(So what would be a good reason? There are many, but to me the most
important one is to allow for fast, independent delivery of individual parts within a larger
system. Microservices’ main benefit, in my view, is enabling parallel
development by establishing a hard-to-cross boundary between different
parts of your system. By doing this, you make it hard – or at least
harder – to do the wrong thing: Namely, connecting parts that shouldn’t
be connected, and coupling those that need to be connected too
tightly. In theory, you don’t need microservices for this if you
simply have the discipline to follow clear rules and establish clear
boundaries within your monolithic application; in practice, I’ve found
this to be the case only very rarely.)</p>

<div class="fullPhoto "><img src="./Don’t start with a monolith_files/monolith-theory-practice.svg">
<p class="photoCaption">
  You might be tempted to assume there are a number of nicely
  separated microservices hiding in your monolith, just waiting to be
  extracted. In reality, though, it’s extremely hard to avoid creating
  lots of connections, planned and unplanned. In fact the whole point
  of the microservices approach is to make it hard to create something
  like this.
</p>
</div>

<div class="clear"></div>

<p>
But if you start with a monolith, the parts will become extremely
tightly coupled to each other. <i>That’s the very definition of a
monolith</i>. The parts will rely on features of the platform they all
use. They’ll communicate based on abstractions that are shared because
they all use the same libraries. They’ll communicate using means that
are only available when they are hosted in the same process. And these
are only the technical aspects! Far worse than that, the parts will
(almost) freely share domain objects, rely on the same, shared
persistence model, assume database transactions are readily available
so that there’s no need for compensation … Even the very fact that
it’s easy to refactor things and move them around – all in the
convenience of your IDE’s view of a single project – is what makes it
extremely hard to cut things apart again. It’s <i>extremely</i> hard to
split up an existing monolith into separate pieces.
</p>

<p>
I strongly believe – and experience from a number of our recent projects
confirms this – that when you start out, you should think about
the subsystems you build, <i>and build them as independently of each
other as possible</i>. Of course you should only do this if you believe
your system is large enough to warrant this. If it’s just you and one
of your co-workers building something over the course of a few weeks,
it’s entirely possible that you don’t.
</p>

<p>But starting with an approach where you carve up your system into
smaller parts, and treat each of them as a clearly separated, individual
system with its own development, deployment, and delivery cycle, and (the
possibility of) its own internal architecture, is a very powerful
concept that can help you to deliver a system in the first place.
</p>

<p>So is there any actual experience to back this up? Yes, there are a few systems we’ve been
involved with recently that showed this concept to work – provided you
tolerate the fact that what I’m talking about is more likely bigger
than your typical microservice. The most prominent
one is Otto.de, about which I did
<a href="http://www.infoq.com/presentations/modular-ecommerce-website">a talk together with their tech lead</a>
 (and which you can read about in
 <a href="http://dev.otto.de/2015/09/30/on-monoliths-and-microservices/">this nice write-up by one of their lead architects</a>).
 But there are quite a few others as well, and I remain convinced it’s
 a good idea to start building a system using this approach –
 given you know the domain you’re building for really, really well.
</p>

<p>But there is another lesson to be learned from this discussion, in my
view – and it’s a more general one: Beware of architectural recipes
that are too simple and too obvious. This one – start by carving up
your domain into separate, independent parts – is no
exception. Sometimes a monolith <i>is</i> preferable, sometime it’s
not. If you decide to build things using a microservices approach, you
need to be aware that while it will be a lot easier to make localized
decisions in each individual part, it will be much harder to change
the very boundaries that enable this. Refactoring in the small becomes
easier, refactoring in the large becomes much harder. 
</p>

<p>As is always the case with architecture discussions, there is no way
to get around the fact that you need to make that decision on your
own, in each and every individual case.
</p>

<hr class="bodySep">
</div>

<div class="appendix">
<section id="Acknowledgements">
<h2>Acknowledgements</h2>

<p>I’m thankful for comments Martin Fowler provided for an earlier
    version of this post, as as well as for continuing discussion
    about the topic in the last few weeks. Of course I’m also more
    than happy about him allowing me to publish it on this site. My
    co-workers Daniel Lübke, Oliver Wolf, Alex Heusingfeld, Till
    Schulte-Coerne, Andreas Krüger and Eberhard Wolff also gave
    valuable feedback. Special thanks go to Roman Stranghöner for
    creating the graphics.</p>
</section>

<section id="FurtherReading">
<h2>Further Reading</h2>

<ul>
<li><a href="https://www.innoq.com/blog/st/">Stefan Tilkov's Blog</a></li>

<li>Video of Stefan talking about <a href="https://www.youtube.com/watch?v=HYiLzji7MuY">how to design an
      effective microservice architecture</a>.</li>

<li>Stefan's 2013 blog post on <a href="https://www.innoq.com/blog/st/2013/10/on-monoliths/">monoliths and the importance of
      dividing them early into services</a></li>

<li>Roman Stranghöner's infodeck gives an <a href="https://www.innoq.com/en/links/self-contained-systems-infodeck/">overview
      of structuring an application as microservices</a> (using the
      name self-contained systems, Roman is a colleague of Stefan at innoQ) </li>
</ul>
</section>
</div>
</main>

<nav id="bottom-navmenu" style="display: none;">
<nav class="navmenu">
<div class="nav-head">  <div class="search">
    <!-- SiteSearch Google -->
    <form method="GET" action="https://www.google.com/search">
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="oe" value="UTF-8">
      <input class="field" type="text" name="q" size="15" maxlength="255" value="">
      <button class="button" type="submit" name="btnG" value=" " title="Search">
      <input type="hidden" name="domains" value="martinfowler.com">
      <input type="hidden" name="sitesearch" value=""> 
      <input type="hidden" name="sitesearch" value="martinfowler.com">
    
  </button></form></div>

<div class="closediv">
<span class="close" title="close"></span>
</div>
</div>

<div class="nav-body">
<div class="topics">
<h2>Topics</h2>

<p><a href="https://martinfowler.com/architecture">Architecture</a></p>

<p><a href="https://refactoring.com/">Refactoring</a></p>

<p><a href="https://martinfowler.com/agile.html">Agile</a></p>

<p><a href="https://martinfowler.com/delivery.html">Delivery</a></p>

<p><a href="https://martinfowler.com/microservices">Microservices</a></p>

<p><a href="https://martinfowler.com/data">Data</a></p>

<p><a href="https://martinfowler.com/testing">Testing</a></p>

<p><a href="https://martinfowler.com/dsl.html">DSL</a></p>
</div>

<div class="about">
<h2>about me</h2>

<p><a href="https://martinfowler.com/aboutMe.html">About</a></p>

<p><a href="https://martinfowler.com/books">Books</a></p>

<p><a href="https://martinfowler.com/faq.html">FAQ</a></p>
</div>

<div class="content">
<h2>content</h2>

<p><a href="https://martinfowler.com/videos.html">Videos</a></p>

<p><a href="https://martinfowler.com/tags">Content Index</a></p>

<p><a href="https://martinfowler.com/articles/eurogames">Board Games</a></p>

<p><a href="https://martinfowler.com/photos">Photography</a></p>
</div>

<div class="tw">
<h2>ThoughtWorks</h2>

<p><a href="https://thoughtworks.com/insights">Insights</a></p>

<p><a href="https://thoughtworks.com/careers">Careers</a></p>

<p><a href="https://thoughtworks.com/products">Products</a></p>
</div>

<div class="feeds">
<h2>follow</h2>

<p><a href="https://www.twitter.com/martinfowler">Twitter</a></p>

<p><a href="https://martinfowler.com/feed.atom">RSS</a></p>
</div>
</div>
</nav>
</nav>
<footer id="page-footer">
<div class="tw-logo">
<a href="http://www.thoughtworks.com/">
<img src="./Don’t start with a monolith_files/tw-white-300.png">
</a>
</div>
<div class="menu-button">
<div class="icon-bars navmenu-button"></div>
</div>
<div class="copyright">
<p>© Martin Fowler | <a href="http://www.thoughtworks.com/privacy-policy">Privacy Policy</a> | <a href="https://martinfowler.com/aboutMe.html#disclosures">Disclosures</a></p>
</div>
</footer>
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-17005812-1', 'auto');
ga('send', 'pageview');
</script>
<script async="" src="./Don’t start with a monolith_files/analytics.js"></script>
<!-- End Google Analytics -->



<script src="./Don’t start with a monolith_files/jquery-1.11.3.min.js" type="text/javascript"></script>

<script src="./Don’t start with a monolith_files/mfcom.js" type="text/javascript"></script>


</body></html>