(function(){!function(t){var e;return e=function(){function e(e,i){var s,n,h,o,r,a,l,p,c,d,f,u,k=this;for(this.defaults={closeMark:"Read Less",openMark:"Read More",newLine:!0,lines:2},this.opts=t.extend({},this.defaults,i),this.$el=t(e),l="",n=t("<div>x</div>").css({position:"absolute",left:0,top:"-3000px",visibility:"hidden"}).width(t(this.$el).width()).css(t(this.$el).css(["font-size","font-weight","font-family"])).appendTo("body"),p=t(e).text(),r=n.height(),d=p.split(/\b/),a=!1,this.openMark=t("<a href='#' class='read-more'>"+this.opts.openMark+"</a>"),this.opts.newLine&&this.openMark.css({display:"block"}),this.openMark.bind("click",function(t){return t.preventDefault(),k.show()}),this.closeMark=t("<a href='#' class='read-less'>"+this.opts.closeMark+"</a>").hide(),this.closeMark.bind("click",function(t){return t.preventDefault(),k.close()}),o=f=0,u=d.length-1;0<=u?f<=u:f>=u;o=0<=u?++f:--f)if(s=this.getLines(d,o),this.opts.newLine||(s+=this.opts.openMark),n.text(s),n.height()>this.opts.lines*r){a=!0;break}c=this.getLines(d,o-1),h=p.slice(c.length),this.hidePart=t("<span>").hide().text(h),a&&this.$el.text(c).append(this.openMark).append(this.hidePart).append(this.closeMark),n.remove(),this.$el}return e.prototype.getLines=function(t,e){return t.slice(0,+e+1||9e9).join("").replace(/\W+$/,"")},e.prototype.show=function(){return this.openMark.hide(),this.hidePart.show(),this.closeMark.css("display","block")},e.prototype.close=function(){return this.openMark.show(),this.hidePart.hide(),this.closeMark.hide()},e.prototype.init=function(){var t;return t=this},e}(),t.fn.fewlines=function(i){if(this.length)return this.each(function(){var s;return s=new e(this,i),s.init(),t(this).data("fewlines",s)})}}(jQuery)}).call(this);