(function(f){var c,a,d;var e=[];c={getName:function(){return"Core"},createApp:function(i,g){var h=b();f.extend(h.prototype,a,g);h.prototype.getName=function(){return i};return h},createPlugin:function(i,g){var h=b();f.extend(h.prototype,d,g);h.prototype.getName=function(){return i};return h},getApps:function(){return f.makeArray(e)},getApp:function(g){g=(g||"").toLowerCase();if(typeof e[g]!="undefined"){return e[g]}else{return null}},registerApp:function(g){var h=g.getName().toLowerCase();e.push(g);if(!f.isArray(e[h])){e[h]=[]}e[h].push(g);g.parent=this;if(f.isFunction(g.activate)){g.activate()}},unregisterApp:function(h){var i=h.getName().toLowerCase();var g=f.inArray(h,e);if(g>=0){e=e.splice(g,1)}if(f.isArray(e[i])){g=f.inArray(h,e[i]);if(g>=0){e[i]=e[i].splice(g,1)}}if(f.isFunction(h.deactivate)){h.deactivate()}},broadcast:function(h,g){this._broadcast(this,h,g)},_broadcast:function(h,k,j){for(var g=0;g<e.length;g++){e[g]._cast(h,k,j)}this._cast(h,k,j)}};a={_plugins:[],_messages:{},getPlugin:function(g){g=g.toLowerCase();if(f.isArray(this._plugins[g])){return this._plugins[g]}else{return[]}},registerPlugin:function(i){var g=this;var h=i.getName().toLowerCase();if(f.inArray(i,this._plugins)>=0){return false}this._plugins.push(i);if(!f.isArray(this._plugins[h])){this._plugins[h]=[]}this._plugins[h].push(i);f.each(i._binded_fn,function(k,j){g.registerHandler(k,j)});i.oApp=this;if(f.isFunction(i.activate)){i.activate()}return true},registerHandler:function(g,h){var i=this._messages;g=g.toUpperCase();if(!f.isArray(i[g])){i[g]=[]}i[g].push(h)},cast:function(h,g){return this._cast(this,h,g||[])},broadcast:function(g,i,h){if(this.parent&&this.parent._broadcast){this.parent._broadcast(g,i,h)}},_cast:function(j,g,h){var k,l;var p=this._messages;g=g.toUpperCase();if(p["BEFORE_"+g]||this["API_BEFORE_"+g]){var m=this._cast(j,"BEFORE_"+g,h);if(!m){return}}var o=[],n="API_"+g;if(f.isArray(p[g])){for(k=0;k<p[g].length;k++){o.push(p[g][k](j,h))}}if(o.length<2){o=o[0]}if(p["AFTER_"+g]||this["API_AFTER_"+g]){this._cast(j,"AFTER_"+g,h)}if(!/^(?:AFTER|BEFORE)_/.test(g)){return o}else{return f.isArray(o)?(f.inArray(false,o)<0):((typeof o=="undefined")?true:!!o)}}};d={oApp:null,cast:function(h,g){if(this.oApp&&this.oApp._cast){return this.oApp._cast(this,h,g||[])}},broadcast:function(h,g){if(this.oApp&&this.oApp.broadcast){this.oApp.broadcast(this,mag,g||[])}}};function b(){var g=function(){var h=this;var i=null;if(f.isArray(this._plugins)){this._plugins=[]}if(this._messages){this._messages={}}else{this._binded_fn={}}f.each(this,function(j,m){if(!f.isFunction(m)){return true}if(!/^API_([A-Z0-9_]+)$/.test(j)){return true}var l=RegExp.$1;var k=function(n,o){return h[j](n,o)};if(h._messages){h._messages[l]=[k]}else{h._binded_fn[l]=k}});if(f.isFunction(this.init)){this.init.apply(this,arguments)}};return g}window.xe=f.extend(a,c);window.xe.lang={};f(function(){xe.broadcast("ONREADY")});f(window).load(function(){xe.broadcast("ONLOAD")})})(jQuery);