if (self.CavalryLogger) { CavalryLogger.start_js(["kUidw"]); }

__d("BanzaiCompressionUtils",["FBLogger","SnappyCompressUtil","performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a={compressWad:function(a,c){__p&&__p();if(a.needs_compression!==!0){a.needs_compression=!1;return}var d=(g||(g=b("performanceNow")))(),e=JSON.stringify(a.posts),f;switch(c){case"snappy":f=b("SnappyCompressUtil").compressStringToSnappyBinary(e);break;case"snappy_base64":f=b("SnappyCompressUtil").compressStringToSnappy(e);break;default:break}f!=null&&f.length<e.length?(a.posts=f,a.compression=c,a.snappy_ms=Math.ceil((g||(g=b("performanceNow")))()-d),a.snappy_ms<0&&b("FBLogger")("BanzaiCompressionUtils").warn("Expected positive snappy_ms but got %s",a.snappy_ms)):a.compression="";a.needs_compression=!1},outOfBandsPosts:function(a){__p&&__p();var b=0,c={};for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f.compression==="snappy";if(g){g=new Blob([f.posts],{type:"application/octet-stream"});f.posts=String(b);c["post_"+String(b)]=g;b++}}return c}};e.exports=a}),null);