(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{156:function(e,t,i){"use strict";i.r(t),i.d(t,"MobileMenuOpen",(function(){return s}));class s{constructor(e){this.menu=e,this.html=document.querySelector("html"),this.body=document.querySelector("body"),this.mainMenu=this.body.querySelector(".main-menu"),this.mobileMenuOpener=document.querySelector(".site-header__menu-mobile-opener"),this.subMenus=this.menu.querySelectorAll(".sub-menu"),this.withSubMenus=this.menu.querySelectorAll(".main-menu__item--withSub .main-menu__link"),this.toggle=this.toggle.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this),this._clickOutside=this._clickOutside.bind(this),this._disableBodyScrolling=this._disableBodyScrolling.bind(this),this.isOpen=!1,this.mobileMenuOpener&&this.mobileMenuOpener.addEventListener("click",this.toggle)}toggle(e){e&&e.stopPropagation(),this.isOpen?this.close(e):this.open(e)}_disableBodyScrolling(e){this.mainMenu.clientHeight+64<window.innerHeight&&e.preventDefault()}close(e){e&&e.stopPropagation(),this.isOpen&&(this.html.classList.remove("no-scroll"),this.menu.classList.remove("main-menu--opened"),this.isOpen=!1,this.body.removeEventListener("mousedown",this._clickOutside,!1),this.body.removeEventListener("touchstart",this._clickOutside,!1),this.body.removeEventListener("touchmove",this._disableBodyScrolling),this.subMenus.forEach(e=>e.classList.remove("sub-menu--active")),this.withSubMenus.forEach(e=>e.classList.remove("main-menu__link--active")))}open(e){e&&e.stopPropagation(),this.isOpen||(this.html.classList.add("no-scroll"),this.menu.classList.add("main-menu--opened"),this.isOpen=!0,this.body.addEventListener("mousedown",this._clickOutside,!1),this.body.addEventListener("touchstart",this._clickOutside,!1),this.body.addEventListener("touchmove",this._disableBodyScrolling,{passive:!1}))}_clickOutside(e){if(e&&e.stopPropagation(),!e.path){e.path=[];let t=e.target;for(;t;)t=t.parentElement,t&&e.path.push(t)}e.path.some(e=>e.classList&&e.classList.contains("page__header"))||this.close()}}}}]);