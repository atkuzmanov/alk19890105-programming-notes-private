(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{157:function(t,e,s){"use strict";s.r(e),s.d(e,"Path",(function(){return a})),s.d(e,"MenuItem",(function(){return o}));var i=s(133),h=s.n(i),n=s(124);class a{constructor(t,e,s,i,h,n){this.menuItem=t,this.draw=e,this.step=s,this.classBlock=i,this.size=h,this.options=n,this.timing=300,this.lastDirection="left",this.delay=Math.floor(Math.random()*(this.timing/2)),this.duration=this.timing+Math.floor(Math.random()*this.timing),this.onInit()}onInit(){this._createPath()}updateSize(t){this.size=t,this._updatePath()}onEnter(){this.path.style({"transition-delay":"".concat(this.delay,"ms"),"transition-duration":"".concat(this.duration,"ms"),"stroke-dashoffset":this._strokeOn("center")})}onLeave(){this._isActive?this.path.style("stroke-dashoffset",this._strokeOn("center")):(this.path.style("stroke-dashoffset",null),this.path.attr({"stroke-dashoffset":this._strokeOn(this.lastDirection)}))}afterLeave(){this.path.style({"transition-delay":"".concat(this.delay,"ms"),"transition-duration":"".concat(0,"ms")})}get _length(){return Math.ceil(this.path.length())}get _isActive(){return this.menuItem.element.classList.contains("main-menu__item--active")}_strokeOn(t){const e="left"===t?3:"right"===t?1:2;return this._length*e}_createPath(){this.path=this.draw.path(this._d()),this.path.attr({fill:"none","stroke-width":1,stroke:this.options.color,"stroke-dasharray":this._length,"stroke-dashoffset":this._strokeOn("left")}),this.onLeave(),this.path.addClass("".concat(this.classBlock,"__path"))}_updatePath(t="right"){this.lastDirection=t,this.path.attr({d:this._d(),"stroke-dasharray":this._length,"stroke-dashoffset":this._strokeOn(t)})}_calculatePoints(){const t=this.size.width>this.size.height?this.size.width:this.size.height;return{start:{x:0,y:this.step},end:{x:t,y:this.step-t}}}_d(){const{start:t,end:e}=this._calculatePoints();return"M".concat(t.x," ").concat(t.y," L").concat(e.x," ").concat(e.y)}}class o{constructor(t,e){this.element=t,this.drawer=t.querySelector(".svg-drawer"),this.classBlock=e,this.paths=[],this.size=this._getElementSize(),this.options={angle:45,color:"rgba(255, 78, 0, 0.25)",gap:8,stroke:.1,maxDuration:500},this.lastSide="left",this._onMouseMove=this._onMouseMove.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onResize=this._onResize.bind(this),this.leaveTimeout=null,this.lastResize=null,this.onInit()}onInit(){window.addEventListener("resize",Object(n.a)(this._onResize,200)),window.addEventListener("mousemove",this._onMouseMove),this.element.addEventListener("mouseenter",this._onMouseEnter),this.element.addEventListener("focus",this._onMouseEnter),this.element.addEventListener("mouseleave",this._onMouseLeave),this.element.addEventListener("blur",this._onMouseLeave),this._createSvg()}updateSize(){this.size=this._getElementSize(),this.paths.forEach(t=>t.updateSize(this.size))}updateDirection(t){this.paths.forEach(e=>e._updatePath(t))}_createSvg(){this.draw=h()(this.drawer),this._generatePaths()}_generatePaths(){const t=this.size.width>this.size.height?this.size.width:this.size.height;let e=0;for(;e<2.3*t;)this.paths.push(new a(this,this.draw,e,this.classBlock,this.size,this.options)),e+=this.options.gap+this.options.stroke}_getElementSize(){const{width:t,height:e}=this.element.getBoundingClientRect();return{width:t,height:e}}_onResize(){this.updateSize(),null!==this.lastResize&&(clearTimeout(this.lastResize),this.lastResize=null),this.lastResize=setTimeout(this.updateSize.bind(this),100)}_onMouseMove(t){const e=t.clientX,s=this.element.getBoundingClientRect();e<Math.round(s.left+s.width/2)?"left"!==this.lastSide&&(this.lastSide="left",this.updateDirection(this.lastSide)):"right"!==this.lastSide&&(this.lastSide="right",this.updateDirection(this.lastSide))}_onMouseEnter(){null!==this.leaveTimeout&&(clearTimeout(this.leaveTimeout),this.leaveTimeout=null),this.paths.forEach(t=>t.onEnter())}_onMouseLeave(){this.onLeave(),this.leaveTimeout=setTimeout(()=>{this.paths.forEach(t=>t.afterLeave())},this.options.maxDuration)}onLeave(){this.paths.forEach(t=>t.onLeave())}}}}]);